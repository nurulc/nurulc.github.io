/*! diagramax | (c) Daniel Canedo Ramos | http://duhnnie.net | https://github.com/duhnnie/diagramax/#license */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Diagramax"] = factory();
	else
		root["Diagramax"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvYnl0ZXNUb1V1aWQuanM/MjM2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmZ1bmN0aW9uIGJ5dGVzVG9VdWlkKGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gIHZhciBidGggPSBieXRlVG9IZXg7XG4gIC8vIGpvaW4gdXNlZCB0byBmaXggbWVtb3J5IGlzc3VlIGNhdXNlZCBieSBjb25jYXRlbmF0aW9uOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMTc1I2M0XG4gIHJldHVybiAoW1xuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuICAgIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sXG4gICAgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcbiAgICBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dXG4gIF0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/bytesToUuid.js\n");

/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanM/ZTFmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy91dWlkL2xpYi9ybmctYnJvd3Nlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/lib/rng-browser.js\n");

/***/ }),

/***/ "./node_modules/uuid/v1.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v1.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"./node_modules/uuid/lib/rng-browser.js\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"./node_modules/uuid/lib/bytesToUuid.js\");\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9ub2RlX21vZHVsZXMvdXVpZC92MS5qcz9jNDM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFVBQVUsbUJBQU8sQ0FBQyx5REFBVztBQUM3QixrQkFBa0IsbUJBQU8sQ0FBQyxpRUFBbUI7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUM7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3V1aWQvdjEuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcm5nID0gcmVxdWlyZSgnLi9saWIvcm5nJyk7XG52YXIgYnl0ZXNUb1V1aWQgPSByZXF1aXJlKCcuL2xpYi9ieXRlc1RvVXVpZCcpO1xuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xudmFyIF9jbG9ja3NlcTtcblxuLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7XG5cbiAgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBybmcoKTtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW1xuICAgICAgICBzZWVkQnl0ZXNbMF0gfCAweDAxLFxuICAgICAgICBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XVxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9XG5cbiAgLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTtcblxuICAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG4gIHZhciBkdCA9IChtc2VjcyAtIF9sYXN0TVNlY3MpICsgKG5zZWNzIC0gX2xhc3ROU2VjcykvMTAwMDA7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9XG5cbiAgLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfVxuXG4gIC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1dWlkLnYxKCk6IENhblxcJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjJyk7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG5cbiAgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwO1xuXG4gIC8vIGB0aW1lX2xvd2BcbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjtcblxuICAvLyBgdGltZV9taWRgXG4gIHZhciB0bWggPSAobXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwKSAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjtcblxuICAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmO1xuXG4gIC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7XG5cbiAgLy8gYGNsb2NrX3NlcV9sb3dgXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjtcblxuICAvLyBgbm9kZWBcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmID8gYnVmIDogYnl0ZXNUb1V1aWQoYik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdjE7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/uuid/v1.js\n");

/***/ }),

/***/ "./src/js/behavior/Behavior.js":
/*!*************************************!*\
  !*** ./src/js/behavior/Behavior.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_FunctionProxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/FunctionProxy */ \"./src/js/utils/FunctionProxy.js\");\n\r\n\r\nconst DEFAULTS = Object.freeze({\r\n  disabled: false,\r\n});\r\n\r\nfunction canExecuteBehavior() {\r\n  return !this._disabled && this._target;\r\n}\r\n\r\nclass Behavior {\r\n  constructor(target, settings) {\r\n    this._target = target;\r\n\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    if (settings.disabled) {\r\n      this.disable();\r\n    } else {\r\n      this.enable();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Proxies a function to execute it or not depending on the state of the behavior\r\n   * (enabled/disabled). Bind the necessary methods to avoid the behavior to be executed.\r\n   * Even if a Behavior has more than one method that make the behavior to perform, the majority of\r\n   * times it will be enough by proxy just one method.\r\n   * @protected\r\n   * @param {Function} handler The function to be proxied.\r\n   * @returns {Function} The proxied funciton.\r\n   */\r\n  _bind(handler) {\r\n    return _utils_FunctionProxy__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(handler, canExecuteBehavior, this);\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  end() {}\r\n\r\n  disable() {\r\n    this._disabled = true;\r\n    this.end();\r\n  }\r\n\r\n  enable() {\r\n    this._disabled = false;\r\n  }\r\n\r\n  getTarget() {\r\n    return this._target;\r\n  }\r\n\r\n  isDisabled() {\r\n    return this._disabled;\r\n  }\r\n\r\n  // TODO: this method is a workaround. Since most of behaviors functionality is based on its target's HTML this method\r\n  // should be called from the target when its HTML is created.  If in the future we find a way to detect that an\r\n  // object has created its HTML this method could be removed.\r\n  attach() {\r\n    this.enable();\r\n  }\r\n\r\n  /**\r\n   * Remove the behavior permanently from its target.\r\n   */\r\n  detach() {\r\n    this.disable();\r\n    this._target = null;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Behavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQmVoYXZpb3IuanM/NzQwZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQW1EOztBQUVuRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsU0FBUztBQUN0QixlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLFdBQVcsNERBQWE7QUFDeEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0JlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZ1bmN0aW9uUHJveHkgZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25Qcm94eSc7XHJcblxyXG5jb25zdCBERUZBVUxUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIGRpc2FibGVkOiBmYWxzZSxcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjYW5FeGVjdXRlQmVoYXZpb3IoKSB7XHJcbiAgcmV0dXJuICF0aGlzLl9kaXNhYmxlZCAmJiB0aGlzLl90YXJnZXQ7XHJcbn1cclxuXHJcbmNsYXNzIEJlaGF2aW9yIHtcclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHNldHRpbmdzKSB7XHJcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XHJcblxyXG4gICAgc2V0dGluZ3MgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRTLFxyXG4gICAgICAuLi5zZXR0aW5ncyxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHNldHRpbmdzLmRpc2FibGVkKSB7XHJcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5lbmFibGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb3hpZXMgYSBmdW5jdGlvbiB0byBleGVjdXRlIGl0IG9yIG5vdCBkZXBlbmRpbmcgb24gdGhlIHN0YXRlIG9mIHRoZSBiZWhhdmlvclxyXG4gICAqIChlbmFibGVkL2Rpc2FibGVkKS4gQmluZCB0aGUgbmVjZXNzYXJ5IG1ldGhvZHMgdG8gYXZvaWQgdGhlIGJlaGF2aW9yIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAqIEV2ZW4gaWYgYSBCZWhhdmlvciBoYXMgbW9yZSB0aGFuIG9uZSBtZXRob2QgdGhhdCBtYWtlIHRoZSBiZWhhdmlvciB0byBwZXJmb3JtLCB0aGUgbWFqb3JpdHkgb2ZcclxuICAgKiB0aW1lcyBpdCB3aWxsIGJlIGVub3VnaCBieSBwcm94eSBqdXN0IG9uZSBtZXRob2QuXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIGZ1bmN0aW9uIHRvIGJlIHByb3hpZWQuXHJcbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgcHJveGllZCBmdW5jaXRvbi5cclxuICAgKi9cclxuICBfYmluZChoYW5kbGVyKSB7XHJcbiAgICByZXR1cm4gRnVuY3Rpb25Qcm94eS5nZXQoaGFuZGxlciwgY2FuRXhlY3V0ZUJlaGF2aW9yLCB0aGlzKTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgZW5kKCkge31cclxuXHJcbiAgZGlzYWJsZSgpIHtcclxuICAgIHRoaXMuX2Rpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuZW5kKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGUoKSB7XHJcbiAgICB0aGlzLl9kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZ2V0VGFyZ2V0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICB9XHJcblxyXG4gIGlzRGlzYWJsZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiB0aGlzIG1ldGhvZCBpcyBhIHdvcmthcm91bmQuIFNpbmNlIG1vc3Qgb2YgYmVoYXZpb3JzIGZ1bmN0aW9uYWxpdHkgaXMgYmFzZWQgb24gaXRzIHRhcmdldCdzIEhUTUwgdGhpcyBtZXRob2RcclxuICAvLyBzaG91bGQgYmUgY2FsbGVkIGZyb20gdGhlIHRhcmdldCB3aGVuIGl0cyBIVE1MIGlzIGNyZWF0ZWQuICBJZiBpbiB0aGUgZnV0dXJlIHdlIGZpbmQgYSB3YXkgdG8gZGV0ZWN0IHRoYXQgYW5cclxuICAvLyBvYmplY3QgaGFzIGNyZWF0ZWQgaXRzIEhUTUwgdGhpcyBtZXRob2QgY291bGQgYmUgcmVtb3ZlZC5cclxuICBhdHRhY2goKSB7XHJcbiAgICB0aGlzLmVuYWJsZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIHRoZSBiZWhhdmlvciBwZXJtYW5lbnRseSBmcm9tIGl0cyB0YXJnZXQuXHJcbiAgICovXHJcbiAgZGV0YWNoKCkge1xyXG4gICAgdGhpcy5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLl90YXJnZXQgPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmVoYXZpb3I7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/Behavior.js\n");

/***/ }),

/***/ "./src/js/behavior/ConnectivityAreaBehavior.js":
/*!*****************************************************!*\
  !*** ./src/js/behavior/ConnectivityAreaBehavior.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n\r\n\r\n\r\n// TODO: Simplify import alias in whole project, like next line:\r\n\r\n\r\nclass ConnectivityAreaBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._dom = {};\r\n    this._connection = null;\r\n    this._shape = null;\r\n    this.start = this._bind(this.start);\r\n    this.complete = this._bind(this.complete);\r\n    this.enterShape = this._bind(this.enterShape);\r\n    this.leaveShape = this._bind(this.leaveShape);\r\n    this.end = this._bind(this.end);\r\n  }\r\n\r\n  end() {\r\n    if (this._connection) {\r\n      this._connection.end();\r\n    }\r\n    this._shape = null;\r\n    this._connection = null;\r\n    this._direction = null;\r\n  }\r\n\r\n  start(shape, connection = null, direction = _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].DEST) {\r\n    if (!this._shape) {\r\n      this.complete();\r\n\r\n      connection = connection || new _connection_Connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n        canvas: this._target,\r\n      });\r\n\r\n      this._target._addConnection(connection);\r\n      this._connection = connection;\r\n      this._shape = shape;\r\n      this._direction = direction;\r\n\r\n      connection.select();\r\n      connection.start(shape, direction);\r\n    }\r\n  }\r\n\r\n  complete(shape) {\r\n    if (this._shape && shape) {\r\n      const currentOrig = this._connection.getOrigShape();\r\n      const currentDest = this._connection.getDestShape();\r\n      let orig;\r\n      let dest;\r\n\r\n      if (this._direction === _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].ORIG) {\r\n        orig = shape;\r\n        dest = this._shape;\r\n      } else {\r\n        orig = this._shape;\r\n        dest = shape;\r\n      }\r\n\r\n      if (currentOrig !== orig || currentDest !== dest) {\r\n        this._target.executeCommand(_command_CommandFactory__WEBPACK_IMPORTED_MODULE_3__[\"PRODUCTS\"].CONNECT, this._target, orig, dest, this._connection);\r\n      }\r\n    }\r\n\r\n    this.end();\r\n  }\r\n\r\n  enterShape(shape) {\r\n    if (this._connection) {\r\n      this._connection._dragBehavior.onShape(shape);\r\n    }\r\n  }\r\n\r\n  leaveShape(shape) {\r\n    if (this._connection) {\r\n      this._connection._dragBehavior.outShape(shape);\r\n    }\r\n  }\r\n\r\n  getCurrentProcess() {\r\n    if (this._connection) {\r\n      return [this._shape, this._connection, this._direction];\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  // TODO: maybe this should be replaced by the call canvas' startConnection() and completeConnection() or think to\r\n  // move it back to Canvas;\r\n  connect(origin, destination) {\r\n    this._target.connect(origin, destination);\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n    // This method should be called after the Canvas' HTML has been created and set to\r\n    // its _el property.\r\n    // TODO: make sure to call this method only once\r\n    _target.getElement().addEventListener('click', this.end, false);\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n\r\n    _target.getElement().removeEventListener('click', this.end, false);\r\n\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectivityAreaBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yLmpzPzNjOGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFrQztBQUNnQjtBQUNLO0FBQ3ZEO0FBQ2lFOztBQUVqRSx1Q0FBdUMsaURBQVE7QUFDL0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEMscURBQVM7QUFDdkQ7QUFDQTs7QUFFQSxxQ0FBcUMsOERBQVU7QUFDL0M7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIscURBQVM7QUFDdkM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQ0FBb0MsZ0VBQVE7QUFDNUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHVGQUF3QixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCZWhhdmlvciBmcm9tICcuL0JlaGF2aW9yJztcclxuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi4vY29ubmVjdGlvbi9Db25uZWN0aW9uJztcclxuaW1wb3J0IHsgTU9ERSBhcyBQT1JUX01PREUgfSBmcm9tICcuLi9jb25uZWN0aW9uL1BvcnQnO1xyXG4vLyBUT0RPOiBTaW1wbGlmeSBpbXBvcnQgYWxpYXMgaW4gd2hvbGUgcHJvamVjdCwgbGlrZSBuZXh0IGxpbmU6XHJcbmltcG9ydCB7IFBST0RVQ1RTIGFzIENPTU1BTkRTIH0gZnJvbSAnLi4vY29tbWFuZC9Db21tYW5kRmFjdG9yeSc7XHJcblxyXG5jbGFzcyBDb25uZWN0aXZpdHlBcmVhQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBzZXR0aW5ncykge1xyXG4gICAgc3VwZXIodGFyZ2V0LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5fZG9tID0ge307XHJcbiAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcclxuICAgIHRoaXMuX3NoYXBlID0gbnVsbDtcclxuICAgIHRoaXMuc3RhcnQgPSB0aGlzLl9iaW5kKHRoaXMuc3RhcnQpO1xyXG4gICAgdGhpcy5jb21wbGV0ZSA9IHRoaXMuX2JpbmQodGhpcy5jb21wbGV0ZSk7XHJcbiAgICB0aGlzLmVudGVyU2hhcGUgPSB0aGlzLl9iaW5kKHRoaXMuZW50ZXJTaGFwZSk7XHJcbiAgICB0aGlzLmxlYXZlU2hhcGUgPSB0aGlzLl9iaW5kKHRoaXMubGVhdmVTaGFwZSk7XHJcbiAgICB0aGlzLmVuZCA9IHRoaXMuX2JpbmQodGhpcy5lbmQpO1xyXG4gIH1cclxuXHJcbiAgZW5kKCkge1xyXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb24pIHtcclxuICAgICAgdGhpcy5fY29ubmVjdGlvbi5lbmQoKTtcclxuICAgIH1cclxuICAgIHRoaXMuX3NoYXBlID0gbnVsbDtcclxuICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHN0YXJ0KHNoYXBlLCBjb25uZWN0aW9uID0gbnVsbCwgZGlyZWN0aW9uID0gUE9SVF9NT0RFLkRFU1QpIHtcclxuICAgIGlmICghdGhpcy5fc2hhcGUpIHtcclxuICAgICAgdGhpcy5jb21wbGV0ZSgpO1xyXG5cclxuICAgICAgY29ubmVjdGlvbiA9IGNvbm5lY3Rpb24gfHwgbmV3IENvbm5lY3Rpb24oe1xyXG4gICAgICAgIGNhbnZhczogdGhpcy5fdGFyZ2V0LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuX3RhcmdldC5fYWRkQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcclxuICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgIHRoaXMuX3NoYXBlID0gc2hhcGU7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgIGNvbm5lY3Rpb24uc2VsZWN0KCk7XHJcbiAgICAgIGNvbm5lY3Rpb24uc3RhcnQoc2hhcGUsIGRpcmVjdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wbGV0ZShzaGFwZSkge1xyXG4gICAgaWYgKHRoaXMuX3NoYXBlICYmIHNoYXBlKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRPcmlnID0gdGhpcy5fY29ubmVjdGlvbi5nZXRPcmlnU2hhcGUoKTtcclxuICAgICAgY29uc3QgY3VycmVudERlc3QgPSB0aGlzLl9jb25uZWN0aW9uLmdldERlc3RTaGFwZSgpO1xyXG4gICAgICBsZXQgb3JpZztcclxuICAgICAgbGV0IGRlc3Q7XHJcblxyXG4gICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBQT1JUX01PREUuT1JJRykge1xyXG4gICAgICAgIG9yaWcgPSBzaGFwZTtcclxuICAgICAgICBkZXN0ID0gdGhpcy5fc2hhcGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3JpZyA9IHRoaXMuX3NoYXBlO1xyXG4gICAgICAgIGRlc3QgPSBzaGFwZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGN1cnJlbnRPcmlnICE9PSBvcmlnIHx8IGN1cnJlbnREZXN0ICE9PSBkZXN0KSB7XHJcbiAgICAgICAgdGhpcy5fdGFyZ2V0LmV4ZWN1dGVDb21tYW5kKENPTU1BTkRTLkNPTk5FQ1QsIHRoaXMuX3RhcmdldCwgb3JpZywgZGVzdCwgdGhpcy5fY29ubmVjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVuZCgpO1xyXG4gIH1cclxuXHJcbiAgZW50ZXJTaGFwZShzaGFwZSkge1xyXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb24pIHtcclxuICAgICAgdGhpcy5fY29ubmVjdGlvbi5fZHJhZ0JlaGF2aW9yLm9uU2hhcGUoc2hhcGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVTaGFwZShzaGFwZSkge1xyXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb24pIHtcclxuICAgICAgdGhpcy5fY29ubmVjdGlvbi5fZHJhZ0JlaGF2aW9yLm91dFNoYXBlKHNoYXBlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRQcm9jZXNzKCkge1xyXG4gICAgaWYgKHRoaXMuX2Nvbm5lY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIFt0aGlzLl9zaGFwZSwgdGhpcy5fY29ubmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IG1heWJlIHRoaXMgc2hvdWxkIGJlIHJlcGxhY2VkIGJ5IHRoZSBjYWxsIGNhbnZhcycgc3RhcnRDb25uZWN0aW9uKCkgYW5kIGNvbXBsZXRlQ29ubmVjdGlvbigpIG9yIHRoaW5rIHRvXHJcbiAgLy8gbW92ZSBpdCBiYWNrIHRvIENhbnZhcztcclxuICBjb25uZWN0KG9yaWdpbiwgZGVzdGluYXRpb24pIHtcclxuICAgIHRoaXMuX3RhcmdldC5jb25uZWN0KG9yaWdpbiwgZGVzdGluYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGUgQ2FudmFzJyBIVE1MIGhhcyBiZWVuIGNyZWF0ZWQgYW5kIHNldCB0b1xyXG4gICAgLy8gaXRzIF9lbCBwcm9wZXJ0eS5cclxuICAgIC8vIFRPRE86IG1ha2Ugc3VyZSB0byBjYWxsIHRoaXMgbWV0aG9kIG9ubHkgb25jZVxyXG4gICAgX3RhcmdldC5nZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmVuZCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgZGV0YWNoKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIF90YXJnZXQuZ2V0RWxlbWVudCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5lbmQsIGZhbHNlKTtcclxuXHJcbiAgICBzdXBlci5kZXRhY2goKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpdml0eUFyZWFCZWhhdmlvcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/ConnectivityAreaBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/ConnectivityAreaBehaviorFactory.js":
/*!************************************************************!*\
  !*** ./src/js/behavior/ConnectivityAreaBehaviorFactory.js ***!
  \************************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _ConnectivityAreaBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectivityAreaBehavior */ \"./src/js/behavior/ConnectivityAreaBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 0,\r\n});\r\n\r\nconst ConnectivityAreaBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _ConnectivityAreaBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectivityAreaBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yRmFjdG9yeS5qcz8xNmM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQzRCOztBQUVsRTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCw0Q0FBNEMscURBQU87QUFDbkQ7QUFDQSx3QkFBd0IsaUVBQXdCO0FBQ2hELEdBQUc7QUFDSCxDQUFDOztBQUVjLDhGQUErQixFQUFDO0FBQzNCIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvckZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRmFjdG9yeSBmcm9tICcuLi9jb3JlL0ZhY3RvcnknO1xyXG5pbXBvcnQgQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yIGZyb20gJy4vQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgREVGQVVMVDogMCxcclxufSk7XHJcblxyXG5jb25zdCBDb25uZWN0aXZpdHlBcmVhQmVoYXZpb3JGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuREVGQVVMVF06IENvbm5lY3Rpdml0eUFyZWFCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpdml0eUFyZWFCZWhhdmlvckZhY3Rvcnk7XHJcbmV4cG9ydCB7IFBST0RVQ1RTIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/ConnectivityAreaBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/ConnectivityBehavior.js":
/*!*************************************************!*\
  !*** ./src/js/behavior/ConnectivityBehavior.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\nconst CANT_CONNECT_CLASS = 'cant-connect';\r\n\r\nclass ConnectivityBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    if (!(target instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    super(target, settings);\r\n\r\n    this._onMouseDown = this._bind(this._onMouseDown);\r\n    this._onMouseUp = this._bind(this._onMouseUp);\r\n    this._onConnectionEnter = this._bind(this._onConnectionEnter);\r\n    this._onConnectionLeave = this._bind(this._onConnectionLeave);\r\n    this.end = this.end.bind(this);\r\n  }\r\n\r\n  _canAcceptCurrentConnection() {\r\n    const { _target } = this;\r\n    const canvas = _target.getCanvas();\r\n    const process = canvas._connectivityAreaBehavior.getCurrentProcess();\r\n    let valid = true;\r\n\r\n    if (process) {\r\n      const [shape, , mode] = process;\r\n\r\n      valid = _target.canAcceptConnection(mode, shape);\r\n    }\r\n\r\n    return valid;\r\n  }\r\n\r\n  _onMouseDown(event) {\r\n    if (event.button !== 0) return;\r\n\r\n    const target = this._target;\r\n\r\n    event.stopPropagation();\r\n\r\n    if (!target.isBeingDragged() && event.altKey) {\r\n      target.getCanvas().startConnection(target);\r\n    }\r\n  }\r\n\r\n  _onMouseUp(event) {\r\n    const target = this._target;\r\n\r\n    event.stopPropagation();\r\n\r\n    if (!target.isBeingDragged()) {\r\n      const canvas = target.getCanvas();\r\n      const valid = this._canAcceptCurrentConnection();\r\n\r\n      if (valid) {\r\n        canvas.completeConnection(target);\r\n      } else {\r\n        canvas.cancelConnection();\r\n        target.getElement().classList.remove(CANT_CONNECT_CLASS);\r\n      }\r\n    }\r\n  }\r\n\r\n  _onConnectionEnter() {\r\n    const { _target } = this;\r\n    const canvas = _target.getCanvas();\r\n    const valid = this._canAcceptCurrentConnection();\r\n\r\n    if (valid) {\r\n      canvas._connectivityAreaBehavior.enterShape(_target);\r\n    } else {\r\n      _target.getElement().classList.add(CANT_CONNECT_CLASS);\r\n    }\r\n  }\r\n\r\n  _onConnectionLeave() {\r\n    const { _target } = this;\r\n    const canvas = _target.getCanvas();\r\n\r\n    canvas._connectivityAreaBehavior.leaveShape(_target);\r\n    _target.getElement().classList.remove(CANT_CONNECT_CLASS);\r\n  }\r\n\r\n  end() {\r\n    this._target.getCanvas().getConnectivityAreaBehavior().end();\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n    const html = _target.getElement();\r\n    const canvas = _target.getCanvas();\r\n\r\n    html.addEventListener('mousedown', this._onMouseDown, false);\r\n    html.addEventListener('mouseup', this._onMouseUp, false);\r\n    html.addEventListener('mouseenter', this._onConnectionEnter, false);\r\n    html.addEventListener('mouseleave', this._onConnectionLeave, false);\r\n    canvas.addListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG_START, _target, this.end);\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n    const html = _target.getElement();\r\n    const canvas = _target.getCanvas();\r\n\r\n    html.removeEventListener('mousedown', this._onMouseDown, false);\r\n    html.removeEventListener('mouseup', this._onMouseUp, false);\r\n    html.removeEventListener('mouseenter', this._onConnectionEnter, false);\r\n    html.removeEventListener('mouseleave', this._onConnectionLeave, false);\r\n    canvas.removeListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG_START, _target, this.end);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectivityBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29ubmVjdGl2aXR5QmVoYXZpb3IuanM/NjA0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFrQztBQUMyQjtBQUNaOztBQUVqRDs7QUFFQSxtQ0FBbUMsaURBQVE7QUFDM0M7QUFDQSw0QkFBNEIsb0RBQUs7QUFDakMsTUFBTSwyREFBWTtBQUNsQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFXO0FBQ2xDOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0RBQVc7QUFDckM7QUFDQTtBQUNBOztBQUVlLG1GQUFvQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0Nvbm5lY3Rpdml0eUJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5pbXBvcnQgU2hhcGUsIHsgRVZFTlQgYXMgU0hBUEVfRVZFTlQgfSBmcm9tICcuLi9zaGFwZS9TaGFwZSc7XHJcbmltcG9ydCBFcnJvclRocm93ZXIgZnJvbSAnLi4vdXRpbHMvRXJyb3JUaHJvd2VyJztcclxuXHJcbmNvbnN0IENBTlRfQ09OTkVDVF9DTEFTUyA9ICdjYW50LWNvbm5lY3QnO1xyXG5cclxuY2xhc3MgQ29ubmVjdGl2aXR5QmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBzZXR0aW5ncykge1xyXG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgU2hhcGUpKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5pbnZhbGlkUGFyYW1ldGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIodGFyZ2V0LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5fb25Nb3VzZURvd24gPSB0aGlzLl9iaW5kKHRoaXMuX29uTW91c2VEb3duKTtcclxuICAgIHRoaXMuX29uTW91c2VVcCA9IHRoaXMuX2JpbmQodGhpcy5fb25Nb3VzZVVwKTtcclxuICAgIHRoaXMuX29uQ29ubmVjdGlvbkVudGVyID0gdGhpcy5fYmluZCh0aGlzLl9vbkNvbm5lY3Rpb25FbnRlcik7XHJcbiAgICB0aGlzLl9vbkNvbm5lY3Rpb25MZWF2ZSA9IHRoaXMuX2JpbmQodGhpcy5fb25Db25uZWN0aW9uTGVhdmUpO1xyXG4gICAgdGhpcy5lbmQgPSB0aGlzLmVuZC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2NhbkFjY2VwdEN1cnJlbnRDb25uZWN0aW9uKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgY29uc3QgY2FudmFzID0gX3RhcmdldC5nZXRDYW52YXMoKTtcclxuICAgIGNvbnN0IHByb2Nlc3MgPSBjYW52YXMuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5nZXRDdXJyZW50UHJvY2VzcygpO1xyXG4gICAgbGV0IHZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAocHJvY2Vzcykge1xyXG4gICAgICBjb25zdCBbc2hhcGUsICwgbW9kZV0gPSBwcm9jZXNzO1xyXG5cclxuICAgICAgdmFsaWQgPSBfdGFyZ2V0LmNhbkFjY2VwdENvbm5lY3Rpb24obW9kZSwgc2hhcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWxpZDtcclxuICB9XHJcblxyXG4gIF9vbk1vdXNlRG93bihldmVudCkge1xyXG4gICAgaWYgKGV2ZW50LmJ1dHRvbiAhPT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3RhcmdldDtcclxuXHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICBpZiAoIXRhcmdldC5pc0JlaW5nRHJhZ2dlZCgpICYmIGV2ZW50LmFsdEtleSkge1xyXG4gICAgICB0YXJnZXQuZ2V0Q2FudmFzKCkuc3RhcnRDb25uZWN0aW9uKHRhcmdldCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfb25Nb3VzZVVwKGV2ZW50KSB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XHJcblxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgaWYgKCF0YXJnZXQuaXNCZWluZ0RyYWdnZWQoKSkge1xyXG4gICAgICBjb25zdCBjYW52YXMgPSB0YXJnZXQuZ2V0Q2FudmFzKCk7XHJcbiAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy5fY2FuQWNjZXB0Q3VycmVudENvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgIGNhbnZhcy5jb21wbGV0ZUNvbm5lY3Rpb24odGFyZ2V0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjYW52YXMuY2FuY2VsQ29ubmVjdGlvbigpO1xyXG4gICAgICAgIHRhcmdldC5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShDQU5UX0NPTk5FQ1RfQ0xBU1MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfb25Db25uZWN0aW9uRW50ZXIoKSB7XHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBjYW52YXMgPSBfdGFyZ2V0LmdldENhbnZhcygpO1xyXG4gICAgY29uc3QgdmFsaWQgPSB0aGlzLl9jYW5BY2NlcHRDdXJyZW50Q29ubmVjdGlvbigpO1xyXG5cclxuICAgIGlmICh2YWxpZCkge1xyXG4gICAgICBjYW52YXMuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5lbnRlclNoYXBlKF90YXJnZXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgX3RhcmdldC5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LmFkZChDQU5UX0NPTk5FQ1RfQ0xBU1MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uQ29ubmVjdGlvbkxlYXZlKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgY29uc3QgY2FudmFzID0gX3RhcmdldC5nZXRDYW52YXMoKTtcclxuXHJcbiAgICBjYW52YXMuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5sZWF2ZVNoYXBlKF90YXJnZXQpO1xyXG4gICAgX3RhcmdldC5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShDQU5UX0NPTk5FQ1RfQ0xBU1MpO1xyXG4gIH1cclxuXHJcbiAgZW5kKCkge1xyXG4gICAgdGhpcy5fdGFyZ2V0LmdldENhbnZhcygpLmdldENvbm5lY3Rpdml0eUFyZWFCZWhhdmlvcigpLmVuZCgpO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgY29uc3QgaHRtbCA9IF90YXJnZXQuZ2V0RWxlbWVudCgpO1xyXG4gICAgY29uc3QgY2FudmFzID0gX3RhcmdldC5nZXRDYW52YXMoKTtcclxuXHJcbiAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9vbk1vdXNlVXAsIGZhbHNlKTtcclxuICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX29uQ29ubmVjdGlvbkVudGVyLCBmYWxzZSk7XHJcbiAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9vbkNvbm5lY3Rpb25MZWF2ZSwgZmFsc2UpO1xyXG4gICAgY2FudmFzLmFkZExpc3RlbmVyKFNIQVBFX0VWRU5ULkRSQUdfU1RBUlQsIF90YXJnZXQsIHRoaXMuZW5kKTtcclxuICB9XHJcblxyXG4gIGRldGFjaCgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuICAgIGNvbnN0IGh0bWwgPSBfdGFyZ2V0LmdldEVsZW1lbnQoKTtcclxuICAgIGNvbnN0IGNhbnZhcyA9IF90YXJnZXQuZ2V0Q2FudmFzKCk7XHJcblxyXG4gICAgaHRtbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9vbk1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgaHRtbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5fb25Nb3VzZVVwLCBmYWxzZSk7XHJcbiAgICBodG1sLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLl9vbkNvbm5lY3Rpb25FbnRlciwgZmFsc2UpO1xyXG4gICAgaHRtbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5fb25Db25uZWN0aW9uTGVhdmUsIGZhbHNlKTtcclxuICAgIGNhbnZhcy5yZW1vdmVMaXN0ZW5lcihTSEFQRV9FVkVOVC5EUkFHX1NUQVJULCBfdGFyZ2V0LCB0aGlzLmVuZCk7XHJcbiAgICBzdXBlci5kZXRhY2goKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpdml0eUJlaGF2aW9yO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/ConnectivityBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/ConnectivityBehaviorFactory.js":
/*!********************************************************!*\
  !*** ./src/js/behavior/ConnectivityBehaviorFactory.js ***!
  \********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _ConnectivityBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConnectivityBehavior */ \"./src/js/behavior/ConnectivityBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\nconst ConnectivityBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _ConnectivityBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectivityBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29ubmVjdGl2aXR5QmVoYXZpb3JGYWN0b3J5LmpzPzUwY2EiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDb0I7O0FBRTFEO0FBQ0E7QUFDQSxDQUFDOztBQUVELHdDQUF3QyxxREFBTztBQUMvQztBQUNBLHdCQUF3Qiw2REFBb0I7QUFDNUMsR0FBRztBQUNILENBQUM7O0FBRWMsMEZBQTJCLEVBQUM7QUFDdkIiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvQ29ubmVjdGl2aXR5QmVoYXZpb3JGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IENvbm5lY3Rpdml0eUJlaGF2aW9yIGZyb20gJy4vQ29ubmVjdGl2aXR5QmVoYXZpb3InO1xyXG5cclxuY29uc3QgUFJPRFVDVFMgPSBPYmplY3QuZnJlZXplKHtcclxuICBERUZBVUxUOiAnZGVmYXVsdCcsXHJcbn0pO1xyXG5cclxuY29uc3QgQ29ubmVjdGl2aXR5QmVoYXZpb3JGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuREVGQVVMVF06IENvbm5lY3Rpdml0eUJlaGF2aW9yLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdGl2aXR5QmVoYXZpb3JGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/ConnectivityBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/ContextMenuBehavior.js":
/*!************************************************!*\
  !*** ./src/js/behavior/ContextMenuBehavior.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../diagram/DiagramElement */ \"./src/js/diagram/DiagramElement.js\");\n\r\n\r\n\r\nclass ContextMenuBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this.onContextMenu = this._bind(this.onContextMenu);\r\n  }\r\n\r\n  onContextMenu(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this._target.onContextMenu(event);\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n    let element;\r\n\r\n    // TODO: all targets should implement all interfaces, so this is a hack\r\n    if (_target instanceof _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n      // TODO: Fix access to protected method.\r\n      element = _target._getMainElement();\r\n    } else {\r\n      element = _target.getElement();\r\n    }\r\n\r\n    element.addEventListener('contextmenu', this.onContextMenu, false);\r\n    super.attach();\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n    let element;\r\n\r\n    // TODO: all targets should implement all interfaces, so this is a hack\r\n    if (_target instanceof _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\r\n      // TODO: Fix access to protected method.\r\n      element = _target._getMainElement();\r\n    } else {\r\n      element = _target.getElement();\r\n    }\r\n\r\n    element.addEventListener('contextmenu', this.onContextMenu, false);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContextMenuBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29udGV4dE1lbnVCZWhhdmlvci5qcz9iNmQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFrQztBQUNxQjs7QUFFdkQsa0NBQWtDLGlEQUFRO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjs7QUFFQTtBQUNBLDJCQUEyQiwrREFBYztBQUN6QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCOztBQUVBO0FBQ0EsMkJBQTJCLCtEQUFjO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxrRkFBbUIsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9iZWhhdmlvci9Db250ZXh0TWVudUJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5pbXBvcnQgRGlhZ3JhbUVsZW1lbnQgZnJvbSAnLi4vZGlhZ3JhbS9EaWFncmFtRWxlbWVudCc7XHJcblxyXG5jbGFzcyBDb250ZXh0TWVudUJlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgc2V0dGluZ3MpIHtcclxuICAgIHN1cGVyKHRhcmdldCwgc2V0dGluZ3MpO1xyXG5cclxuICAgIHRoaXMub25Db250ZXh0TWVudSA9IHRoaXMuX2JpbmQodGhpcy5vbkNvbnRleHRNZW51KTtcclxuICB9XHJcblxyXG4gIG9uQ29udGV4dE1lbnUoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICB0aGlzLl90YXJnZXQub25Db250ZXh0TWVudShldmVudCk7XHJcbiAgfVxyXG5cclxuICBhdHRhY2goKSB7XHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcbiAgICBsZXQgZWxlbWVudDtcclxuXHJcbiAgICAvLyBUT0RPOiBhbGwgdGFyZ2V0cyBzaG91bGQgaW1wbGVtZW50IGFsbCBpbnRlcmZhY2VzLCBzbyB0aGlzIGlzIGEgaGFja1xyXG4gICAgaWYgKF90YXJnZXQgaW5zdGFuY2VvZiBEaWFncmFtRWxlbWVudCkge1xyXG4gICAgICAvLyBUT0RPOiBGaXggYWNjZXNzIHRvIHByb3RlY3RlZCBtZXRob2QuXHJcbiAgICAgIGVsZW1lbnQgPSBfdGFyZ2V0Ll9nZXRNYWluRWxlbWVudCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWxlbWVudCA9IF90YXJnZXQuZ2V0RWxlbWVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLm9uQ29udGV4dE1lbnUsIGZhbHNlKTtcclxuICAgIHN1cGVyLmF0dGFjaCgpO1xyXG4gIH1cclxuXHJcbiAgZGV0YWNoKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgbGV0IGVsZW1lbnQ7XHJcblxyXG4gICAgLy8gVE9ETzogYWxsIHRhcmdldHMgc2hvdWxkIGltcGxlbWVudCBhbGwgaW50ZXJmYWNlcywgc28gdGhpcyBpcyBhIGhhY2tcclxuICAgIGlmIChfdGFyZ2V0IGluc3RhbmNlb2YgRGlhZ3JhbUVsZW1lbnQpIHtcclxuICAgICAgLy8gVE9ETzogRml4IGFjY2VzcyB0byBwcm90ZWN0ZWQgbWV0aG9kLlxyXG4gICAgICBlbGVtZW50ID0gX3RhcmdldC5fZ2V0TWFpbkVsZW1lbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVsZW1lbnQgPSBfdGFyZ2V0LmdldEVsZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5vbkNvbnRleHRNZW51LCBmYWxzZSk7XHJcbiAgICBzdXBlci5kZXRhY2goKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRleHRNZW51QmVoYXZpb3I7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/ContextMenuBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/ContextMenuBehaviorFactory.js":
/*!*******************************************************!*\
  !*** ./src/js/behavior/ContextMenuBehaviorFactory.js ***!
  \*******************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _ContextMenuBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ContextMenuBehavior */ \"./src/js/behavior/ContextMenuBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 0,\r\n});\r\n\r\nconst ContextMenuBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _ContextMenuBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContextMenuBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvQ29udGV4dE1lbnVCZWhhdmlvckZhY3RvcnkuanM/OGMwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzQztBQUNrQjs7QUFFeEQ7QUFDQTtBQUNBLENBQUM7O0FBRUQsdUNBQXVDLHFEQUFPO0FBQzlDO0FBQ0Esd0JBQXdCLDREQUFtQjtBQUMzQyxHQUFHO0FBQ0gsQ0FBQzs7QUFFYyx5RkFBMEIsRUFBQztBQUN0QiIsImZpbGUiOiIuL3NyYy9qcy9iZWhhdmlvci9Db250ZXh0TWVudUJlaGF2aW9yRmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWN0b3J5IGZyb20gJy4uL2NvcmUvRmFjdG9yeSc7XHJcbmltcG9ydCBDb250ZXh0TWVudUJlaGF2aW9yIGZyb20gJy4vQ29udGV4dE1lbnVCZWhhdmlvcic7XHJcblxyXG5jb25zdCBQUk9EVUNUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIERFRkFVTFQ6IDAsXHJcbn0pO1xyXG5cclxuY29uc3QgQ29udGV4dE1lbnVCZWhhdmlvckZhY3RvcnkgPSBuZXcgRmFjdG9yeSh7XHJcbiAgcHJvZHVjdHM6IHtcclxuICAgIFtQUk9EVUNUUy5ERUZBVUxUXTogQ29udGV4dE1lbnVCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbnRleHRNZW51QmVoYXZpb3JGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/ContextMenuBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/DragBehavior.js":
/*!*****************************************!*\
  !*** ./src/js/behavior/DragBehavior.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\nconst DRAGGABLE_CN = 'draggable';\r\nconst GRABBING_CN = 'grabbing';\r\nconst DRAGGING_CN = 'dragging';\r\n\r\nclass DragBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._dragging = false;\r\n    this._grabbed = false;\r\n\r\n    this._onGrab = this._bind(this._onGrab);\r\n    this.startDrag = this._bind(this.startDrag);\r\n    this._onRelease = this._onRelease.bind(this);\r\n  }\r\n\r\n  disable() {\r\n    super.disable();\r\n    this._getDraggableElement().forEach((element) => element.classList.remove(DRAGGABLE_CN));\r\n  }\r\n\r\n  _onGrab(event) {\r\n    // TODO: all child classes have this line on its _onGrab method.\r\n    // Find a way to not repeat this in all of them.\r\n    if (event.button !== 0) return;\r\n\r\n    const { clientX: x, clientY: y } = event;\r\n\r\n    this._grabbed = true;\r\n\r\n    // TODO: Do we use _lastPosition?\r\n    this._lastPosition = this._target.getCanvas().clientToCanvas({ x, y });\r\n    this._getDraggableElement().forEach((element) => element.classList.add(GRABBING_CN));\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  startDrag(position) {\r\n    if (!this._dragging) {\r\n      this._dragging = true;\r\n    }\r\n\r\n    this._target.getElement().classList.add(DRAGGING_CN);\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\r\n  updatePosition(position, options, modifiers) {}\r\n\r\n  endDrag(event) {\r\n    if (event) event.stopPropagation();\r\n\r\n    this._grabbed = false;\r\n    this._dragging = false;\r\n    this._target.getElement().classList.remove(DRAGGING_CN);\r\n    this._getDraggableElement().forEach((element) => element.classList.remove(GRABBING_CN));\r\n  }\r\n\r\n  end() {\r\n    this.endDrag();\r\n  }\r\n\r\n  _onRelease() {\r\n    if (this._grabbed || this._dragging) {\r\n      this.endDrag();\r\n    }\r\n  }\r\n\r\n  isDragging() {\r\n    return this._dragging;\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _evaluate() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__[\"default\"].notImplemented();\r\n  }\r\n\r\n  _getDraggableElement() {\r\n    return [this._target.getElement()];\r\n  }\r\n\r\n  attach() {\r\n    super.attach();\r\n    this._getDraggableElement().forEach((element) => element.classList.add(DRAGGABLE_CN));\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DragBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ0JlaGF2aW9yLmpzP2Q3ODYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWtDO0FBQ2U7O0FBRWpEO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkIsaURBQVE7QUFDbkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcseUJBQXlCOztBQUVwQzs7QUFFQTtBQUNBLGtFQUFrRSxPQUFPO0FBQ3pFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSwyREFBWTtBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSwyRUFBWSxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0RyYWdCZWhhdmlvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCZWhhdmlvciBmcm9tICcuL0JlaGF2aW9yJztcclxuaW1wb3J0IEVycm9yVGhyb3dlciBmcm9tICcuLi91dGlscy9FcnJvclRocm93ZXInO1xyXG5cclxuY29uc3QgRFJBR0dBQkxFX0NOID0gJ2RyYWdnYWJsZSc7XHJcbmNvbnN0IEdSQUJCSU5HX0NOID0gJ2dyYWJiaW5nJztcclxuY29uc3QgRFJBR0dJTkdfQ04gPSAnZHJhZ2dpbmcnO1xyXG5cclxuY2xhc3MgRHJhZ0JlaGF2aW9yIGV4dGVuZHMgQmVoYXZpb3Ige1xyXG4gIGNvbnN0cnVjdG9yKHRhcmdldCwgc2V0dGluZ3MpIHtcclxuICAgIHN1cGVyKHRhcmdldCwgc2V0dGluZ3MpO1xyXG5cclxuICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLl9ncmFiYmVkID0gZmFsc2U7XHJcblxyXG4gICAgdGhpcy5fb25HcmFiID0gdGhpcy5fYmluZCh0aGlzLl9vbkdyYWIpO1xyXG4gICAgdGhpcy5zdGFydERyYWcgPSB0aGlzLl9iaW5kKHRoaXMuc3RhcnREcmFnKTtcclxuICAgIHRoaXMuX29uUmVsZWFzZSA9IHRoaXMuX29uUmVsZWFzZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgZGlzYWJsZSgpIHtcclxuICAgIHN1cGVyLmRpc2FibGUoKTtcclxuICAgIHRoaXMuX2dldERyYWdnYWJsZUVsZW1lbnQoKS5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoRFJBR0dBQkxFX0NOKSk7XHJcbiAgfVxyXG5cclxuICBfb25HcmFiKGV2ZW50KSB7XHJcbiAgICAvLyBUT0RPOiBhbGwgY2hpbGQgY2xhc3NlcyBoYXZlIHRoaXMgbGluZSBvbiBpdHMgX29uR3JhYiBtZXRob2QuXHJcbiAgICAvLyBGaW5kIGEgd2F5IHRvIG5vdCByZXBlYXQgdGhpcyBpbiBhbGwgb2YgdGhlbS5cclxuICAgIGlmIChldmVudC5idXR0b24gIT09IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB7IGNsaWVudFg6IHgsIGNsaWVudFk6IHkgfSA9IGV2ZW50O1xyXG5cclxuICAgIHRoaXMuX2dyYWJiZWQgPSB0cnVlO1xyXG5cclxuICAgIC8vIFRPRE86IERvIHdlIHVzZSBfbGFzdFBvc2l0aW9uP1xyXG4gICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gdGhpcy5fdGFyZ2V0LmdldENhbnZhcygpLmNsaWVudFRvQ2FudmFzKHsgeCwgeSB9KTtcclxuICAgIHRoaXMuX2dldERyYWdnYWJsZUVsZW1lbnQoKS5mb3JFYWNoKChlbGVtZW50KSA9PiBlbGVtZW50LmNsYXNzTGlzdC5hZGQoR1JBQkJJTkdfQ04pKTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gIHN0YXJ0RHJhZyhwb3NpdGlvbikge1xyXG4gICAgaWYgKCF0aGlzLl9kcmFnZ2luZykge1xyXG4gICAgICB0aGlzLl9kcmFnZ2luZyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fdGFyZ2V0LmdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKERSQUdHSU5HX0NOKTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzLCBuby11bnVzZWQtdmFyc1xyXG4gIHVwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uLCBvcHRpb25zLCBtb2RpZmllcnMpIHt9XHJcblxyXG4gIGVuZERyYWcoZXZlbnQpIHtcclxuICAgIGlmIChldmVudCkgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgdGhpcy5fZ3JhYmJlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMuX3RhcmdldC5nZXRFbGVtZW50KCkuY2xhc3NMaXN0LnJlbW92ZShEUkFHR0lOR19DTik7XHJcbiAgICB0aGlzLl9nZXREcmFnZ2FibGVFbGVtZW50KCkuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEdSQUJCSU5HX0NOKSk7XHJcbiAgfVxyXG5cclxuICBlbmQoKSB7XHJcbiAgICB0aGlzLmVuZERyYWcoKTtcclxuICB9XHJcblxyXG4gIF9vblJlbGVhc2UoKSB7XHJcbiAgICBpZiAodGhpcy5fZ3JhYmJlZCB8fCB0aGlzLl9kcmFnZ2luZykge1xyXG4gICAgICB0aGlzLmVuZERyYWcoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzRHJhZ2dpbmcoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZHJhZ2dpbmc7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xyXG4gIF9ldmFsdWF0ZSgpIHtcclxuICAgIEVycm9yVGhyb3dlci5ub3RJbXBsZW1lbnRlZCgpO1xyXG4gIH1cclxuXHJcbiAgX2dldERyYWdnYWJsZUVsZW1lbnQoKSB7XHJcbiAgICByZXR1cm4gW3RoaXMuX3RhcmdldC5nZXRFbGVtZW50KCldO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgc3VwZXIuYXR0YWNoKCk7XHJcbiAgICB0aGlzLl9nZXREcmFnZ2FibGVFbGVtZW50KCkuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKERSQUdHQUJMRV9DTikpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ0JlaGF2aW9yO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/DragBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggableConnectionBehavior.js":
/*!********************************************************!*\
  !*** ./src/js/behavior/DraggableConnectionBehavior.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DragBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DragBehavior */ \"./src/js/behavior/DragBehavior.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _shape_ShapeUI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shape/ShapeUI */ \"./src/js/shape/ShapeUI.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nfunction getFakeDescription(position, shape) {\r\n  const diff = _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getNormalizedPosition(position, shape.getPosition());\r\n  const bounds = shape.getBounds();\r\n  let orientation = _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"ORIENTATION\"].X;\r\n  let direction;\r\n\r\n  if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isInBetween(position.x, bounds.left, bounds.right)) {\r\n    orientation = _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"ORIENTATION\"].Y;\r\n  }\r\n\r\n  if (orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"ORIENTATION\"].Y) {\r\n    direction = diff.y;\r\n  } else {\r\n    direction = diff.x;\r\n  }\r\n\r\n  return {\r\n    direction,\r\n    orientation,\r\n    point: position,\r\n    mode: _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].DEST,\r\n  };\r\n}\r\n\r\nclass DraggableConnectionBehavior extends _DragBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._dom = {};\r\n    this._shape = null;\r\n    this._otherShape = null;\r\n    this._onPortChange = this._onPortChange.bind(this);\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  startDrag(position, options) {\r\n    super.startDrag();\r\n    this._dom.origHandler.setAttribute('pointer-events', 'none');\r\n    this._dom.destHandler.setAttribute('pointer-events', 'none');\r\n    // TODO: next line is a workaround, find a way to allow click into canvas with a Connection.\r\n    this._target.getElement().setAttribute('pointer-events', 'none');\r\n  }\r\n\r\n  start(shape, draggingPoint) {\r\n    this._shape = shape;\r\n    this._target.getCanvas().setDraggingConnection(this._target, draggingPoint);\r\n  }\r\n\r\n  _onGrab(event) {\r\n    if (event.button !== 0) return;\r\n\r\n    const { _target } = this;\r\n    const draggingPoint = Number(event.target.dataset.point);\r\n\r\n    super._onGrab(event);\r\n    _target.getCanvas().startReconnection(_target, draggingPoint);\r\n  }\r\n\r\n  end() {\r\n    const { _target } = this;\r\n\r\n    // TODO: this avoid to calling this method more than necessaty times, but maybe it should be replaced by a variable\r\n    // like _ended and another to identify if the behavior was started like _started.\r\n    if (!this._shape && !this._otherShape) return;\r\n\r\n    super.endDrag();\r\n\r\n    this._shape = null;\r\n    this._otherShape = null;\r\n    this._dom.origHandler.removeAttribute('pointer-events');\r\n    this._dom.destHandler.removeAttribute('pointer-events');\r\n    // TODO: next line is a workaround, find a way to allow click into canvas with a Connection.\r\n    this._target.getElement().removeAttribute('pointer-events');\r\n\r\n    // TODO: Check if all inherited classes from DragBehavior make following call,\r\n    // if they do, so it could be move to its end() method.\r\n    this._target.getCanvas().setDraggingConnection(null);\r\n\r\n    if (_target.getOrigShape() && _target.getDestShape()) {\r\n      _target.make();\r\n    } else {\r\n      _target.remove();\r\n    }\r\n  }\r\n\r\n  // TODO: Consider remove endDrag() method in favor of end().\r\n  endDrag() {\r\n    this.end();\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  updatePosition(position, { draggingPoint }, modifiers) {\r\n    const shape = this._shape;\r\n    const draggingOrig = draggingPoint === _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].ORIG;\r\n    const mode = draggingOrig ? _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].DEST : _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].ORIG;\r\n    const fakeDescription = this._otherShape\r\n      ? this._otherShape.getConnectionPort(shape, draggingPoint).getDescription()\r\n      : getFakeDescription(position, shape);\r\n    const shapePort = shape.getConnectionPort(fakeDescription, mode);\r\n    const description = shapePort.getDescription();\r\n\r\n    if (draggingOrig) {\r\n      this._updateHandlers(fakeDescription, description);\r\n      this._target._draw(fakeDescription, description);\r\n    } else {\r\n      this._updateHandlers(description, fakeDescription);\r\n      this._target._draw(description, fakeDescription);\r\n    }\r\n  }\r\n\r\n  onShape(shape) {\r\n    this._otherShape = shape;\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  outShape(shape) {\r\n    this._otherShape = null;\r\n  }\r\n\r\n  _getControlsListeners() {\r\n    return {\r\n      mousedown: this._onGrab,\r\n      mouseup: this._onRelease,\r\n    };\r\n  }\r\n\r\n  _createHandlers() {\r\n    const { _target } = this;\r\n\r\n    if (!this._dom.origHandler) {\r\n      const commonClass = 'connection-handler';\r\n\r\n      this._dom.origHandler = _shape_ShapeUI__WEBPACK_IMPORTED_MODULE_4__[\"default\"].createHandler();\r\n      this._dom.destHandler = _shape_ShapeUI__WEBPACK_IMPORTED_MODULE_4__[\"default\"].createHandler();\r\n      this._dom.origHandler.classList.add(commonClass);\r\n      this._dom.destHandler.classList.add(commonClass);\r\n      this._dom.origHandler.dataset.point = _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].ORIG;\r\n      this._dom.destHandler.dataset.point = _connection_Port__WEBPACK_IMPORTED_MODULE_2__[\"MODE\"].DEST;\r\n\r\n      // TODO: Fix this access to private member\r\n      _target._addControl(this._dom.origHandler, this._getControlsListeners());\r\n      _target._addControl(this._dom.destHandler, this._getControlsListeners());\r\n    }\r\n  }\r\n\r\n  _updateHandlers({ point: origPoint }, { point: destPoint }) {\r\n    if ([origPoint, destPoint].includes(null)) return;\r\n\r\n    this._dom.origHandler.setAttribute('cx', origPoint.x);\r\n    this._dom.origHandler.setAttribute('cy', origPoint.y);\r\n    this._dom.destHandler.setAttribute('cx', destPoint.x);\r\n    this._dom.destHandler.setAttribute('cy', destPoint.y);\r\n  }\r\n\r\n  _onPortChange(customEvent, { origPort, destPort }) {\r\n    if (origPort && destPort) {\r\n      this._updateHandlers(origPort.getDescription(), destPort.getDescription());\r\n    }\r\n  }\r\n\r\n  _getDraggableElement() {\r\n    return [this._dom.origHandler, this._dom.destHandler];\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n\r\n    _target.getCanvas().addListener(_connection_Connection__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].PORT_CHANGE, _target, this._onPortChange,\r\n      this);\r\n\r\n    this._createHandlers();\r\n    super.attach();\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n\r\n    _target.getCanvas().removeListener(_connection_Connection__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].PORT_CHANGE, _target, this._onPortChange, this);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggableConnectionBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yLmpzPzEwNGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTBDO0FBQzJCO0FBQ0Q7QUFDM0I7QUFDRjs7QUFFdkM7QUFDQSxlQUFlLHVEQUFRO0FBQ3ZCO0FBQ0Esb0JBQW9CLDREQUFXO0FBQy9COztBQUVBLE1BQU0sdURBQVE7QUFDZCxrQkFBa0IsNERBQVc7QUFDN0I7O0FBRUEsc0JBQXNCLDREQUFXO0FBQ2pDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFEQUFTO0FBQ25CO0FBQ0E7O0FBRUEsMENBQTBDLHFEQUFZO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyxVQUFVO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0EsMkNBQTJDLHFEQUFTO0FBQ3BELGdDQUFnQyxxREFBUyxRQUFRLHFEQUFTO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7O0FBRXJCO0FBQ0E7O0FBRUEsOEJBQThCLHNEQUFPO0FBQ3JDLDhCQUE4QixzREFBTztBQUNyQztBQUNBO0FBQ0EsNENBQTRDLHFEQUFTO0FBQ3JELDRDQUE0QyxxREFBUzs7QUFFckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsbUJBQW1CLEdBQUcsbUJBQW1CO0FBQzVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLHFCQUFxQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7O0FBRXJCLG9DQUFvQyw0REFBZ0I7QUFDcEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVOztBQUVyQix1Q0FBdUMsNERBQWdCO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFZSwwRkFBMkIsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9iZWhhdmlvci9EcmFnZ2FibGVDb25uZWN0aW9uQmVoYXZpb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhZ0JlaGF2aW9yIGZyb20gJy4vRHJhZ0JlaGF2aW9yJztcclxuaW1wb3J0IHsgRVZFTlQgYXMgQ09OTkVDVElPTl9FVkVOVCB9IGZyb20gJy4uL2Nvbm5lY3Rpb24vQ29ubmVjdGlvbic7XHJcbmltcG9ydCB7IE9SSUVOVEFUSU9OLCBNT0RFIGFzIFBPUlRfTU9ERSB9IGZyb20gJy4uL2Nvbm5lY3Rpb24vUG9ydCc7XHJcbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuLi91dGlscy9HZW9tZXRyeSc7XHJcbmltcG9ydCBTaGFwZVVJIGZyb20gJy4uL3NoYXBlL1NoYXBlVUknO1xyXG5cclxuZnVuY3Rpb24gZ2V0RmFrZURlc2NyaXB0aW9uKHBvc2l0aW9uLCBzaGFwZSkge1xyXG4gIGNvbnN0IGRpZmYgPSBHZW9tZXRyeS5nZXROb3JtYWxpemVkUG9zaXRpb24ocG9zaXRpb24sIHNoYXBlLmdldFBvc2l0aW9uKCkpO1xyXG4gIGNvbnN0IGJvdW5kcyA9IHNoYXBlLmdldEJvdW5kcygpO1xyXG4gIGxldCBvcmllbnRhdGlvbiA9IE9SSUVOVEFUSU9OLlg7XHJcbiAgbGV0IGRpcmVjdGlvbjtcclxuXHJcbiAgaWYgKEdlb21ldHJ5LmlzSW5CZXR3ZWVuKHBvc2l0aW9uLngsIGJvdW5kcy5sZWZ0LCBib3VuZHMucmlnaHQpKSB7XHJcbiAgICBvcmllbnRhdGlvbiA9IE9SSUVOVEFUSU9OLlk7XHJcbiAgfVxyXG5cclxuICBpZiAob3JpZW50YXRpb24gPT09IE9SSUVOVEFUSU9OLlkpIHtcclxuICAgIGRpcmVjdGlvbiA9IGRpZmYueTtcclxuICB9IGVsc2Uge1xyXG4gICAgZGlyZWN0aW9uID0gZGlmZi54O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGRpcmVjdGlvbixcclxuICAgIG9yaWVudGF0aW9uLFxyXG4gICAgcG9pbnQ6IHBvc2l0aW9uLFxyXG4gICAgbW9kZTogUE9SVF9NT0RFLkRFU1QsXHJcbiAgfTtcclxufVxyXG5cclxuY2xhc3MgRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yIGV4dGVuZHMgRHJhZ0JlaGF2aW9yIHtcclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHNldHRpbmdzKSB7XHJcbiAgICBzdXBlcih0YXJnZXQsIHNldHRpbmdzKTtcclxuXHJcbiAgICB0aGlzLl9kb20gPSB7fTtcclxuICAgIHRoaXMuX3NoYXBlID0gbnVsbDtcclxuICAgIHRoaXMuX290aGVyU2hhcGUgPSBudWxsO1xyXG4gICAgdGhpcy5fb25Qb3J0Q2hhbmdlID0gdGhpcy5fb25Qb3J0Q2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICBzdGFydERyYWcocG9zaXRpb24sIG9wdGlvbnMpIHtcclxuICAgIHN1cGVyLnN0YXJ0RHJhZygpO1xyXG4gICAgdGhpcy5fZG9tLm9yaWdIYW5kbGVyLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xyXG4gICAgdGhpcy5fZG9tLmRlc3RIYW5kbGVyLnNldEF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xyXG4gICAgLy8gVE9ETzogbmV4dCBsaW5lIGlzIGEgd29ya2Fyb3VuZCwgZmluZCBhIHdheSB0byBhbGxvdyBjbGljayBpbnRvIGNhbnZhcyB3aXRoIGEgQ29ubmVjdGlvbi5cclxuICAgIHRoaXMuX3RhcmdldC5nZXRFbGVtZW50KCkuc2V0QXR0cmlidXRlKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XHJcbiAgfVxyXG5cclxuICBzdGFydChzaGFwZSwgZHJhZ2dpbmdQb2ludCkge1xyXG4gICAgdGhpcy5fc2hhcGUgPSBzaGFwZTtcclxuICAgIHRoaXMuX3RhcmdldC5nZXRDYW52YXMoKS5zZXREcmFnZ2luZ0Nvbm5lY3Rpb24odGhpcy5fdGFyZ2V0LCBkcmFnZ2luZ1BvaW50KTtcclxuICB9XHJcblxyXG4gIF9vbkdyYWIoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5idXR0b24gIT09IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBkcmFnZ2luZ1BvaW50ID0gTnVtYmVyKGV2ZW50LnRhcmdldC5kYXRhc2V0LnBvaW50KTtcclxuXHJcbiAgICBzdXBlci5fb25HcmFiKGV2ZW50KTtcclxuICAgIF90YXJnZXQuZ2V0Q2FudmFzKCkuc3RhcnRSZWNvbm5lY3Rpb24oX3RhcmdldCwgZHJhZ2dpbmdQb2ludCk7XHJcbiAgfVxyXG5cclxuICBlbmQoKSB7XHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcblxyXG4gICAgLy8gVE9ETzogdGhpcyBhdm9pZCB0byBjYWxsaW5nIHRoaXMgbWV0aG9kIG1vcmUgdGhhbiBuZWNlc3NhdHkgdGltZXMsIGJ1dCBtYXliZSBpdCBzaG91bGQgYmUgcmVwbGFjZWQgYnkgYSB2YXJpYWJsZVxyXG4gICAgLy8gbGlrZSBfZW5kZWQgYW5kIGFub3RoZXIgdG8gaWRlbnRpZnkgaWYgdGhlIGJlaGF2aW9yIHdhcyBzdGFydGVkIGxpa2UgX3N0YXJ0ZWQuXHJcbiAgICBpZiAoIXRoaXMuX3NoYXBlICYmICF0aGlzLl9vdGhlclNoYXBlKSByZXR1cm47XHJcblxyXG4gICAgc3VwZXIuZW5kRHJhZygpO1xyXG5cclxuICAgIHRoaXMuX3NoYXBlID0gbnVsbDtcclxuICAgIHRoaXMuX290aGVyU2hhcGUgPSBudWxsO1xyXG4gICAgdGhpcy5fZG9tLm9yaWdIYW5kbGVyLnJlbW92ZUF0dHJpYnV0ZSgncG9pbnRlci1ldmVudHMnKTtcclxuICAgIHRoaXMuX2RvbS5kZXN0SGFuZGxlci5yZW1vdmVBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJyk7XHJcbiAgICAvLyBUT0RPOiBuZXh0IGxpbmUgaXMgYSB3b3JrYXJvdW5kLCBmaW5kIGEgd2F5IHRvIGFsbG93IGNsaWNrIGludG8gY2FudmFzIHdpdGggYSBDb25uZWN0aW9uLlxyXG4gICAgdGhpcy5fdGFyZ2V0LmdldEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoJ3BvaW50ZXItZXZlbnRzJyk7XHJcblxyXG4gICAgLy8gVE9ETzogQ2hlY2sgaWYgYWxsIGluaGVyaXRlZCBjbGFzc2VzIGZyb20gRHJhZ0JlaGF2aW9yIG1ha2UgZm9sbG93aW5nIGNhbGwsXHJcbiAgICAvLyBpZiB0aGV5IGRvLCBzbyBpdCBjb3VsZCBiZSBtb3ZlIHRvIGl0cyBlbmQoKSBtZXRob2QuXHJcbiAgICB0aGlzLl90YXJnZXQuZ2V0Q2FudmFzKCkuc2V0RHJhZ2dpbmdDb25uZWN0aW9uKG51bGwpO1xyXG5cclxuICAgIGlmIChfdGFyZ2V0LmdldE9yaWdTaGFwZSgpICYmIF90YXJnZXQuZ2V0RGVzdFNoYXBlKCkpIHtcclxuICAgICAgX3RhcmdldC5tYWtlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGFyZ2V0LnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogQ29uc2lkZXIgcmVtb3ZlIGVuZERyYWcoKSBtZXRob2QgaW4gZmF2b3Igb2YgZW5kKCkuXHJcbiAgZW5kRHJhZygpIHtcclxuICAgIHRoaXMuZW5kKCk7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbiwgeyBkcmFnZ2luZ1BvaW50IH0sIG1vZGlmaWVycykge1xyXG4gICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9zaGFwZTtcclxuICAgIGNvbnN0IGRyYWdnaW5nT3JpZyA9IGRyYWdnaW5nUG9pbnQgPT09IFBPUlRfTU9ERS5PUklHO1xyXG4gICAgY29uc3QgbW9kZSA9IGRyYWdnaW5nT3JpZyA/IFBPUlRfTU9ERS5ERVNUIDogUE9SVF9NT0RFLk9SSUc7XHJcbiAgICBjb25zdCBmYWtlRGVzY3JpcHRpb24gPSB0aGlzLl9vdGhlclNoYXBlXHJcbiAgICAgID8gdGhpcy5fb3RoZXJTaGFwZS5nZXRDb25uZWN0aW9uUG9ydChzaGFwZSwgZHJhZ2dpbmdQb2ludCkuZ2V0RGVzY3JpcHRpb24oKVxyXG4gICAgICA6IGdldEZha2VEZXNjcmlwdGlvbihwb3NpdGlvbiwgc2hhcGUpO1xyXG4gICAgY29uc3Qgc2hhcGVQb3J0ID0gc2hhcGUuZ2V0Q29ubmVjdGlvblBvcnQoZmFrZURlc2NyaXB0aW9uLCBtb2RlKTtcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gc2hhcGVQb3J0LmdldERlc2NyaXB0aW9uKCk7XHJcblxyXG4gICAgaWYgKGRyYWdnaW5nT3JpZykge1xyXG4gICAgICB0aGlzLl91cGRhdGVIYW5kbGVycyhmYWtlRGVzY3JpcHRpb24sIGRlc2NyaXB0aW9uKTtcclxuICAgICAgdGhpcy5fdGFyZ2V0Ll9kcmF3KGZha2VEZXNjcmlwdGlvbiwgZGVzY3JpcHRpb24pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fdXBkYXRlSGFuZGxlcnMoZGVzY3JpcHRpb24sIGZha2VEZXNjcmlwdGlvbik7XHJcbiAgICAgIHRoaXMuX3RhcmdldC5fZHJhdyhkZXNjcmlwdGlvbiwgZmFrZURlc2NyaXB0aW9uKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uU2hhcGUoc2hhcGUpIHtcclxuICAgIHRoaXMuX290aGVyU2hhcGUgPSBzaGFwZTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gIG91dFNoYXBlKHNoYXBlKSB7XHJcbiAgICB0aGlzLl9vdGhlclNoYXBlID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9nZXRDb250cm9sc0xpc3RlbmVycygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1vdXNlZG93bjogdGhpcy5fb25HcmFiLFxyXG4gICAgICBtb3VzZXVwOiB0aGlzLl9vblJlbGVhc2UsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIGlmICghdGhpcy5fZG9tLm9yaWdIYW5kbGVyKSB7XHJcbiAgICAgIGNvbnN0IGNvbW1vbkNsYXNzID0gJ2Nvbm5lY3Rpb24taGFuZGxlcic7XHJcblxyXG4gICAgICB0aGlzLl9kb20ub3JpZ0hhbmRsZXIgPSBTaGFwZVVJLmNyZWF0ZUhhbmRsZXIoKTtcclxuICAgICAgdGhpcy5fZG9tLmRlc3RIYW5kbGVyID0gU2hhcGVVSS5jcmVhdGVIYW5kbGVyKCk7XHJcbiAgICAgIHRoaXMuX2RvbS5vcmlnSGFuZGxlci5jbGFzc0xpc3QuYWRkKGNvbW1vbkNsYXNzKTtcclxuICAgICAgdGhpcy5fZG9tLmRlc3RIYW5kbGVyLmNsYXNzTGlzdC5hZGQoY29tbW9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9kb20ub3JpZ0hhbmRsZXIuZGF0YXNldC5wb2ludCA9IFBPUlRfTU9ERS5PUklHO1xyXG4gICAgICB0aGlzLl9kb20uZGVzdEhhbmRsZXIuZGF0YXNldC5wb2ludCA9IFBPUlRfTU9ERS5ERVNUO1xyXG5cclxuICAgICAgLy8gVE9ETzogRml4IHRoaXMgYWNjZXNzIHRvIHByaXZhdGUgbWVtYmVyXHJcbiAgICAgIF90YXJnZXQuX2FkZENvbnRyb2wodGhpcy5fZG9tLm9yaWdIYW5kbGVyLCB0aGlzLl9nZXRDb250cm9sc0xpc3RlbmVycygpKTtcclxuICAgICAgX3RhcmdldC5fYWRkQ29udHJvbCh0aGlzLl9kb20uZGVzdEhhbmRsZXIsIHRoaXMuX2dldENvbnRyb2xzTGlzdGVuZXJzKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZUhhbmRsZXJzKHsgcG9pbnQ6IG9yaWdQb2ludCB9LCB7IHBvaW50OiBkZXN0UG9pbnQgfSkge1xyXG4gICAgaWYgKFtvcmlnUG9pbnQsIGRlc3RQb2ludF0uaW5jbHVkZXMobnVsbCkpIHJldHVybjtcclxuXHJcbiAgICB0aGlzLl9kb20ub3JpZ0hhbmRsZXIuc2V0QXR0cmlidXRlKCdjeCcsIG9yaWdQb2ludC54KTtcclxuICAgIHRoaXMuX2RvbS5vcmlnSGFuZGxlci5zZXRBdHRyaWJ1dGUoJ2N5Jywgb3JpZ1BvaW50LnkpO1xyXG4gICAgdGhpcy5fZG9tLmRlc3RIYW5kbGVyLnNldEF0dHJpYnV0ZSgnY3gnLCBkZXN0UG9pbnQueCk7XHJcbiAgICB0aGlzLl9kb20uZGVzdEhhbmRsZXIuc2V0QXR0cmlidXRlKCdjeScsIGRlc3RQb2ludC55KTtcclxuICB9XHJcblxyXG4gIF9vblBvcnRDaGFuZ2UoY3VzdG9tRXZlbnQsIHsgb3JpZ1BvcnQsIGRlc3RQb3J0IH0pIHtcclxuICAgIGlmIChvcmlnUG9ydCAmJiBkZXN0UG9ydCkge1xyXG4gICAgICB0aGlzLl91cGRhdGVIYW5kbGVycyhvcmlnUG9ydC5nZXREZXNjcmlwdGlvbigpLCBkZXN0UG9ydC5nZXREZXNjcmlwdGlvbigpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9nZXREcmFnZ2FibGVFbGVtZW50KCkge1xyXG4gICAgcmV0dXJuIFt0aGlzLl9kb20ub3JpZ0hhbmRsZXIsIHRoaXMuX2RvbS5kZXN0SGFuZGxlcl07XHJcbiAgfVxyXG5cclxuICBhdHRhY2goKSB7XHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcblxyXG4gICAgX3RhcmdldC5nZXRDYW52YXMoKS5hZGRMaXN0ZW5lcihDT05ORUNUSU9OX0VWRU5ULlBPUlRfQ0hBTkdFLCBfdGFyZ2V0LCB0aGlzLl9vblBvcnRDaGFuZ2UsXHJcbiAgICAgIHRoaXMpO1xyXG5cclxuICAgIHRoaXMuX2NyZWF0ZUhhbmRsZXJzKCk7XHJcbiAgICBzdXBlci5hdHRhY2goKTtcclxuICB9XHJcblxyXG4gIGRldGFjaCgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuXHJcbiAgICBfdGFyZ2V0LmdldENhbnZhcygpLnJlbW92ZUxpc3RlbmVyKENPTk5FQ1RJT05fRVZFTlQuUE9SVF9DSEFOR0UsIF90YXJnZXQsIHRoaXMuX29uUG9ydENoYW5nZSwgdGhpcyk7XHJcbiAgICBzdXBlci5kZXRhY2goKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyYWdnYWJsZUNvbm5lY3Rpb25CZWhhdmlvcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggableConnectionBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggableConnectionBehaviorFactory.js":
/*!***************************************************************!*\
  !*** ./src/js/behavior/DraggableConnectionBehaviorFactory.js ***!
  \***************************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _DraggableConnectionBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DraggableConnectionBehavior */ \"./src/js/behavior/DraggableConnectionBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\n\r\nconst DraggableConnectionBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _DraggableConnectionBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggableConnectionBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yRmFjdG9yeS5qcz9hYzFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ2tDOztBQUV4RTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0QsK0NBQStDLHFEQUFPO0FBQ3REO0FBQ0Esd0JBQXdCLG9FQUEyQjtBQUNuRCxHQUFHO0FBQ0gsQ0FBQzs7QUFFYyxpR0FBa0MsRUFBQztBQUM5QiIsImZpbGUiOiIuL3NyYy9qcy9iZWhhdmlvci9EcmFnZ2FibGVDb25uZWN0aW9uQmVoYXZpb3JGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IERyYWdnYWJsZUNvbm5lY3Rpb25CZWhhdmlvciBmcm9tICcuL0RyYWdnYWJsZUNvbm5lY3Rpb25CZWhhdmlvcic7XHJcblxyXG5jb25zdCBQUk9EVUNUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIERFRkFVTFQ6ICdkZWZhdWx0JyxcclxufSk7XHJcblxyXG5cclxuY29uc3QgRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBEcmFnZ2FibGVDb25uZWN0aW9uQmVoYXZpb3IsXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2FibGVDb25uZWN0aW9uQmVoYXZpb3JGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggableConnectionBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggableShapeBehavior.js":
/*!***************************************************!*\
  !*** ./src/js/behavior/DraggableShapeBehavior.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _DragBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DragBehavior */ \"./src/js/behavior/DragBehavior.js\");\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass DraggableShapeBehavior extends _DragBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    if (!(target instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_4__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    super(target, settings);\r\n\r\n    // TODO: A way to get rid of _diff approach would be to get relative canvas pos.\r\n    this._diff = {\r\n      x: 0,\r\n      y: 0,\r\n    };\r\n    this._lastPosition = null;\r\n    this._lastDragPosition = null;\r\n    this.updatePosition = this._bind(this.updatePosition);\r\n  }\r\n\r\n  _onGrab(event) {\r\n    if (event.button !== 0) return;\r\n\r\n    const canvas = this._target.getCanvas();\r\n\r\n    super._onGrab(event);\r\n    // TODO: can this be generalized in DragBehavior?\r\n    canvas.setDraggingShape(this._target);\r\n  }\r\n\r\n  startDrag(point) {\r\n    if (!this._dragging) {\r\n      super.startDrag(point);\r\n      // TODO: When BaseElement inherits from EventTarget, the method\r\n      // should trigger the event from itself.\r\n      this._target.getCanvas().dispatchEvent(_shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG_START, this._target);\r\n    }\r\n  }\r\n\r\n  endDrag(event) {\r\n    if (this._grabbed || this._dragging) {\r\n      const { _target, _dragging } = this;\r\n      const canvas = _target.getCanvas();\r\n\r\n      super.endDrag(event);\r\n      // TODO: Can this be generalized in DragBehavior?\r\n      canvas.setDraggingShape(null);\r\n      if (_dragging) {\r\n        const diff = _utils_Geometry__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getDiff(_target.getPosition(), this._lastDragPosition);\r\n\r\n        if (diff.x !== 0 || diff.y !== 0) {\r\n          canvas.executeCommand(_command_CommandFactory__WEBPACK_IMPORTED_MODULE_3__[\"PRODUCTS\"].SHAPE_POSITION, _target, this._lastDragPosition);\r\n        } else {\r\n          _target.setPosition(this._lastDragPosition);\r\n        }\r\n\r\n        canvas.dispatchEvent(_shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG_END, _target);\r\n      }\r\n      this._lastPosition = null;\r\n      this._lastDragPosition = null;\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _evaluate(diffX, diffY) {\r\n    return {\r\n      diffX,\r\n      diffY,\r\n    };\r\n  }\r\n\r\n  updatePosition({ x, y }) {\r\n    if (!this._lastPosition) {\r\n      this._lastPosition = this._target.getPosition();\r\n    }\r\n\r\n    this._diff.x += x - this._lastPosition.x;\r\n    this._diff.y += y - this._lastPosition.y;\r\n\r\n    const diff = this._evaluate(this._diff.x, this._diff.y);\r\n\r\n    if (diff) {\r\n      const target = this._target;\r\n      const canvas = target.getCanvas();\r\n      const { x: posX, y: posY } = this._lastDragPosition || target.getPosition();\r\n      const dragPosition = {\r\n        x: posX + this._diff.x,\r\n        y: posY + this._diff.y,\r\n      };\r\n\r\n      this._lastPosition = { x, y };\r\n      this._diff.x = 0;\r\n      this._diff.y = 0;\r\n\r\n      target._updatePosition(dragPosition.x, dragPosition.y);\r\n      this._lastDragPosition = dragPosition;\r\n\r\n      // TODO: this event should return at least current drag position.\r\n      canvas.dispatchEvent(_shape_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG, this._target, dragPosition);\r\n    }\r\n\r\n    super.updatePosition({ x, y });\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n\r\n    _target._getMainElement().addEventListener('mousedown', this._onGrab, false);\r\n    _target._getMainElement().addEventListener('click', this._onRelease, false);\r\n    super.attach();\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n\r\n    _target._getMainElement().removeEventListener('mousedown', this._onGrab, false);\r\n    _target._getMainElement().removeEventListener('click', this._onRelease, false);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggableShapeBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dhYmxlU2hhcGVCZWhhdmlvci5qcz9iNmNhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUEwQztBQUNtQjtBQUNwQjtBQUN3QjtBQUNoQjs7QUFFakQscUNBQXFDLHFEQUFZO0FBQ2pEO0FBQ0EsNEJBQTRCLG9EQUFLO0FBQ2pDLE1BQU0sMkRBQVk7QUFDbEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrREFBVztBQUN4RDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLHFCQUFxQjtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1REFBUTs7QUFFN0I7QUFDQSxnQ0FBZ0MsZ0VBQVE7QUFDeEMsU0FBUztBQUNUO0FBQ0E7O0FBRUEsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLE9BQU87QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTRCO0FBQzVCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJCQUEyQixrREFBVztBQUN0Qzs7QUFFQSwwQkFBMEIsT0FBTztBQUNqQzs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBOztBQUVlLHFGQUFzQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0RyYWdnYWJsZVNoYXBlQmVoYXZpb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhZ0JlaGF2aW9yIGZyb20gJy4vRHJhZ0JlaGF2aW9yJztcclxuaW1wb3J0IFNoYXBlLCB7IEVWRU5UIGFzIFNIQVBFX0VWRU5UIH0gZnJvbSAnLi4vc2hhcGUvU2hhcGUnO1xyXG5pbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vdXRpbHMvR2VvbWV0cnknO1xyXG5pbXBvcnQgeyBQUk9EVUNUUyBhcyBDT01NQU5EUyB9IGZyb20gJy4uL2NvbW1hbmQvQ29tbWFuZEZhY3RvcnknO1xyXG5pbXBvcnQgRXJyb3JUaHJvd2VyIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG5jbGFzcyBEcmFnZ2FibGVTaGFwZUJlaGF2aW9yIGV4dGVuZHMgRHJhZ0JlaGF2aW9yIHtcclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHNldHRpbmdzKSB7XHJcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBTaGFwZSkpIHtcclxuICAgICAgRXJyb3JUaHJvd2VyLmludmFsaWRQYXJhbWV0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdXBlcih0YXJnZXQsIHNldHRpbmdzKTtcclxuXHJcbiAgICAvLyBUT0RPOiBBIHdheSB0byBnZXQgcmlkIG9mIF9kaWZmIGFwcHJvYWNoIHdvdWxkIGJlIHRvIGdldCByZWxhdGl2ZSBjYW52YXMgcG9zLlxyXG4gICAgdGhpcy5fZGlmZiA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgIH07XHJcbiAgICB0aGlzLl9sYXN0UG9zaXRpb24gPSBudWxsO1xyXG4gICAgdGhpcy5fbGFzdERyYWdQb3NpdGlvbiA9IG51bGw7XHJcbiAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uID0gdGhpcy5fYmluZCh0aGlzLnVwZGF0ZVBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIF9vbkdyYWIoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5idXR0b24gIT09IDApIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLl90YXJnZXQuZ2V0Q2FudmFzKCk7XHJcblxyXG4gICAgc3VwZXIuX29uR3JhYihldmVudCk7XHJcbiAgICAvLyBUT0RPOiBjYW4gdGhpcyBiZSBnZW5lcmFsaXplZCBpbiBEcmFnQmVoYXZpb3I/XHJcbiAgICBjYW52YXMuc2V0RHJhZ2dpbmdTaGFwZSh0aGlzLl90YXJnZXQpO1xyXG4gIH1cclxuXHJcbiAgc3RhcnREcmFnKHBvaW50KSB7XHJcbiAgICBpZiAoIXRoaXMuX2RyYWdnaW5nKSB7XHJcbiAgICAgIHN1cGVyLnN0YXJ0RHJhZyhwb2ludCk7XHJcbiAgICAgIC8vIFRPRE86IFdoZW4gQmFzZUVsZW1lbnQgaW5oZXJpdHMgZnJvbSBFdmVudFRhcmdldCwgdGhlIG1ldGhvZFxyXG4gICAgICAvLyBzaG91bGQgdHJpZ2dlciB0aGUgZXZlbnQgZnJvbSBpdHNlbGYuXHJcbiAgICAgIHRoaXMuX3RhcmdldC5nZXRDYW52YXMoKS5kaXNwYXRjaEV2ZW50KFNIQVBFX0VWRU5ULkRSQUdfU1RBUlQsIHRoaXMuX3RhcmdldCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbmREcmFnKGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5fZ3JhYmJlZCB8fCB0aGlzLl9kcmFnZ2luZykge1xyXG4gICAgICBjb25zdCB7IF90YXJnZXQsIF9kcmFnZ2luZyB9ID0gdGhpcztcclxuICAgICAgY29uc3QgY2FudmFzID0gX3RhcmdldC5nZXRDYW52YXMoKTtcclxuXHJcbiAgICAgIHN1cGVyLmVuZERyYWcoZXZlbnQpO1xyXG4gICAgICAvLyBUT0RPOiBDYW4gdGhpcyBiZSBnZW5lcmFsaXplZCBpbiBEcmFnQmVoYXZpb3I/XHJcbiAgICAgIGNhbnZhcy5zZXREcmFnZ2luZ1NoYXBlKG51bGwpO1xyXG4gICAgICBpZiAoX2RyYWdnaW5nKSB7XHJcbiAgICAgICAgY29uc3QgZGlmZiA9IEdlb21ldHJ5LmdldERpZmYoX3RhcmdldC5nZXRQb3NpdGlvbigpLCB0aGlzLl9sYXN0RHJhZ1Bvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKGRpZmYueCAhPT0gMCB8fCBkaWZmLnkgIT09IDApIHtcclxuICAgICAgICAgIGNhbnZhcy5leGVjdXRlQ29tbWFuZChDT01NQU5EUy5TSEFQRV9QT1NJVElPTiwgX3RhcmdldCwgdGhpcy5fbGFzdERyYWdQb3NpdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIF90YXJnZXQuc2V0UG9zaXRpb24odGhpcy5fbGFzdERyYWdQb3NpdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYW52YXMuZGlzcGF0Y2hFdmVudChTSEFQRV9FVkVOVC5EUkFHX0VORCwgX3RhcmdldCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gbnVsbDtcclxuICAgICAgdGhpcy5fbGFzdERyYWdQb3NpdGlvbiA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xyXG4gIF9ldmFsdWF0ZShkaWZmWCwgZGlmZlkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGRpZmZYLFxyXG4gICAgICBkaWZmWSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICB1cGRhdGVQb3NpdGlvbih7IHgsIHkgfSkge1xyXG4gICAgaWYgKCF0aGlzLl9sYXN0UG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gdGhpcy5fdGFyZ2V0LmdldFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZGlmZi54ICs9IHggLSB0aGlzLl9sYXN0UG9zaXRpb24ueDtcclxuICAgIHRoaXMuX2RpZmYueSArPSB5IC0gdGhpcy5fbGFzdFBvc2l0aW9uLnk7XHJcblxyXG4gICAgY29uc3QgZGlmZiA9IHRoaXMuX2V2YWx1YXRlKHRoaXMuX2RpZmYueCwgdGhpcy5fZGlmZi55KTtcclxuXHJcbiAgICBpZiAoZGlmZikge1xyXG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XHJcbiAgICAgIGNvbnN0IGNhbnZhcyA9IHRhcmdldC5nZXRDYW52YXMoKTtcclxuICAgICAgY29uc3QgeyB4OiBwb3NYLCB5OiBwb3NZIH0gPSB0aGlzLl9sYXN0RHJhZ1Bvc2l0aW9uIHx8IHRhcmdldC5nZXRQb3NpdGlvbigpO1xyXG4gICAgICBjb25zdCBkcmFnUG9zaXRpb24gPSB7XHJcbiAgICAgICAgeDogcG9zWCArIHRoaXMuX2RpZmYueCxcclxuICAgICAgICB5OiBwb3NZICsgdGhpcy5fZGlmZi55LFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0geyB4LCB5IH07XHJcbiAgICAgIHRoaXMuX2RpZmYueCA9IDA7XHJcbiAgICAgIHRoaXMuX2RpZmYueSA9IDA7XHJcblxyXG4gICAgICB0YXJnZXQuX3VwZGF0ZVBvc2l0aW9uKGRyYWdQb3NpdGlvbi54LCBkcmFnUG9zaXRpb24ueSk7XHJcbiAgICAgIHRoaXMuX2xhc3REcmFnUG9zaXRpb24gPSBkcmFnUG9zaXRpb247XHJcblxyXG4gICAgICAvLyBUT0RPOiB0aGlzIGV2ZW50IHNob3VsZCByZXR1cm4gYXQgbGVhc3QgY3VycmVudCBkcmFnIHBvc2l0aW9uLlxyXG4gICAgICBjYW52YXMuZGlzcGF0Y2hFdmVudChTSEFQRV9FVkVOVC5EUkFHLCB0aGlzLl90YXJnZXQsIGRyYWdQb3NpdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIudXBkYXRlUG9zaXRpb24oeyB4LCB5IH0pO1xyXG4gIH1cclxuXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIF90YXJnZXQuX2dldE1haW5FbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5fb25HcmFiLCBmYWxzZSk7XHJcbiAgICBfdGFyZ2V0Ll9nZXRNYWluRWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25SZWxlYXNlLCBmYWxzZSk7XHJcbiAgICBzdXBlci5hdHRhY2goKTtcclxuICB9XHJcblxyXG4gIGRldGFjaCgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuXHJcbiAgICBfdGFyZ2V0Ll9nZXRNYWluRWxlbWVudCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX29uR3JhYiwgZmFsc2UpO1xyXG4gICAgX3RhcmdldC5fZ2V0TWFpbkVsZW1lbnQoKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uUmVsZWFzZSwgZmFsc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlU2hhcGVCZWhhdmlvcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggableShapeBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggableShapeBehaviorFactory.js":
/*!**********************************************************!*\
  !*** ./src/js/behavior/DraggableShapeBehaviorFactory.js ***!
  \**********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _DraggableShapeBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DraggableShapeBehavior */ \"./src/js/behavior/DraggableShapeBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\nconst DraggableShapeBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _DraggableShapeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggableShapeBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dhYmxlU2hhcGVCZWhhdmlvckZhY3RvcnkuanM/YjUzMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzQztBQUN3Qjs7QUFFOUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQsMENBQTBDLHFEQUFPO0FBQ2pEO0FBQ0Esd0JBQXdCLCtEQUFzQjtBQUM5QyxHQUFHO0FBQ0gsQ0FBQzs7QUFFYyw0RkFBNkIsRUFBQztBQUN6QiIsImZpbGUiOiIuL3NyYy9qcy9iZWhhdmlvci9EcmFnZ2FibGVTaGFwZUJlaGF2aW9yRmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWN0b3J5IGZyb20gJy4uL2NvcmUvRmFjdG9yeSc7XHJcbmltcG9ydCBEcmFnZ2FibGVTaGFwZUJlaGF2aW9yIGZyb20gJy4vRHJhZ2dhYmxlU2hhcGVCZWhhdmlvcic7XHJcblxyXG5jb25zdCBQUk9EVUNUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIERFRkFVTFQ6ICdkZWZhdWx0JyxcclxufSk7XHJcblxyXG5jb25zdCBEcmFnZ2FibGVTaGFwZUJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBEcmFnZ2FibGVTaGFwZUJlaGF2aW9yLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlU2hhcGVCZWhhdmlvckZhY3Rvcnk7XHJcbmV4cG9ydCB7IFBST0RVQ1RTIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggableShapeBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggingAreaBehavior.js":
/*!*************************************************!*\
  !*** ./src/js/behavior/DraggingAreaBehavior.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n\r\n\r\nclass DraggingAreaBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this.removeDragBehavior();\r\n    this._onMouseMove = this._bind(this._onMouseMove);\r\n    this._onClick = this._onClick.bind(this);\r\n  }\r\n\r\n  removeDragBehavior() {\r\n    const dragBehavior = this._dragBehavior;\r\n\r\n    this._dragBehavior = null;\r\n    this._behaviorOptions = null;\r\n    this._started = false;\r\n\r\n    if (dragBehavior) dragBehavior.endDrag();\r\n  }\r\n\r\n  setDragBehavior(behavior, options = {}) {\r\n    if (behavior !== this._dragBehavior) {\r\n      // TODO: find a better way to access the shape behavior, it's a protected member.\r\n      this.removeDragBehavior();\r\n      this._dragBehavior = behavior;\r\n      this._behaviorOptions = { ...options };\r\n      behavior.getTarget().select();\r\n    }\r\n  }\r\n\r\n  _onMouseMove(event) {\r\n    if (this._dragBehavior) {\r\n      const { clientX, clientY } = event;\r\n      const { x, y } = this._target.clientToCanvas({ x: clientX, y: clientY });\r\n      const position = this.evaluate(x, y);\r\n\r\n      if (!this._started) {\r\n        this._started = true;\r\n        this._dragBehavior.startDrag(position, this._behaviorOptions);\r\n      }\r\n\r\n      if (position) {\r\n        const modifiers = {\r\n          altKey: event.altKey,\r\n          ctrlKey: event.ctrlKey,\r\n          metaKey: event.metaKey,\r\n          shiftKey: event.shiftKey,\r\n        };\r\n\r\n        // TODO: consider to update this method to send the actual position instead of the diff.\r\n        this._dragBehavior.updatePosition(position, this._behaviorOptions, modifiers);\r\n      }\r\n    }\r\n  }\r\n\r\n  _onClick() {\r\n    this.removeDragBehavior();\r\n  }\r\n\r\n  end() {\r\n    this.removeDragBehavior();\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n\r\n    _target.getElement().addEventListener('mousemove', this._onMouseMove, false);\r\n    _target.getElement().addEventListener('click', this._onClick, false);\r\n\r\n    return this;\r\n  }\r\n\r\n  detach() {\r\n    const { _target } = this;\r\n\r\n    _target.getElement().removeEventListener('mousemove', this._onMouseMove, false);\r\n    _target.getElement().removeEventListener('click', this._onClick, false);\r\n\r\n    super.detach();\r\n  }\r\n\r\n  // TODO: this is the method in which snapping could be applied.\r\n  // eslint-disable-next-line class-methods-use-this\r\n  evaluate(diffX, diffY) {\r\n    return {\r\n      x: diffX,\r\n      y: diffY,\r\n    };\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggingAreaBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dpbmdBcmVhQmVoYXZpb3IuanM/ZTg5MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWtDOztBQUVsQyxtQ0FBbUMsaURBQVE7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsbUJBQW1CO0FBQ2hDLGFBQWEsT0FBTyxnQ0FBZ0MseUJBQXlCO0FBQzdFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVOztBQUVyQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG1GQUFvQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0RyYWdnaW5nQXJlYUJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5cclxuY2xhc3MgRHJhZ2dpbmdBcmVhQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBzZXR0aW5ncykge1xyXG4gICAgc3VwZXIodGFyZ2V0LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5yZW1vdmVEcmFnQmVoYXZpb3IoKTtcclxuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fYmluZCh0aGlzLl9vbk1vdXNlTW92ZSk7XHJcbiAgICB0aGlzLl9vbkNsaWNrID0gdGhpcy5fb25DbGljay5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRHJhZ0JlaGF2aW9yKCkge1xyXG4gICAgY29uc3QgZHJhZ0JlaGF2aW9yID0gdGhpcy5fZHJhZ0JlaGF2aW9yO1xyXG5cclxuICAgIHRoaXMuX2RyYWdCZWhhdmlvciA9IG51bGw7XHJcbiAgICB0aGlzLl9iZWhhdmlvck9wdGlvbnMgPSBudWxsO1xyXG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChkcmFnQmVoYXZpb3IpIGRyYWdCZWhhdmlvci5lbmREcmFnKCk7XHJcbiAgfVxyXG5cclxuICBzZXREcmFnQmVoYXZpb3IoYmVoYXZpb3IsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgaWYgKGJlaGF2aW9yICE9PSB0aGlzLl9kcmFnQmVoYXZpb3IpIHtcclxuICAgICAgLy8gVE9ETzogZmluZCBhIGJldHRlciB3YXkgdG8gYWNjZXNzIHRoZSBzaGFwZSBiZWhhdmlvciwgaXQncyBhIHByb3RlY3RlZCBtZW1iZXIuXHJcbiAgICAgIHRoaXMucmVtb3ZlRHJhZ0JlaGF2aW9yKCk7XHJcbiAgICAgIHRoaXMuX2RyYWdCZWhhdmlvciA9IGJlaGF2aW9yO1xyXG4gICAgICB0aGlzLl9iZWhhdmlvck9wdGlvbnMgPSB7IC4uLm9wdGlvbnMgfTtcclxuICAgICAgYmVoYXZpb3IuZ2V0VGFyZ2V0KCkuc2VsZWN0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgIGlmICh0aGlzLl9kcmFnQmVoYXZpb3IpIHtcclxuICAgICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudDtcclxuICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLl90YXJnZXQuY2xpZW50VG9DYW52YXMoeyB4OiBjbGllbnRYLCB5OiBjbGllbnRZIH0pO1xyXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZXZhbHVhdGUoeCwgeSk7XHJcblxyXG4gICAgICBpZiAoIXRoaXMuX3N0YXJ0ZWQpIHtcclxuICAgICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9kcmFnQmVoYXZpb3Iuc3RhcnREcmFnKHBvc2l0aW9uLCB0aGlzLl9iZWhhdmlvck9wdGlvbnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocG9zaXRpb24pIHtcclxuICAgICAgICBjb25zdCBtb2RpZmllcnMgPSB7XHJcbiAgICAgICAgICBhbHRLZXk6IGV2ZW50LmFsdEtleSxcclxuICAgICAgICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXHJcbiAgICAgICAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5LFxyXG4gICAgICAgICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNvbnNpZGVyIHRvIHVwZGF0ZSB0aGlzIG1ldGhvZCB0byBzZW5kIHRoZSBhY3R1YWwgcG9zaXRpb24gaW5zdGVhZCBvZiB0aGUgZGlmZi5cclxuICAgICAgICB0aGlzLl9kcmFnQmVoYXZpb3IudXBkYXRlUG9zaXRpb24ocG9zaXRpb24sIHRoaXMuX2JlaGF2aW9yT3B0aW9ucywgbW9kaWZpZXJzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uQ2xpY2soKSB7XHJcbiAgICB0aGlzLnJlbW92ZURyYWdCZWhhdmlvcigpO1xyXG4gIH1cclxuXHJcbiAgZW5kKCkge1xyXG4gICAgdGhpcy5yZW1vdmVEcmFnQmVoYXZpb3IoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaCgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuXHJcbiAgICBfdGFyZ2V0LmdldEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgZmFsc2UpO1xyXG4gICAgX3RhcmdldC5nZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLCBmYWxzZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBkZXRhY2goKSB7XHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcblxyXG4gICAgX3RhcmdldC5nZXRFbGVtZW50KCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGZhbHNlKTtcclxuICAgIF90YXJnZXQuZ2V0RWxlbWVudCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljaywgZmFsc2UpO1xyXG5cclxuICAgIHN1cGVyLmRldGFjaCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogdGhpcyBpcyB0aGUgbWV0aG9kIGluIHdoaWNoIHNuYXBwaW5nIGNvdWxkIGJlIGFwcGxpZWQuXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcclxuICBldmFsdWF0ZShkaWZmWCwgZGlmZlkpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGRpZmZYLFxyXG4gICAgICB5OiBkaWZmWSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnZ2luZ0FyZWFCZWhhdmlvcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggingAreaBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/DraggingAreaBehaviorFactory.js":
/*!********************************************************!*\
  !*** ./src/js/behavior/DraggingAreaBehaviorFactory.js ***!
  \********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _DraggingAreaBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DraggingAreaBehavior */ \"./src/js/behavior/DraggingAreaBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 0,\r\n});\r\n\r\nconst DraggingAreaBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _DraggingAreaBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DraggingAreaBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dpbmdBcmVhQmVoYXZpb3JGYWN0b3J5LmpzPzFkNzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDb0I7O0FBRTFEO0FBQ0E7QUFDQSxDQUFDOztBQUVELHdDQUF3QyxxREFBTztBQUMvQztBQUNBLHdCQUF3Qiw2REFBb0I7QUFDNUMsR0FBRztBQUNILENBQUM7O0FBRWMsMEZBQTJCLEVBQUM7QUFDdkIiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvRHJhZ2dpbmdBcmVhQmVoYXZpb3JGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IERyYWdnaW5nQXJlYUJlaGF2aW9yIGZyb20gJy4vRHJhZ2dpbmdBcmVhQmVoYXZpb3InO1xyXG5cclxuY29uc3QgUFJPRFVDVFMgPSBPYmplY3QuZnJlZXplKHtcclxuICBERUZBVUxUOiAwLFxyXG59KTtcclxuXHJcbmNvbnN0IERyYWdnaW5nQXJlYUJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBEcmFnZ2luZ0FyZWFCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyYWdnaW5nQXJlYUJlaGF2aW9yRmFjdG9yeTtcclxuZXhwb3J0IHsgUFJPRFVDVFMgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/DraggingAreaBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/EditableTextBehavior.js":
/*!*************************************************!*\
  !*** ./src/js/behavior/EditableTextBehavior.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n\r\n\r\n\r\n\r\n/**\r\n * @private\r\n * @static\r\n * @type {ShapeText}\r\n * @description The current ShapeText that is in edition.\r\n */\r\nlet currentTarget = null;\r\n/**\r\n * @private\r\n * @static\r\n * @type {SVGElement}\r\n * @description The foreingObject wrapper that wraps the input text element.\r\n */\r\nconst wrapper = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('foreignObject');\r\n/**\r\n * @private\r\n * @static\r\n * @type {HTMLInputElement}\r\n * @description The input text element for enter the text for the shape.\r\n */\r\nconst inputText = document.createElementNS('http://www.w3.org/1999/xhtml', 'input');\r\n\r\ninputText.type = 'text';\r\nwrapper.classList.add('diagramax');\r\nwrapper.classList.add('shape-text-input');\r\nwrapper.setAttribute('width', 100);\r\nwrapper.setAttribute('height', 30);\r\nwrapper.appendChild(inputText);\r\n\r\n/**\r\n * @private\r\n * @description Hides the text input.\r\n */\r\nconst removeInput = () => {\r\n  // This due an issue at removing the element when it's already remove.\r\n  // Failed to execute 'remove' on 'BaseElement': The node to be removed is no longer a child of this\r\n  // node. Perhaps it was moved in a 'blur' event handler?\r\n  try {\r\n    wrapper.remove();\r\n  // eslint-disable-next-line no-empty\r\n  } catch (e) {}\r\n};\r\n\r\n/**\r\n * @private\r\n * @description Updates the text in the ShapeText that currently has in edition mode.\r\n * @param {Event} A change event comming from the input.\r\n */\r\nconst updateText = (event) => {\r\n  const canvas = currentTarget.getCanvas();\r\n\r\n  canvas.executeCommand(_command_CommandFactory__WEBPACK_IMPORTED_MODULE_2__[\"PRODUCTS\"].SHAPE_TEXT, currentTarget, event.target.value);\r\n  removeInput();\r\n};\r\n\r\n/**\r\n * @private\r\n * @description Handles the keyboard events on the input text element.\r\n * @param {KeyboardEvent} event\r\n */\r\nconst onKeyDown = (event) => {\r\n  let code;\r\n\r\n  if (event.code !== undefined) {\r\n    code = event.code;\r\n  } else if (event.keyCode !== undefined) {\r\n    code = event.keyCode === 27 ? 'Escape' : '';\r\n  }\r\n\r\n  if (code === undefined) return;\r\n\r\n  switch (code) {\r\n    case 'Escape':\r\n      inputText.value = currentTarget.getText();\r\n      removeInput();\r\n      break;\r\n    default:\r\n  }\r\n};\r\n\r\ninputText.addEventListener('change', updateText, false);\r\ninputText.addEventListener('keydown', onKeyDown, false);\r\ninputText.addEventListener('blur', removeInput, false);\r\n\r\n/**\r\n * Class that contains the beahvior for edit a ShapeText.\r\n * @extends Behavior\r\n */\r\nclass EditableTextBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._onEnterEditAction = this._bind(this._onEnterEditAction);\r\n  }\r\n\r\n  _onEnterEditAction(event) {\r\n    const { _target } = this;\r\n\r\n    event.stopPropagation();\r\n\r\n    currentTarget = _target;\r\n    inputText.value = _target.getText();\r\n    _target.getElement().appendChild(wrapper);\r\n    inputText.select();\r\n  }\r\n\r\n  end() {\r\n    if (currentTarget === this._target) {\r\n      removeInput();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  attach() {\r\n    this._target.getElement().addEventListener('dblclick', this._onEnterEditAction, false);\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  detach() {\r\n    this._target.getElement().removeEventListener('dblclick', this._onEnterEditAction, false);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditableTextBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRWRpdGFibGVUZXh0QmVoYXZpb3IuanM/MjM3MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4QztBQUNaO0FBQytCOztBQUVqRTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxnQkFBZ0IseURBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixnRUFBUTtBQUNoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlEQUFRO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLG1GQUFvQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0VkaXRhYmxlVGV4dEJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uL2NvcmUvQmFzZUVsZW1lbnQnO1xyXG5pbXBvcnQgQmVoYXZpb3IgZnJvbSAnLi9CZWhhdmlvcic7XHJcbmltcG9ydCB7IFBST0RVQ1RTIGFzIENPTU1BTkRTIH0gZnJvbSAnLi4vY29tbWFuZC9Db21tYW5kRmFjdG9yeSc7XHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICogQHN0YXRpY1xyXG4gKiBAdHlwZSB7U2hhcGVUZXh0fVxyXG4gKiBAZGVzY3JpcHRpb24gVGhlIGN1cnJlbnQgU2hhcGVUZXh0IHRoYXQgaXMgaW4gZWRpdGlvbi5cclxuICovXHJcbmxldCBjdXJyZW50VGFyZ2V0ID0gbnVsbDtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBzdGF0aWNcclxuICogQHR5cGUge1NWR0VsZW1lbnR9XHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgZm9yZWluZ09iamVjdCB3cmFwcGVyIHRoYXQgd3JhcHMgdGhlIGlucHV0IHRleHQgZWxlbWVudC5cclxuICovXHJcbmNvbnN0IHdyYXBwZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ2ZvcmVpZ25PYmplY3QnKTtcclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBzdGF0aWNcclxuICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9XHJcbiAqIEBkZXNjcmlwdGlvbiBUaGUgaW5wdXQgdGV4dCBlbGVtZW50IGZvciBlbnRlciB0aGUgdGV4dCBmb3IgdGhlIHNoYXBlLlxyXG4gKi9cclxuY29uc3QgaW5wdXRUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJywgJ2lucHV0Jyk7XHJcblxyXG5pbnB1dFRleHQudHlwZSA9ICd0ZXh0Jztcclxud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdkaWFncmFtYXgnKTtcclxud3JhcHBlci5jbGFzc0xpc3QuYWRkKCdzaGFwZS10ZXh0LWlucHV0Jyk7XHJcbndyYXBwZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsIDEwMCk7XHJcbndyYXBwZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAzMCk7XHJcbndyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXRUZXh0KTtcclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gSGlkZXMgdGhlIHRleHQgaW5wdXQuXHJcbiAqL1xyXG5jb25zdCByZW1vdmVJbnB1dCA9ICgpID0+IHtcclxuICAvLyBUaGlzIGR1ZSBhbiBpc3N1ZSBhdCByZW1vdmluZyB0aGUgZWxlbWVudCB3aGVuIGl0J3MgYWxyZWFkeSByZW1vdmUuXHJcbiAgLy8gRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlbW92ZScgb24gJ0Jhc2VFbGVtZW50JzogVGhlIG5vZGUgdG8gYmUgcmVtb3ZlZCBpcyBubyBsb25nZXIgYSBjaGlsZCBvZiB0aGlzXHJcbiAgLy8gbm9kZS4gUGVyaGFwcyBpdCB3YXMgbW92ZWQgaW4gYSAnYmx1cicgZXZlbnQgaGFuZGxlcj9cclxuICB0cnkge1xyXG4gICAgd3JhcHBlci5yZW1vdmUoKTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcclxuICB9IGNhdGNoIChlKSB7fVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBVcGRhdGVzIHRoZSB0ZXh0IGluIHRoZSBTaGFwZVRleHQgdGhhdCBjdXJyZW50bHkgaGFzIGluIGVkaXRpb24gbW9kZS5cclxuICogQHBhcmFtIHtFdmVudH0gQSBjaGFuZ2UgZXZlbnQgY29tbWluZyBmcm9tIHRoZSBpbnB1dC5cclxuICovXHJcbmNvbnN0IHVwZGF0ZVRleHQgPSAoZXZlbnQpID0+IHtcclxuICBjb25zdCBjYW52YXMgPSBjdXJyZW50VGFyZ2V0LmdldENhbnZhcygpO1xyXG5cclxuICBjYW52YXMuZXhlY3V0ZUNvbW1hbmQoQ09NTUFORFMuU0hBUEVfVEVYVCwgY3VycmVudFRhcmdldCwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICByZW1vdmVJbnB1dCgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBkZXNjcmlwdGlvbiBIYW5kbGVzIHRoZSBrZXlib2FyZCBldmVudHMgb24gdGhlIGlucHV0IHRleHQgZWxlbWVudC5cclxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudFxyXG4gKi9cclxuY29uc3Qgb25LZXlEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgbGV0IGNvZGU7XHJcblxyXG4gIGlmIChldmVudC5jb2RlICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGNvZGUgPSBldmVudC5jb2RlO1xyXG4gIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBjb2RlID0gZXZlbnQua2V5Q29kZSA9PT0gMjcgPyAnRXNjYXBlJyA6ICcnO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNvZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICBzd2l0Y2ggKGNvZGUpIHtcclxuICAgIGNhc2UgJ0VzY2FwZSc6XHJcbiAgICAgIGlucHV0VGV4dC52YWx1ZSA9IGN1cnJlbnRUYXJnZXQuZ2V0VGV4dCgpO1xyXG4gICAgICByZW1vdmVJbnB1dCgpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgfVxyXG59O1xyXG5cclxuaW5wdXRUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHVwZGF0ZVRleHQsIGZhbHNlKTtcclxuaW5wdXRUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlKTtcclxuaW5wdXRUZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCByZW1vdmVJbnB1dCwgZmFsc2UpO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIGJlYWh2aW9yIGZvciBlZGl0IGEgU2hhcGVUZXh0LlxyXG4gKiBAZXh0ZW5kcyBCZWhhdmlvclxyXG4gKi9cclxuY2xhc3MgRWRpdGFibGVUZXh0QmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBzZXR0aW5ncykge1xyXG4gICAgc3VwZXIodGFyZ2V0LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5fb25FbnRlckVkaXRBY3Rpb24gPSB0aGlzLl9iaW5kKHRoaXMuX29uRW50ZXJFZGl0QWN0aW9uKTtcclxuICB9XHJcblxyXG4gIF9vbkVudGVyRWRpdEFjdGlvbihldmVudCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgIGN1cnJlbnRUYXJnZXQgPSBfdGFyZ2V0O1xyXG4gICAgaW5wdXRUZXh0LnZhbHVlID0gX3RhcmdldC5nZXRUZXh0KCk7XHJcbiAgICBfdGFyZ2V0LmdldEVsZW1lbnQoKS5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcclxuICAgIGlucHV0VGV4dC5zZWxlY3QoKTtcclxuICB9XHJcblxyXG4gIGVuZCgpIHtcclxuICAgIGlmIChjdXJyZW50VGFyZ2V0ID09PSB0aGlzLl90YXJnZXQpIHtcclxuICAgICAgcmVtb3ZlSW5wdXQoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBpbmhlcml0ZG9jXHJcbiAgICovXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgdGhpcy5fdGFyZ2V0LmdldEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuX29uRW50ZXJFZGl0QWN0aW9uLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAaW5oZXJpdGRvY1xyXG4gICAqL1xyXG4gIGRldGFjaCgpIHtcclxuICAgIHRoaXMuX3RhcmdldC5nZXRFbGVtZW50KCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLl9vbkVudGVyRWRpdEFjdGlvbiwgZmFsc2UpO1xyXG4gICAgc3VwZXIuZGV0YWNoKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFZGl0YWJsZVRleHRCZWhhdmlvcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/EditableTextBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/EditableTextBehaviorFactory.js":
/*!********************************************************!*\
  !*** ./src/js/behavior/EditableTextBehaviorFactory.js ***!
  \********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _EditableTextBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditableTextBehavior */ \"./src/js/behavior/EditableTextBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\nconst EditableTextBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _EditableTextBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (EditableTextBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvRWRpdGFibGVUZXh0QmVoYXZpb3JGYWN0b3J5LmpzPzQ0MWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDb0I7O0FBRTFEO0FBQ0E7QUFDQSxDQUFDOztBQUVELHdDQUF3QyxxREFBTztBQUMvQztBQUNBLHdCQUF3Qiw2REFBb0I7QUFDNUMsR0FBRztBQUNILENBQUM7O0FBRWMsMEZBQTJCLEVBQUM7QUFDdkIiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvRWRpdGFibGVUZXh0QmVoYXZpb3JGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IEVkaXRhYmxlVGV4dEJlaGF2aW9yIGZyb20gJy4vRWRpdGFibGVUZXh0QmVoYXZpb3InO1xyXG5cclxuY29uc3QgUFJPRFVDVFMgPSBPYmplY3QuZnJlZXplKHtcclxuICBERUZBVUxUOiAnZGVmYXVsdCcsXHJcbn0pO1xyXG5cclxuY29uc3QgRWRpdGFibGVUZXh0QmVoYXZpb3JGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuREVGQVVMVF06IEVkaXRhYmxlVGV4dEJlaGF2aW9yLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRWRpdGFibGVUZXh0QmVoYXZpb3JGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/behavior/EditableTextBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/KeyboardControlBehavior.js":
/*!****************************************************!*\
  !*** ./src/js/behavior/KeyboardControlBehavior.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n\r\n\r\n\r\n\r\n\r\nclass KeyboardControlBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._onKeyDown = this._bind(this._onKeyDown);\r\n  }\r\n\r\n  _onKeyDown(event) {\r\n    const { _target } = this;\r\n\r\n    // TODO: Is there a native constant for this?\r\n    switch (event.code) {\r\n      case 'Delete':\r\n        // TODO: Maybe all keyboard events should call to already implemented functions.\r\n        // TODO: this could be a Canvas' function, like removeSelection();\r\n        _target.getSelection().forEach((element) => {\r\n          let elementToRemove;\r\n          let commandType;\r\n\r\n          if (element instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\r\n            elementToRemove = _target.findShape(element);\r\n            commandType = _command_CommandFactory__WEBPACK_IMPORTED_MODULE_1__[\"PRODUCTS\"].SHAPE_REMOVE;\r\n          } else if (element instanceof _connection_Connection__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\r\n            elementToRemove = _target.findConnection(element);\r\n            commandType = _command_CommandFactory__WEBPACK_IMPORTED_MODULE_1__[\"PRODUCTS\"].CONNECTION_REMOVE;\r\n          }\r\n\r\n          if (elementToRemove) {\r\n            _target.executeCommand(commandType, elementToRemove);\r\n          }\r\n        });\r\n        break;\r\n      case 'Escape':\r\n        // TODO: this could be a Canvas' method, like endCurrentProcess():\r\n        _target._draggingAreaBehavior.end();\r\n        _target._connectivityAreaBehavior.end();\r\n        _target._selectionBehavior.end();\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n\r\n  attach() {\r\n    this._target.getElement().addEventListener('keydown', this._onKeyDown, false);\r\n    super.attach();\r\n  }\r\n\r\n  detach() {\r\n    this._target.getElement().removeEventListener('keydown', this._onKeyDown, false);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (KeyboardControlBehavior);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvS2V5Ym9hcmRDb250cm9sQmVoYXZpb3IuanM/YzRmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWtDO0FBQytCO0FBQzlCO0FBQ2U7O0FBRWxELHNDQUFzQyxpREFBUTtBQUM5QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaUNBQWlDLG9EQUFLO0FBQ3RDO0FBQ0EsMEJBQTBCLGdFQUFRO0FBQ2xDLFdBQVcsNkJBQTZCLDhEQUFVO0FBQ2xEO0FBQ0EsMEJBQTBCLGdFQUFRO0FBQ2xDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLHNGQUF1QixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL0tleWJvYXJkQ29udHJvbEJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5pbXBvcnQgeyBQUk9EVUNUUyBhcyBDT01NQU5EUyB9IGZyb20gJy4uL2NvbW1hbmQvQ29tbWFuZEZhY3RvcnknO1xyXG5pbXBvcnQgU2hhcGUgZnJvbSAnLi4vc2hhcGUvU2hhcGUnO1xyXG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9jb25uZWN0aW9uL0Nvbm5lY3Rpb24nO1xyXG5cclxuY2xhc3MgS2V5Ym9hcmRDb250cm9sQmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBzZXR0aW5ncykge1xyXG4gICAgc3VwZXIodGFyZ2V0LCBzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fYmluZCh0aGlzLl9vbktleURvd24pO1xyXG4gIH1cclxuXHJcbiAgX29uS2V5RG93bihldmVudCkge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIC8vIFRPRE86IElzIHRoZXJlIGEgbmF0aXZlIGNvbnN0YW50IGZvciB0aGlzP1xyXG4gICAgc3dpdGNoIChldmVudC5jb2RlKSB7XHJcbiAgICAgIGNhc2UgJ0RlbGV0ZSc6XHJcbiAgICAgICAgLy8gVE9ETzogTWF5YmUgYWxsIGtleWJvYXJkIGV2ZW50cyBzaG91bGQgY2FsbCB0byBhbHJlYWR5IGltcGxlbWVudGVkIGZ1bmN0aW9ucy5cclxuICAgICAgICAvLyBUT0RPOiB0aGlzIGNvdWxkIGJlIGEgQ2FudmFzJyBmdW5jdGlvbiwgbGlrZSByZW1vdmVTZWxlY3Rpb24oKTtcclxuICAgICAgICBfdGFyZ2V0LmdldFNlbGVjdGlvbigpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIGxldCBlbGVtZW50VG9SZW1vdmU7XHJcbiAgICAgICAgICBsZXQgY29tbWFuZFR5cGU7XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTaGFwZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50VG9SZW1vdmUgPSBfdGFyZ2V0LmZpbmRTaGFwZShlbGVtZW50KTtcclxuICAgICAgICAgICAgY29tbWFuZFR5cGUgPSBDT01NQU5EUy5TSEFQRV9SRU1PVkU7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBDb25uZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRUb1JlbW92ZSA9IF90YXJnZXQuZmluZENvbm5lY3Rpb24oZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGNvbW1hbmRUeXBlID0gQ09NTUFORFMuQ09OTkVDVElPTl9SRU1PVkU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGVsZW1lbnRUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICBfdGFyZ2V0LmV4ZWN1dGVDb21tYW5kKGNvbW1hbmRUeXBlLCBlbGVtZW50VG9SZW1vdmUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdFc2NhcGUnOlxyXG4gICAgICAgIC8vIFRPRE86IHRoaXMgY291bGQgYmUgYSBDYW52YXMnIG1ldGhvZCwgbGlrZSBlbmRDdXJyZW50UHJvY2VzcygpOlxyXG4gICAgICAgIF90YXJnZXQuX2RyYWdnaW5nQXJlYUJlaGF2aW9yLmVuZCgpO1xyXG4gICAgICAgIF90YXJnZXQuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5lbmQoKTtcclxuICAgICAgICBfdGFyZ2V0Ll9zZWxlY3Rpb25CZWhhdmlvci5lbmQoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGF0dGFjaCgpIHtcclxuICAgIHRoaXMuX3RhcmdldC5nZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xyXG4gICAgc3VwZXIuYXR0YWNoKCk7XHJcbiAgfVxyXG5cclxuICBkZXRhY2goKSB7XHJcbiAgICB0aGlzLl90YXJnZXQuZ2V0RWxlbWVudCgpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcclxuICAgIHN1cGVyLmRldGFjaCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS2V5Ym9hcmRDb250cm9sQmVoYXZpb3I7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/KeyboardControlBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/KeyboardControlBehaviorFactory.js":
/*!***********************************************************!*\
  !*** ./src/js/behavior/KeyboardControlBehaviorFactory.js ***!
  \***********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _KeyboardControlBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyboardControlBehavior */ \"./src/js/behavior/KeyboardControlBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 0,\r\n});\r\n\r\nconst KeyboardControlBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _KeyboardControlBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (KeyboardControlBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvS2V5Ym9hcmRDb250cm9sQmVoYXZpb3JGYWN0b3J5LmpzP2UxMTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDMEI7O0FBRWhFO0FBQ0E7QUFDQSxDQUFDOztBQUVELDJDQUEyQyxxREFBTztBQUNsRDtBQUNBLHdCQUF3QixnRUFBdUI7QUFDL0MsR0FBRztBQUNILENBQUM7O0FBRWMsNkZBQThCLEVBQUM7QUFDMUIiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvS2V5Ym9hcmRDb250cm9sQmVoYXZpb3JGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IEtleWJvYXJkQ29udHJvbEJlaGF2aW9yIGZyb20gJy4vS2V5Ym9hcmRDb250cm9sQmVoYXZpb3InO1xyXG5cclxuY29uc3QgUFJPRFVDVFMgPSBPYmplY3QuZnJlZXplKHtcclxuICBERUZBVUxUOiAwLFxyXG59KTtcclxuXHJcbmNvbnN0IEtleWJvYXJkQ29udHJvbEJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBLZXlib2FyZENvbnRyb2xCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtleWJvYXJkQ29udHJvbEJlaGF2aW9yRmFjdG9yeTtcclxuZXhwb3J0IHsgUFJPRFVDVFMgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/KeyboardControlBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/ResizeBehavior.js":
/*!*******************************************!*\
  !*** ./src/js/behavior/ResizeBehavior.js ***!
  \*******************************************/
/*! exports provided: default, EVENT, DIRECTION */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DIRECTION\", function() { return DIRECTION; });\n/* harmony import */ var _DragBehavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DragBehavior */ \"./src/js/behavior/DragBehavior.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n/* harmony import */ var _shape_ShapeUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shape/ShapeUI */ \"./src/js/shape/ShapeUI.js\");\n\r\n\r\n\r\n\r\n\r\nconst EVENT = Object.freeze({\r\n  START: 'resizestart',\r\n  RESIZE: 'resize',\r\n  END: 'resizeend',\r\n  SIZE_CHANGE: 'size:change',\r\n});\r\n\r\nconst DIRECTION = {\r\n  NW: 0,\r\n  N: 1,\r\n  NE: 2,\r\n  E: 3,\r\n  SE: 4,\r\n  S: 5,\r\n  SW: 6,\r\n  W: 7,\r\n};\r\n\r\nconst OPPOSITE_DIRECTION = {\r\n  [DIRECTION.NW]: DIRECTION.SE,\r\n  [DIRECTION.N]: DIRECTION.S,\r\n  [DIRECTION.NE]: DIRECTION.SW,\r\n  [DIRECTION.E]: DIRECTION.W,\r\n  [DIRECTION.SE]: DIRECTION.NW,\r\n  [DIRECTION.S]: DIRECTION.N,\r\n  [DIRECTION.SW]: DIRECTION.NE,\r\n  [DIRECTION.W]: DIRECTION.E,\r\n};\r\n\r\nconst handlerDefs = [\r\n  {\r\n    className: 'nwse',\r\n    direction: DIRECTION.NW,\r\n  },\r\n  {\r\n    className: 'ns',\r\n    direction: DIRECTION.N,\r\n  },\r\n  {\r\n    className: 'nesw',\r\n    direction: DIRECTION.NE,\r\n  },\r\n  {\r\n    className: 'ew',\r\n    direction: DIRECTION.W,\r\n  },\r\n  {\r\n    className: 'ew',\r\n    direction: DIRECTION.E,\r\n  },\r\n  {\r\n    className: 'nesw',\r\n    direction: DIRECTION.SW,\r\n  },\r\n  {\r\n    className: 'ns',\r\n    direction: DIRECTION.S,\r\n  },\r\n  {\r\n    className: 'nwse',\r\n    direction: DIRECTION.SE,\r\n  },\r\n];\r\n\r\nclass ResizeBehavior extends _DragBehavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  // eslint-disable-next-line object-curly-newline\r\n  static isValidSize({ top, right, bottom, left }) {\r\n    const width = right - left;\r\n    const height = bottom - top;\r\n\r\n    return width >= 1 && height >= 1;\r\n  }\r\n\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    this._handlers = [];\r\n    this._direction = null;\r\n    this._centered = null;\r\n    this._originalRatio = null;\r\n    this._originalBound = null;\r\n    this.endDrag = this.endDrag.bind(this);\r\n    this._onTargetResize = this._bind(this._onTargetResize);\r\n  }\r\n\r\n  _onGrab(event) {\r\n    if (event.button !== 0) return;\r\n\r\n    const { target: handler } = event;\r\n    const { _target } = this;\r\n\r\n    super._onGrab(event);\r\n\r\n    this._direction = Number(handler.dataset.direction);\r\n    _target.getCanvas().setResizingShape(_target);\r\n  }\r\n\r\n  startDrag(position, options) {\r\n    const { _target } = this;\r\n    const { width, height } = _target.getSize();\r\n\r\n    if (this._direction === null) {\r\n      this._direction = options.direction;\r\n    }\r\n\r\n    this._originalRatio = width / height;\r\n    this._originalBound = _target.getBounds();\r\n\r\n    // TODO: fix this access to a protected member.\r\n    _target._componentUI.setActive();\r\n\r\n    super.startDrag(position, options);\r\n    // TODO: When BaseElement inherits from EventTarget, the method\r\n    // should trigger the event from itself.\r\n    _target.getCanvas().dispatchEvent(EVENT.START, _target);\r\n  }\r\n\r\n  endDrag(event) {\r\n    if (this._dragging) {\r\n      const { _target } = this;\r\n      const canvas = _target.getCanvas();\r\n      const actualSize = _target.getSize();\r\n      const currentSize = _target.getCurrentSize();\r\n\r\n      if (actualSize.width !== currentSize.width || actualSize.height !== currentSize.height) {\r\n        canvas.executeCommand(_command_CommandFactory__WEBPACK_IMPORTED_MODULE_2__[\"PRODUCTS\"].SHAPE_RESIZE, _target, _target.getCurrentSize(),\r\n          this._centered ? null : this._direction);\r\n      }\r\n\r\n      this._direction = null;\r\n      this._centered = null;\r\n      this._originalBound = null;\r\n      this._originalRatio = null;\r\n      this._updateHandlers();\r\n      super.endDrag(event);\r\n      canvas.setResizingShape(null);\r\n      canvas.dispatchEvent(EVENT.END, _target);\r\n    }\r\n  }\r\n\r\n  // TODO: Maybe the handlers should be updated in ShapeUI.\r\n  _updateHandlers() {\r\n    const { width: targetWidth, height: targetHeight } = this._target.getCurrentSize();\r\n    const xPoints = [-1, 0, 1];\r\n    const yPoints = [-1, 0, 1];\r\n    const hOffset = (targetWidth * 0.5);\r\n    const vOffset = (targetHeight * 0.5);\r\n    let index = 0;\r\n\r\n    yPoints.forEach((y) => {\r\n      xPoints.forEach((x) => {\r\n        // If x and y are 0\r\n        if (!x && !y) return;\r\n\r\n        const handler = this._handlers[index];\r\n        const xPos = hOffset * x;\r\n        const yPos = vOffset * y;\r\n\r\n        if (handler) {\r\n          handler.setAttribute('cx', xPos);\r\n          handler.setAttribute('cy', yPos);\r\n        }\r\n\r\n        index += 1;\r\n      });\r\n    });\r\n  }\r\n\r\n  _getNewBounds({ x, y }, direction) {\r\n    const bounds = { ...this._originalBound };\r\n\r\n    switch (direction) {\r\n      case DIRECTION.W:\r\n      case DIRECTION.NW:\r\n      case DIRECTION.SW:\r\n        bounds.left = x;\r\n        break;\r\n      case DIRECTION.E:\r\n      case DIRECTION.NE:\r\n      case DIRECTION.SE:\r\n        bounds.right = x;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    switch (direction) {\r\n      case DIRECTION.N:\r\n      case DIRECTION.NW:\r\n      case DIRECTION.NE:\r\n        bounds.top = y;\r\n        break;\r\n      case DIRECTION.S:\r\n      case DIRECTION.SW:\r\n      case DIRECTION.SE:\r\n        bounds.bottom = y;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    return bounds;\r\n  }\r\n\r\n  _getModifiedBounds(bounds, modifiers, direction) {\r\n    const newBounds = { ...bounds };\r\n\r\n    if (modifiers.shiftKey) {\r\n      const width = bounds.right - bounds.left;\r\n      const height = bounds.bottom - bounds.top;\r\n      const x = bounds.left + (width / 2);\r\n      const y = bounds.top + (height / 2);\r\n      const shapeRatio = this._originalRatio;\r\n      let scaledWidth = width;\r\n      let scaledHeight = height;\r\n      const xAxis = [DIRECTION.W, DIRECTION.E];\r\n      const yAxis = [DIRECTION.N, DIRECTION.S];\r\n      let halfScaledW = null;\r\n      let halfScaledH = null;\r\n\r\n      if (!xAxis.includes(direction) && !yAxis.includes(direction)) {\r\n        const boundRatio = width / height;\r\n\r\n        if ((shapeRatio > 1 && boundRatio > 1)\r\n          || (shapeRatio < 1 && boundRatio < 1)) {\r\n          if (shapeRatio > boundRatio) {\r\n            scaledHeight = width / shapeRatio;\r\n          } else {\r\n            scaledWidth = shapeRatio * height;\r\n          }\r\n        } else if (shapeRatio > 1) {\r\n          scaledHeight = width / shapeRatio;\r\n        } else {\r\n          scaledWidth = shapeRatio * height;\r\n        }\r\n      } else if (!xAxis.includes(direction)) {\r\n        scaledWidth = shapeRatio * height;\r\n      } else {\r\n        scaledHeight = width / shapeRatio;\r\n      }\r\n\r\n      halfScaledW = scaledWidth / 2;\r\n      halfScaledH = scaledHeight / 2;\r\n\r\n      switch (direction) {\r\n        case DIRECTION.N:\r\n          newBounds.left = x - halfScaledW;\r\n          newBounds.right = x + halfScaledW;\r\n        case DIRECTION.NW:\r\n        case DIRECTION.NE:\r\n          newBounds.top = newBounds.bottom - scaledHeight;\r\n          break;\r\n        case DIRECTION.S:\r\n          newBounds.left = x - halfScaledW;\r\n          newBounds.right = x + halfScaledW;\r\n        case DIRECTION.SW:\r\n        case DIRECTION.SE:\r\n          newBounds.bottom = newBounds.top + scaledHeight;\r\n          break;\r\n        default:\r\n      }\r\n\r\n      switch (direction) {\r\n        case DIRECTION.W:\r\n          newBounds.top = y - halfScaledH;\r\n          newBounds.bottom = y + halfScaledH;\r\n        case DIRECTION.NW:\r\n        case DIRECTION.SW:\r\n          newBounds.left = newBounds.right - scaledWidth;\r\n          break;\r\n        case DIRECTION.E:\r\n          newBounds.top = y - halfScaledH;\r\n          newBounds.bottom = y + halfScaledH;\r\n        case DIRECTION.NE:\r\n        case DIRECTION.SE:\r\n          newBounds.right = newBounds.left + scaledWidth;\r\n          break;\r\n        default:\r\n      }\r\n    }\r\n\r\n    return newBounds;\r\n  }\r\n\r\n  /**\r\n   * Determines if the current Shape being resized should keep its position.\r\n   * @param {Object} modifiers An object literal with all modifiers.\r\n   * @returns {Boolean}\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _isCentered(modifiers) {\r\n    return modifiers.altKey;\r\n  }\r\n\r\n  updatePosition(position, options, modifiers) {\r\n    if (this._direction === null) return;\r\n\r\n    const { _target } = this;\r\n    const direction = this._direction;\r\n    const bounds = this._getNewBounds(position, direction);\r\n    const modifiedBounds = this._getModifiedBounds(bounds, modifiers, direction);\r\n\r\n    if (!ResizeBehavior.isValidSize(modifiedBounds)) return;\r\n\r\n    const { width, height } = _utils_Geometry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getBoundSizeAndPos(modifiedBounds);\r\n\r\n    // NOTE: This different way to apply resizing is necessary to avoid erratic resizing for\r\n    // shapes that have a fixed ratio of 1:1 like Circle.\r\n    switch (direction) {\r\n      case DIRECTION.W:\r\n      case DIRECTION.E:\r\n        _target._updateWidth(width);\r\n        break;\r\n      case DIRECTION.N:\r\n      case DIRECTION.S:\r\n        _target._updateHeight(height);\r\n        break;\r\n      default:\r\n        _target._updateSize(width, height);\r\n    }\r\n\r\n    this._centered = this._isCentered(modifiers);\r\n\r\n    if (this._centered) {\r\n      const { x, y } = _utils_Geometry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getBoundSizeAndPos(this._originalBound);\r\n\r\n      _target.setPosition(x, y);\r\n    } else {\r\n      _target.align(modifiedBounds, OPPOSITE_DIRECTION[direction]);\r\n    }\r\n\r\n    super.updatePosition(position);\r\n    _target.getCanvas().dispatchEvent(EVENT.RESIZE, _target, {\r\n      currentSize: { width, height },\r\n      currentPosition: _target.getCurrentPosition(),\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _evaluate(point) {\r\n    // INFO: This could be removed when implementing snap resizing.\r\n    return point;\r\n  }\r\n\r\n  _onTargetResize() {\r\n    this._updateHandlers();\r\n  }\r\n\r\n  // TODO: handlers should be created in ShapeUI\r\n  _createHandlers() {\r\n    for (let i = 0; i < 8; i += 1) {\r\n      const { className, direction } = handlerDefs[i];\r\n      const newHandler = _shape_ShapeUI__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createHandler({\r\n        classNames: `handler-resize-${className}`,\r\n        dataset: { direction },\r\n      });\r\n\r\n      // TODO: this should be defined in createHandler() method.\r\n      newHandler.setAttribute('cx', 0);\r\n      newHandler.setAttribute('cy', 0);\r\n\r\n      // TODO: Fix this access to private member. It could be solved by just sending a handler description to a public\r\n      //  method, and that handler will created internally in the ShapeUI (DS-179).\r\n      this._target._addControl(newHandler, {\r\n        mousedown: this._onGrab,\r\n        mouseup: this.endDrag,\r\n      });\r\n\r\n      this._handlers[i] = newHandler;\r\n    }\r\n    this._updateHandlers();\r\n  }\r\n\r\n  attach() {\r\n    const { _target } = this;\r\n    const canvas = _target.getCanvas();\r\n\r\n    this._createHandlers();\r\n    canvas.addListener(EVENT.RESIZE, _target, this._onTargetResize);\r\n    canvas.addListener(EVENT.SIZE_CHANGE, _target, this._onTargetResize);\r\n  }\r\n\r\n  // TODO: is it necesssary to implement the detach() method?\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResizeBehavior);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvUmVzaXplQmVoYXZpb3IuanM/MjY4ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUEwQztBQUNEO0FBQ3dCO0FBQzFCOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsNkJBQTZCLHFEQUFZO0FBQ3pDO0FBQ0Esc0JBQXNCLDJCQUEyQjtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxVQUFVOztBQUVyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxnQkFBZ0I7O0FBRTNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixnRUFBUTtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDJDQUEyQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUEsaUJBQWlCLE9BQU87QUFDeEIsb0JBQW9COztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCOztBQUV2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsV0FBVyxnQkFBZ0IsR0FBRyx1REFBUTs7QUFFdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWEsT0FBTyxHQUFHLHVEQUFROztBQUUvQjtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQixhQUFhLHVCQUF1QjtBQUNwQyx5QkFBeUIsc0RBQU87QUFDaEMsc0NBQXNDLFVBQVU7QUFDaEQsa0JBQWtCLFlBQVk7QUFDOUIsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZSw2RUFBYyxFQUFDO0FBQ0YiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvUmVzaXplQmVoYXZpb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRHJhZ0JlaGF2aW9yIGZyb20gJy4vRHJhZ0JlaGF2aW9yJztcclxuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL3V0aWxzL0dlb21ldHJ5JztcclxuaW1wb3J0IHsgUFJPRFVDVFMgYXMgQ09NTUFORFMgfSBmcm9tICcuLi9jb21tYW5kL0NvbW1hbmRGYWN0b3J5JztcclxuaW1wb3J0IFNoYXBlVUkgZnJvbSAnLi4vc2hhcGUvU2hhcGVVSSc7XHJcblxyXG5jb25zdCBFVkVOVCA9IE9iamVjdC5mcmVlemUoe1xyXG4gIFNUQVJUOiAncmVzaXplc3RhcnQnLFxyXG4gIFJFU0laRTogJ3Jlc2l6ZScsXHJcbiAgRU5EOiAncmVzaXplZW5kJyxcclxuICBTSVpFX0NIQU5HRTogJ3NpemU6Y2hhbmdlJyxcclxufSk7XHJcblxyXG5jb25zdCBESVJFQ1RJT04gPSB7XHJcbiAgTlc6IDAsXHJcbiAgTjogMSxcclxuICBORTogMixcclxuICBFOiAzLFxyXG4gIFNFOiA0LFxyXG4gIFM6IDUsXHJcbiAgU1c6IDYsXHJcbiAgVzogNyxcclxufTtcclxuXHJcbmNvbnN0IE9QUE9TSVRFX0RJUkVDVElPTiA9IHtcclxuICBbRElSRUNUSU9OLk5XXTogRElSRUNUSU9OLlNFLFxyXG4gIFtESVJFQ1RJT04uTl06IERJUkVDVElPTi5TLFxyXG4gIFtESVJFQ1RJT04uTkVdOiBESVJFQ1RJT04uU1csXHJcbiAgW0RJUkVDVElPTi5FXTogRElSRUNUSU9OLlcsXHJcbiAgW0RJUkVDVElPTi5TRV06IERJUkVDVElPTi5OVyxcclxuICBbRElSRUNUSU9OLlNdOiBESVJFQ1RJT04uTixcclxuICBbRElSRUNUSU9OLlNXXTogRElSRUNUSU9OLk5FLFxyXG4gIFtESVJFQ1RJT04uV106IERJUkVDVElPTi5FLFxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlckRlZnMgPSBbXHJcbiAge1xyXG4gICAgY2xhc3NOYW1lOiAnbndzZScsXHJcbiAgICBkaXJlY3Rpb246IERJUkVDVElPTi5OVyxcclxuICB9LFxyXG4gIHtcclxuICAgIGNsYXNzTmFtZTogJ25zJyxcclxuICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLk4sXHJcbiAgfSxcclxuICB7XHJcbiAgICBjbGFzc05hbWU6ICduZXN3JyxcclxuICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLk5FLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2xhc3NOYW1lOiAnZXcnLFxyXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04uVyxcclxuICB9LFxyXG4gIHtcclxuICAgIGNsYXNzTmFtZTogJ2V3JyxcclxuICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLkUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBjbGFzc05hbWU6ICduZXN3JyxcclxuICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLlNXLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgY2xhc3NOYW1lOiAnbnMnLFxyXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04uUyxcclxuICB9LFxyXG4gIHtcclxuICAgIGNsYXNzTmFtZTogJ253c2UnLFxyXG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT04uU0UsXHJcbiAgfSxcclxuXTtcclxuXHJcbmNsYXNzIFJlc2l6ZUJlaGF2aW9yIGV4dGVuZHMgRHJhZ0JlaGF2aW9yIHtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgb2JqZWN0LWN1cmx5LW5ld2xpbmVcclxuICBzdGF0aWMgaXNWYWxpZFNpemUoeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQgfSkge1xyXG4gICAgY29uc3Qgd2lkdGggPSByaWdodCAtIGxlZnQ7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBib3R0b20gLSB0b3A7XHJcblxyXG4gICAgcmV0dXJuIHdpZHRoID49IDEgJiYgaGVpZ2h0ID49IDE7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHNldHRpbmdzKSB7XHJcbiAgICBzdXBlcih0YXJnZXQsIHNldHRpbmdzKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVycyA9IFtdO1xyXG4gICAgdGhpcy5fZGlyZWN0aW9uID0gbnVsbDtcclxuICAgIHRoaXMuX2NlbnRlcmVkID0gbnVsbDtcclxuICAgIHRoaXMuX29yaWdpbmFsUmF0aW8gPSBudWxsO1xyXG4gICAgdGhpcy5fb3JpZ2luYWxCb3VuZCA9IG51bGw7XHJcbiAgICB0aGlzLmVuZERyYWcgPSB0aGlzLmVuZERyYWcuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX29uVGFyZ2V0UmVzaXplID0gdGhpcy5fYmluZCh0aGlzLl9vblRhcmdldFJlc2l6ZSk7XHJcbiAgfVxyXG5cclxuICBfb25HcmFiKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgeyB0YXJnZXQ6IGhhbmRsZXIgfSA9IGV2ZW50O1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG5cclxuICAgIHN1cGVyLl9vbkdyYWIoZXZlbnQpO1xyXG5cclxuICAgIHRoaXMuX2RpcmVjdGlvbiA9IE51bWJlcihoYW5kbGVyLmRhdGFzZXQuZGlyZWN0aW9uKTtcclxuICAgIF90YXJnZXQuZ2V0Q2FudmFzKCkuc2V0UmVzaXppbmdTaGFwZShfdGFyZ2V0KTtcclxuICB9XHJcblxyXG4gIHN0YXJ0RHJhZyhwb3NpdGlvbiwgb3B0aW9ucykge1xyXG4gICAgY29uc3QgeyBfdGFyZ2V0IH0gPSB0aGlzO1xyXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBfdGFyZ2V0LmdldFNpemUoKTtcclxuXHJcbiAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX29yaWdpbmFsUmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcclxuICAgIHRoaXMuX29yaWdpbmFsQm91bmQgPSBfdGFyZ2V0LmdldEJvdW5kcygpO1xyXG5cclxuICAgIC8vIFRPRE86IGZpeCB0aGlzIGFjY2VzcyB0byBhIHByb3RlY3RlZCBtZW1iZXIuXHJcbiAgICBfdGFyZ2V0Ll9jb21wb25lbnRVSS5zZXRBY3RpdmUoKTtcclxuXHJcbiAgICBzdXBlci5zdGFydERyYWcocG9zaXRpb24sIG9wdGlvbnMpO1xyXG4gICAgLy8gVE9ETzogV2hlbiBCYXNlRWxlbWVudCBpbmhlcml0cyBmcm9tIEV2ZW50VGFyZ2V0LCB0aGUgbWV0aG9kXHJcbiAgICAvLyBzaG91bGQgdHJpZ2dlciB0aGUgZXZlbnQgZnJvbSBpdHNlbGYuXHJcbiAgICBfdGFyZ2V0LmdldENhbnZhcygpLmRpc3BhdGNoRXZlbnQoRVZFTlQuU1RBUlQsIF90YXJnZXQpO1xyXG4gIH1cclxuXHJcbiAgZW5kRHJhZyhldmVudCkge1xyXG4gICAgaWYgKHRoaXMuX2RyYWdnaW5nKSB7XHJcbiAgICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuICAgICAgY29uc3QgY2FudmFzID0gX3RhcmdldC5nZXRDYW52YXMoKTtcclxuICAgICAgY29uc3QgYWN0dWFsU2l6ZSA9IF90YXJnZXQuZ2V0U2l6ZSgpO1xyXG4gICAgICBjb25zdCBjdXJyZW50U2l6ZSA9IF90YXJnZXQuZ2V0Q3VycmVudFNpemUoKTtcclxuXHJcbiAgICAgIGlmIChhY3R1YWxTaXplLndpZHRoICE9PSBjdXJyZW50U2l6ZS53aWR0aCB8fCBhY3R1YWxTaXplLmhlaWdodCAhPT0gY3VycmVudFNpemUuaGVpZ2h0KSB7XHJcbiAgICAgICAgY2FudmFzLmV4ZWN1dGVDb21tYW5kKENPTU1BTkRTLlNIQVBFX1JFU0laRSwgX3RhcmdldCwgX3RhcmdldC5nZXRDdXJyZW50U2l6ZSgpLFxyXG4gICAgICAgICAgdGhpcy5fY2VudGVyZWQgPyBudWxsIDogdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gbnVsbDtcclxuICAgICAgdGhpcy5fY2VudGVyZWQgPSBudWxsO1xyXG4gICAgICB0aGlzLl9vcmlnaW5hbEJvdW5kID0gbnVsbDtcclxuICAgICAgdGhpcy5fb3JpZ2luYWxSYXRpbyA9IG51bGw7XHJcbiAgICAgIHRoaXMuX3VwZGF0ZUhhbmRsZXJzKCk7XHJcbiAgICAgIHN1cGVyLmVuZERyYWcoZXZlbnQpO1xyXG4gICAgICBjYW52YXMuc2V0UmVzaXppbmdTaGFwZShudWxsKTtcclxuICAgICAgY2FudmFzLmRpc3BhdGNoRXZlbnQoRVZFTlQuRU5ELCBfdGFyZ2V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRPRE86IE1heWJlIHRoZSBoYW5kbGVycyBzaG91bGQgYmUgdXBkYXRlZCBpbiBTaGFwZVVJLlxyXG4gIF91cGRhdGVIYW5kbGVycygpIHtcclxuICAgIGNvbnN0IHsgd2lkdGg6IHRhcmdldFdpZHRoLCBoZWlnaHQ6IHRhcmdldEhlaWdodCB9ID0gdGhpcy5fdGFyZ2V0LmdldEN1cnJlbnRTaXplKCk7XHJcbiAgICBjb25zdCB4UG9pbnRzID0gWy0xLCAwLCAxXTtcclxuICAgIGNvbnN0IHlQb2ludHMgPSBbLTEsIDAsIDFdO1xyXG4gICAgY29uc3QgaE9mZnNldCA9ICh0YXJnZXRXaWR0aCAqIDAuNSk7XHJcbiAgICBjb25zdCB2T2Zmc2V0ID0gKHRhcmdldEhlaWdodCAqIDAuNSk7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG5cclxuICAgIHlQb2ludHMuZm9yRWFjaCgoeSkgPT4ge1xyXG4gICAgICB4UG9pbnRzLmZvckVhY2goKHgpID0+IHtcclxuICAgICAgICAvLyBJZiB4IGFuZCB5IGFyZSAwXHJcbiAgICAgICAgaWYgKCF4ICYmICF5KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9oYW5kbGVyc1tpbmRleF07XHJcbiAgICAgICAgY29uc3QgeFBvcyA9IGhPZmZzZXQgKiB4O1xyXG4gICAgICAgIGNvbnN0IHlQb3MgPSB2T2Zmc2V0ICogeTtcclxuXHJcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcclxuICAgICAgICAgIGhhbmRsZXIuc2V0QXR0cmlidXRlKCdjeCcsIHhQb3MpO1xyXG4gICAgICAgICAgaGFuZGxlci5zZXRBdHRyaWJ1dGUoJ2N5JywgeVBvcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmRleCArPSAxO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2dldE5ld0JvdW5kcyh7IHgsIHkgfSwgZGlyZWN0aW9uKSB7XHJcbiAgICBjb25zdCBib3VuZHMgPSB7IC4uLnRoaXMuX29yaWdpbmFsQm91bmQgfTtcclxuXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5XOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5OVzpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uU1c6XHJcbiAgICAgICAgYm91bmRzLmxlZnQgPSB4O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5FOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5ORTpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uU0U6XHJcbiAgICAgICAgYm91bmRzLnJpZ2h0ID0geDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5OOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5OVzpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTkU6XHJcbiAgICAgICAgYm91bmRzLnRvcCA9IHk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlM6XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlNXOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5TRTpcclxuICAgICAgICBib3VuZHMuYm90dG9tID0geTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYm91bmRzO1xyXG4gIH1cclxuXHJcbiAgX2dldE1vZGlmaWVkQm91bmRzKGJvdW5kcywgbW9kaWZpZXJzLCBkaXJlY3Rpb24pIHtcclxuICAgIGNvbnN0IG5ld0JvdW5kcyA9IHsgLi4uYm91bmRzIH07XHJcblxyXG4gICAgaWYgKG1vZGlmaWVycy5zaGlmdEtleSkge1xyXG4gICAgICBjb25zdCB3aWR0aCA9IGJvdW5kcy5yaWdodCAtIGJvdW5kcy5sZWZ0O1xyXG4gICAgICBjb25zdCBoZWlnaHQgPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcclxuICAgICAgY29uc3QgeCA9IGJvdW5kcy5sZWZ0ICsgKHdpZHRoIC8gMik7XHJcbiAgICAgIGNvbnN0IHkgPSBib3VuZHMudG9wICsgKGhlaWdodCAvIDIpO1xyXG4gICAgICBjb25zdCBzaGFwZVJhdGlvID0gdGhpcy5fb3JpZ2luYWxSYXRpbztcclxuICAgICAgbGV0IHNjYWxlZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgIGxldCBzY2FsZWRIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgIGNvbnN0IHhBeGlzID0gW0RJUkVDVElPTi5XLCBESVJFQ1RJT04uRV07XHJcbiAgICAgIGNvbnN0IHlBeGlzID0gW0RJUkVDVElPTi5OLCBESVJFQ1RJT04uU107XHJcbiAgICAgIGxldCBoYWxmU2NhbGVkVyA9IG51bGw7XHJcbiAgICAgIGxldCBoYWxmU2NhbGVkSCA9IG51bGw7XHJcblxyXG4gICAgICBpZiAoIXhBeGlzLmluY2x1ZGVzKGRpcmVjdGlvbikgJiYgIXlBeGlzLmluY2x1ZGVzKGRpcmVjdGlvbikpIHtcclxuICAgICAgICBjb25zdCBib3VuZFJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XHJcblxyXG4gICAgICAgIGlmICgoc2hhcGVSYXRpbyA+IDEgJiYgYm91bmRSYXRpbyA+IDEpXHJcbiAgICAgICAgICB8fCAoc2hhcGVSYXRpbyA8IDEgJiYgYm91bmRSYXRpbyA8IDEpKSB7XHJcbiAgICAgICAgICBpZiAoc2hhcGVSYXRpbyA+IGJvdW5kUmF0aW8pIHtcclxuICAgICAgICAgICAgc2NhbGVkSGVpZ2h0ID0gd2lkdGggLyBzaGFwZVJhdGlvO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2NhbGVkV2lkdGggPSBzaGFwZVJhdGlvICogaGVpZ2h0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVSYXRpbyA+IDEpIHtcclxuICAgICAgICAgIHNjYWxlZEhlaWdodCA9IHdpZHRoIC8gc2hhcGVSYXRpbztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2NhbGVkV2lkdGggPSBzaGFwZVJhdGlvICogaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICgheEF4aXMuaW5jbHVkZXMoZGlyZWN0aW9uKSkge1xyXG4gICAgICAgIHNjYWxlZFdpZHRoID0gc2hhcGVSYXRpbyAqIGhlaWdodDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzY2FsZWRIZWlnaHQgPSB3aWR0aCAvIHNoYXBlUmF0aW87XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGhhbGZTY2FsZWRXID0gc2NhbGVkV2lkdGggLyAyO1xyXG4gICAgICBoYWxmU2NhbGVkSCA9IHNjYWxlZEhlaWdodCAvIDI7XHJcblxyXG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgIGNhc2UgRElSRUNUSU9OLk46XHJcbiAgICAgICAgICBuZXdCb3VuZHMubGVmdCA9IHggLSBoYWxmU2NhbGVkVztcclxuICAgICAgICAgIG5ld0JvdW5kcy5yaWdodCA9IHggKyBoYWxmU2NhbGVkVztcclxuICAgICAgICBjYXNlIERJUkVDVElPTi5OVzpcclxuICAgICAgICBjYXNlIERJUkVDVElPTi5ORTpcclxuICAgICAgICAgIG5ld0JvdW5kcy50b3AgPSBuZXdCb3VuZHMuYm90dG9tIC0gc2NhbGVkSGVpZ2h0O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uUzpcclxuICAgICAgICAgIG5ld0JvdW5kcy5sZWZ0ID0geCAtIGhhbGZTY2FsZWRXO1xyXG4gICAgICAgICAgbmV3Qm91bmRzLnJpZ2h0ID0geCArIGhhbGZTY2FsZWRXO1xyXG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlNXOlxyXG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlNFOlxyXG4gICAgICAgICAgbmV3Qm91bmRzLmJvdHRvbSA9IG5ld0JvdW5kcy50b3AgKyBzY2FsZWRIZWlnaHQ7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICB9XHJcblxyXG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICAgIGNhc2UgRElSRUNUSU9OLlc6XHJcbiAgICAgICAgICBuZXdCb3VuZHMudG9wID0geSAtIGhhbGZTY2FsZWRIO1xyXG4gICAgICAgICAgbmV3Qm91bmRzLmJvdHRvbSA9IHkgKyBoYWxmU2NhbGVkSDtcclxuICAgICAgICBjYXNlIERJUkVDVElPTi5OVzpcclxuICAgICAgICBjYXNlIERJUkVDVElPTi5TVzpcclxuICAgICAgICAgIG5ld0JvdW5kcy5sZWZ0ID0gbmV3Qm91bmRzLnJpZ2h0IC0gc2NhbGVkV2lkdGg7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIERJUkVDVElPTi5FOlxyXG4gICAgICAgICAgbmV3Qm91bmRzLnRvcCA9IHkgLSBoYWxmU2NhbGVkSDtcclxuICAgICAgICAgIG5ld0JvdW5kcy5ib3R0b20gPSB5ICsgaGFsZlNjYWxlZEg7XHJcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uTkU6XHJcbiAgICAgICAgY2FzZSBESVJFQ1RJT04uU0U6XHJcbiAgICAgICAgICBuZXdCb3VuZHMucmlnaHQgPSBuZXdCb3VuZHMubGVmdCArIHNjYWxlZFdpZHRoO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXdCb3VuZHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IFNoYXBlIGJlaW5nIHJlc2l6ZWQgc2hvdWxkIGtlZXAgaXRzIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RpZmllcnMgQW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBhbGwgbW9kaWZpZXJzLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgX2lzQ2VudGVyZWQobW9kaWZpZXJzKSB7XHJcbiAgICByZXR1cm4gbW9kaWZpZXJzLmFsdEtleTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uLCBvcHRpb25zLCBtb2RpZmllcnMpIHtcclxuICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCB7IF90YXJnZXQgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLl9kaXJlY3Rpb247XHJcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLl9nZXROZXdCb3VuZHMocG9zaXRpb24sIGRpcmVjdGlvbik7XHJcbiAgICBjb25zdCBtb2RpZmllZEJvdW5kcyA9IHRoaXMuX2dldE1vZGlmaWVkQm91bmRzKGJvdW5kcywgbW9kaWZpZXJzLCBkaXJlY3Rpb24pO1xyXG5cclxuICAgIGlmICghUmVzaXplQmVoYXZpb3IuaXNWYWxpZFNpemUobW9kaWZpZWRCb3VuZHMpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBHZW9tZXRyeS5nZXRCb3VuZFNpemVBbmRQb3MobW9kaWZpZWRCb3VuZHMpO1xyXG5cclxuICAgIC8vIE5PVEU6IFRoaXMgZGlmZmVyZW50IHdheSB0byBhcHBseSByZXNpemluZyBpcyBuZWNlc3NhcnkgdG8gYXZvaWQgZXJyYXRpYyByZXNpemluZyBmb3JcclxuICAgIC8vIHNoYXBlcyB0aGF0IGhhdmUgYSBmaXhlZCByYXRpbyBvZiAxOjEgbGlrZSBDaXJjbGUuXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5XOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5FOlxyXG4gICAgICAgIF90YXJnZXQuX3VwZGF0ZVdpZHRoKHdpZHRoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTjpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uUzpcclxuICAgICAgICBfdGFyZ2V0Ll91cGRhdGVIZWlnaHQoaGVpZ2h0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBfdGFyZ2V0Ll91cGRhdGVTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NlbnRlcmVkID0gdGhpcy5faXNDZW50ZXJlZChtb2RpZmllcnMpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jZW50ZXJlZCkge1xyXG4gICAgICBjb25zdCB7IHgsIHkgfSA9IEdlb21ldHJ5LmdldEJvdW5kU2l6ZUFuZFBvcyh0aGlzLl9vcmlnaW5hbEJvdW5kKTtcclxuXHJcbiAgICAgIF90YXJnZXQuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfdGFyZ2V0LmFsaWduKG1vZGlmaWVkQm91bmRzLCBPUFBPU0lURV9ESVJFQ1RJT05bZGlyZWN0aW9uXSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3VwZXIudXBkYXRlUG9zaXRpb24ocG9zaXRpb24pO1xyXG4gICAgX3RhcmdldC5nZXRDYW52YXMoKS5kaXNwYXRjaEV2ZW50KEVWRU5ULlJFU0laRSwgX3RhcmdldCwge1xyXG4gICAgICBjdXJyZW50U2l6ZTogeyB3aWR0aCwgaGVpZ2h0IH0sXHJcbiAgICAgIGN1cnJlbnRQb3NpdGlvbjogX3RhcmdldC5nZXRDdXJyZW50UG9zaXRpb24oKSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcclxuICBfZXZhbHVhdGUocG9pbnQpIHtcclxuICAgIC8vIElORk86IFRoaXMgY291bGQgYmUgcmVtb3ZlZCB3aGVuIGltcGxlbWVudGluZyBzbmFwIHJlc2l6aW5nLlxyXG4gICAgcmV0dXJuIHBvaW50O1xyXG4gIH1cclxuXHJcbiAgX29uVGFyZ2V0UmVzaXplKCkge1xyXG4gICAgdGhpcy5fdXBkYXRlSGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IGhhbmRsZXJzIHNob3VsZCBiZSBjcmVhdGVkIGluIFNoYXBlVUlcclxuICBfY3JlYXRlSGFuZGxlcnMoKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkgKz0gMSkge1xyXG4gICAgICBjb25zdCB7IGNsYXNzTmFtZSwgZGlyZWN0aW9uIH0gPSBoYW5kbGVyRGVmc1tpXTtcclxuICAgICAgY29uc3QgbmV3SGFuZGxlciA9IFNoYXBlVUkuY3JlYXRlSGFuZGxlcih7XHJcbiAgICAgICAgY2xhc3NOYW1lczogYGhhbmRsZXItcmVzaXplLSR7Y2xhc3NOYW1lfWAsXHJcbiAgICAgICAgZGF0YXNldDogeyBkaXJlY3Rpb24gfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBiZSBkZWZpbmVkIGluIGNyZWF0ZUhhbmRsZXIoKSBtZXRob2QuXHJcbiAgICAgIG5ld0hhbmRsZXIuc2V0QXR0cmlidXRlKCdjeCcsIDApO1xyXG4gICAgICBuZXdIYW5kbGVyLnNldEF0dHJpYnV0ZSgnY3knLCAwKTtcclxuXHJcbiAgICAgIC8vIFRPRE86IEZpeCB0aGlzIGFjY2VzcyB0byBwcml2YXRlIG1lbWJlci4gSXQgY291bGQgYmUgc29sdmVkIGJ5IGp1c3Qgc2VuZGluZyBhIGhhbmRsZXIgZGVzY3JpcHRpb24gdG8gYSBwdWJsaWNcclxuICAgICAgLy8gIG1ldGhvZCwgYW5kIHRoYXQgaGFuZGxlciB3aWxsIGNyZWF0ZWQgaW50ZXJuYWxseSBpbiB0aGUgU2hhcGVVSSAoRFMtMTc5KS5cclxuICAgICAgdGhpcy5fdGFyZ2V0Ll9hZGRDb250cm9sKG5ld0hhbmRsZXIsIHtcclxuICAgICAgICBtb3VzZWRvd246IHRoaXMuX29uR3JhYixcclxuICAgICAgICBtb3VzZXVwOiB0aGlzLmVuZERyYWcsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5faGFuZGxlcnNbaV0gPSBuZXdIYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fdXBkYXRlSGFuZGxlcnMoKTtcclxuICB9XHJcblxyXG4gIGF0dGFjaCgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCB9ID0gdGhpcztcclxuICAgIGNvbnN0IGNhbnZhcyA9IF90YXJnZXQuZ2V0Q2FudmFzKCk7XHJcblxyXG4gICAgdGhpcy5fY3JlYXRlSGFuZGxlcnMoKTtcclxuICAgIGNhbnZhcy5hZGRMaXN0ZW5lcihFVkVOVC5SRVNJWkUsIF90YXJnZXQsIHRoaXMuX29uVGFyZ2V0UmVzaXplKTtcclxuICAgIGNhbnZhcy5hZGRMaXN0ZW5lcihFVkVOVC5TSVpFX0NIQU5HRSwgX3RhcmdldCwgdGhpcy5fb25UYXJnZXRSZXNpemUpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogaXMgaXQgbmVjZXNzc2FyeSB0byBpbXBsZW1lbnQgdGhlIGRldGFjaCgpIG1ldGhvZD9cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVzaXplQmVoYXZpb3I7XHJcbmV4cG9ydCB7IEVWRU5ULCBESVJFQ1RJT04gfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/ResizeBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/ResizeBehaviorFactory.js":
/*!**************************************************!*\
  !*** ./src/js/behavior/ResizeBehaviorFactory.js ***!
  \**************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeBehavior */ \"./src/js/behavior/ResizeBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\nconst ResizeBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResizeBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvUmVzaXplQmVoYXZpb3JGYWN0b3J5LmpzP2JjMGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDUTs7QUFFOUM7QUFDQTtBQUNBLENBQUM7O0FBRUQsa0NBQWtDLHFEQUFPO0FBQ3pDO0FBQ0Esd0JBQXdCLHVEQUFjO0FBQ3RDLEdBQUc7QUFDSCxDQUFDOztBQUVjLG9GQUFxQixFQUFDO0FBQ2pCIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL1Jlc2l6ZUJlaGF2aW9yRmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWN0b3J5IGZyb20gJy4uL2NvcmUvRmFjdG9yeSc7XHJcbmltcG9ydCBSZXNpemVCZWhhdmlvciBmcm9tICcuL1Jlc2l6ZUJlaGF2aW9yJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgREVGQVVMVDogJ2RlZmF1bHQnLFxyXG59KTtcclxuXHJcbmNvbnN0IFJlc2l6ZUJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBSZXNpemVCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlc2l6ZUJlaGF2aW9yRmFjdG9yeTtcclxuZXhwb3J0IHsgUFJPRFVDVFMgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/ResizeBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/SelectBehavior.js":
/*!*******************************************!*\
  !*** ./src/js/behavior/SelectBehavior.js ***!
  \*******************************************/
/*! exports provided: default, EVENT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n\r\n\r\n/**\r\n * Enum for Selection events.\r\n * @readonly\r\n * @enum {String}\r\n */\r\nconst EVENT = Object.freeze({\r\n  /** A Shape is selected. */\r\n  SELECT: 'select',\r\n  UNSELECT: 'unselect',\r\n});\r\n\r\n/**\r\n * Gifts a Shape the ability to be selected.\r\n * @extends Behavior\r\n */\r\nclass SelectBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, options) {\r\n    super(target, options);\r\n\r\n    this._isSelected = false;\r\n    // We proxy the start() and _select() method (and not the unselect()) cause the two formers are\r\n    // the method that make the behavior to perform, so their execution need to be controlled based\r\n    // on if the behavior is enabled or not.\r\n    this.start = this._bind(this.start);\r\n    this._select = this._bind(this._select);\r\n  }\r\n\r\n  end() {\r\n    this.unselect();\r\n  }\r\n\r\n  /**\r\n   * Determines if the current target is selected.\r\n   * @returns {Boolean}\r\n   */\r\n  isSelected() {\r\n    return this._isSelected;\r\n  }\r\n\r\n  /**\r\n   * Selects the behavior target element.\r\n   */\r\n  _select(addMethod) {\r\n    if (!this._isSelected) {\r\n      const target = this._target;\r\n\r\n      if (addMethod(target)) {\r\n        const canvas = target.getCanvas();\r\n\r\n        this._isSelected = true;\r\n        target._dom.mainElement.classList.add('selected');\r\n        target._componentUI.setActive();\r\n        canvas.dispatchEvent(EVENT.SELECT, target);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Unselects the behavior target element.\r\n   */\r\n  unselect() {\r\n    if (this._isSelected) {\r\n      const target = this._target;\r\n      const canvas = target.getCanvas();\r\n\r\n      this._isSelected = false;\r\n      // TODO: fix this access to a protected member.\r\n      target._componentUI.setActive(false);\r\n      target._dom.mainElement.classList.remove('selected');\r\n      canvas.dispatchEvent(EVENT.UNSELECT, target);\r\n    }\r\n  }\r\n\r\n  start() {\r\n    if (!this._isSelected) {\r\n      const target = this._target;\r\n\r\n      target.getCanvas().selectItem(target);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  attach() {\r\n    // TODO: fix the access to private members.\r\n    const { mainElement } = this._target._dom;\r\n\r\n    mainElement.setAttribute('tabindex', 0);\r\n    mainElement.addEventListener('focus', this.start, false);\r\n  }\r\n\r\n  detach() {\r\n    // TODO: fix the access to private members.\r\n    const { mainElement } = this._target._dom;\r\n\r\n    mainElement.removeAttribute('tabindex');\r\n    mainElement.removeEventListener('focus', this.start, false);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectBehavior);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvU2VsZWN0QmVoYXZpb3IuanM/ZGM2YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpREFBUTtBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYzs7QUFFekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7O0FBRXpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsNkVBQWMsRUFBQztBQUNiIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL1NlbGVjdEJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5cclxuLyoqXHJcbiAqIEVudW0gZm9yIFNlbGVjdGlvbiBldmVudHMuXHJcbiAqIEByZWFkb25seVxyXG4gKiBAZW51bSB7U3RyaW5nfVxyXG4gKi9cclxuY29uc3QgRVZFTlQgPSBPYmplY3QuZnJlZXplKHtcclxuICAvKiogQSBTaGFwZSBpcyBzZWxlY3RlZC4gKi9cclxuICBTRUxFQ1Q6ICdzZWxlY3QnLFxyXG4gIFVOU0VMRUNUOiAndW5zZWxlY3QnLFxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBHaWZ0cyBhIFNoYXBlIHRoZSBhYmlsaXR5IHRvIGJlIHNlbGVjdGVkLlxyXG4gKiBAZXh0ZW5kcyBCZWhhdmlvclxyXG4gKi9cclxuY2xhc3MgU2VsZWN0QmVoYXZpb3IgZXh0ZW5kcyBCZWhhdmlvciB7XHJcbiAgY29uc3RydWN0b3IodGFyZ2V0LCBvcHRpb25zKSB7XHJcbiAgICBzdXBlcih0YXJnZXQsIG9wdGlvbnMpO1xyXG5cclxuICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIC8vIFdlIHByb3h5IHRoZSBzdGFydCgpIGFuZCBfc2VsZWN0KCkgbWV0aG9kIChhbmQgbm90IHRoZSB1bnNlbGVjdCgpKSBjYXVzZSB0aGUgdHdvIGZvcm1lcnMgYXJlXHJcbiAgICAvLyB0aGUgbWV0aG9kIHRoYXQgbWFrZSB0aGUgYmVoYXZpb3IgdG8gcGVyZm9ybSwgc28gdGhlaXIgZXhlY3V0aW9uIG5lZWQgdG8gYmUgY29udHJvbGxlZCBiYXNlZFxyXG4gICAgLy8gb24gaWYgdGhlIGJlaGF2aW9yIGlzIGVuYWJsZWQgb3Igbm90LlxyXG4gICAgdGhpcy5zdGFydCA9IHRoaXMuX2JpbmQodGhpcy5zdGFydCk7XHJcbiAgICB0aGlzLl9zZWxlY3QgPSB0aGlzLl9iaW5kKHRoaXMuX3NlbGVjdCk7XHJcbiAgfVxyXG5cclxuICBlbmQoKSB7XHJcbiAgICB0aGlzLnVuc2VsZWN0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjdXJyZW50IHRhcmdldCBpcyBzZWxlY3RlZC5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBpc1NlbGVjdGVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lzU2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZWxlY3RzIHRoZSBiZWhhdmlvciB0YXJnZXQgZWxlbWVudC5cclxuICAgKi9cclxuICBfc2VsZWN0KGFkZE1ldGhvZCkge1xyXG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKSB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3RhcmdldDtcclxuXHJcbiAgICAgIGlmIChhZGRNZXRob2QodGFyZ2V0KSkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRhcmdldC5nZXRDYW52YXMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGFyZ2V0Ll9kb20ubWFpbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICB0YXJnZXQuX2NvbXBvbmVudFVJLnNldEFjdGl2ZSgpO1xyXG4gICAgICAgIGNhbnZhcy5kaXNwYXRjaEV2ZW50KEVWRU5ULlNFTEVDVCwgdGFyZ2V0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVW5zZWxlY3RzIHRoZSBiZWhhdmlvciB0YXJnZXQgZWxlbWVudC5cclxuICAgKi9cclxuICB1bnNlbGVjdCgpIHtcclxuICAgIGlmICh0aGlzLl9pc1NlbGVjdGVkKSB7XHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3RhcmdldDtcclxuICAgICAgY29uc3QgY2FudmFzID0gdGFyZ2V0LmdldENhbnZhcygpO1xyXG5cclxuICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAvLyBUT0RPOiBmaXggdGhpcyBhY2Nlc3MgdG8gYSBwcm90ZWN0ZWQgbWVtYmVyLlxyXG4gICAgICB0YXJnZXQuX2NvbXBvbmVudFVJLnNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgIHRhcmdldC5fZG9tLm1haW5FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XHJcbiAgICAgIGNhbnZhcy5kaXNwYXRjaEV2ZW50KEVWRU5ULlVOU0VMRUNULCB0YXJnZXQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnQoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2lzU2VsZWN0ZWQpIHtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xyXG5cclxuICAgICAgdGFyZ2V0LmdldENhbnZhcygpLnNlbGVjdEl0ZW0odGFyZ2V0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBpbmhlcml0ZG9jXHJcbiAgICovXHJcbiAgYXR0YWNoKCkge1xyXG4gICAgLy8gVE9ETzogZml4IHRoZSBhY2Nlc3MgdG8gcHJpdmF0ZSBtZW1iZXJzLlxyXG4gICAgY29uc3QgeyBtYWluRWxlbWVudCB9ID0gdGhpcy5fdGFyZ2V0Ll9kb207XHJcblxyXG4gICAgbWFpbkVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xyXG4gICAgbWFpbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLnN0YXJ0LCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICBkZXRhY2goKSB7XHJcbiAgICAvLyBUT0RPOiBmaXggdGhlIGFjY2VzcyB0byBwcml2YXRlIG1lbWJlcnMuXHJcbiAgICBjb25zdCB7IG1haW5FbGVtZW50IH0gPSB0aGlzLl90YXJnZXQuX2RvbTtcclxuXHJcbiAgICBtYWluRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgICBtYWluRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuc3RhcnQsIGZhbHNlKTtcclxuICAgIHN1cGVyLmRldGFjaCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0QmVoYXZpb3I7XHJcbmV4cG9ydCB7IEVWRU5UIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/SelectBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/SelectBehaviorFactory.js":
/*!**************************************************!*\
  !*** ./src/js/behavior/SelectBehaviorFactory.js ***!
  \**************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _SelectBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SelectBehavior */ \"./src/js/behavior/SelectBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 'default',\r\n});\r\n\r\nconst SelectBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _SelectBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvU2VsZWN0QmVoYXZpb3JGYWN0b3J5LmpzPzgyMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDUTs7QUFFOUM7QUFDQTtBQUNBLENBQUM7O0FBRUQsa0NBQWtDLHFEQUFPO0FBQ3pDO0FBQ0Esd0JBQXdCLHVEQUFjO0FBQ3RDLEdBQUc7QUFDSCxDQUFDOztBQUVjLG9GQUFxQixFQUFDO0FBQ2pCIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL1NlbGVjdEJlaGF2aW9yRmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWN0b3J5IGZyb20gJy4uL2NvcmUvRmFjdG9yeSc7XHJcbmltcG9ydCBTZWxlY3RCZWhhdmlvciBmcm9tICcuL1NlbGVjdEJlaGF2aW9yJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgREVGQVVMVDogJ2RlZmF1bHQnLFxyXG59KTtcclxuXHJcbmNvbnN0IFNlbGVjdEJlaGF2aW9yRmFjdG9yeSA9IG5ldyBGYWN0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkRFRkFVTFRdOiBTZWxlY3RCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlbGVjdEJlaGF2aW9yRmFjdG9yeTtcclxuZXhwb3J0IHsgUFJPRFVDVFMgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/behavior/SelectBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/behavior/SelectionAreaBehavior.js":
/*!**************************************************!*\
  !*** ./src/js/behavior/SelectionAreaBehavior.js ***!
  \**************************************************/
/*! exports provided: default, EVENT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony import */ var _Behavior__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Behavior */ \"./src/js/behavior/Behavior.js\");\n\r\n\r\n// TODO: Use this events\r\nconst EVENT = Object.freeze({\r\n  ADD: 'selectionadd',\r\n  REMOVE: 'selectionremove',\r\n  CLEAR: 'selectionclear',\r\n});\r\n\r\nclass SelectionAreaBehavior extends _Behavior__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(target, settings) {\r\n    super(target, settings);\r\n\r\n    // TODO: Maybe use a WeakSet, but we have to find another way to implement clear() since\r\n    // it iterates over it.\r\n    this._selection = new Set();\r\n    this._add = this._bind(this._add);\r\n    this.clear = this.clear.bind(this);\r\n  }\r\n\r\n  contains(item) {\r\n    return this._selection.has(item);\r\n  }\r\n\r\n  select(item) {\r\n    // TODO: Accessing a protected member.\r\n    const selectBehavior = item._selectBehavior;\r\n\r\n    // TODO: Accessing a protected member.\r\n    selectBehavior._select(this._add);\r\n  }\r\n\r\n  _add(item) {\r\n    if (!this.contains(item)) {\r\n      this._selection.add(item);\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  remove(item) {\r\n    if (this.contains(item)) {\r\n      item.unselect();\r\n      this._selection.delete(item);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  clear() {\r\n    this._selection.forEach((item) => {\r\n      this.remove(item);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  end() {\r\n    this.clear();\r\n  }\r\n\r\n  get() {\r\n    return Array.from(this._selection);\r\n  }\r\n\r\n  attach() {\r\n    this._target.getElement().addEventListener('mousedown', this.clear, false);\r\n  }\r\n\r\n  detach() {\r\n    this._target.getElement().removeEventListener('mousedown', this.clear, false);\r\n    super.detach();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectionAreaBehavior);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvU2VsZWN0aW9uQXJlYUJlaGF2aW9yLmpzPzc3OWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWtDOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxvQ0FBb0MsaURBQVE7QUFDNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsb0ZBQXFCLEVBQUM7QUFDcEIiLCJmaWxlIjoiLi9zcmMvanMvYmVoYXZpb3IvU2VsZWN0aW9uQXJlYUJlaGF2aW9yLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJlaGF2aW9yIGZyb20gJy4vQmVoYXZpb3InO1xyXG5cclxuLy8gVE9ETzogVXNlIHRoaXMgZXZlbnRzXHJcbmNvbnN0IEVWRU5UID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgQUREOiAnc2VsZWN0aW9uYWRkJyxcclxuICBSRU1PVkU6ICdzZWxlY3Rpb25yZW1vdmUnLFxyXG4gIENMRUFSOiAnc2VsZWN0aW9uY2xlYXInLFxyXG59KTtcclxuXHJcbmNsYXNzIFNlbGVjdGlvbkFyZWFCZWhhdmlvciBleHRlbmRzIEJlaGF2aW9yIHtcclxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIHNldHRpbmdzKSB7XHJcbiAgICBzdXBlcih0YXJnZXQsIHNldHRpbmdzKTtcclxuXHJcbiAgICAvLyBUT0RPOiBNYXliZSB1c2UgYSBXZWFrU2V0LCBidXQgd2UgaGF2ZSB0byBmaW5kIGFub3RoZXIgd2F5IHRvIGltcGxlbWVudCBjbGVhcigpIHNpbmNlXHJcbiAgICAvLyBpdCBpdGVyYXRlcyBvdmVyIGl0LlxyXG4gICAgdGhpcy5fc2VsZWN0aW9uID0gbmV3IFNldCgpO1xyXG4gICAgdGhpcy5fYWRkID0gdGhpcy5fYmluZCh0aGlzLl9hZGQpO1xyXG4gICAgdGhpcy5jbGVhciA9IHRoaXMuY2xlYXIuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbnRhaW5zKGl0ZW0pIHtcclxuICAgIHJldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzKGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0KGl0ZW0pIHtcclxuICAgIC8vIFRPRE86IEFjY2Vzc2luZyBhIHByb3RlY3RlZCBtZW1iZXIuXHJcbiAgICBjb25zdCBzZWxlY3RCZWhhdmlvciA9IGl0ZW0uX3NlbGVjdEJlaGF2aW9yO1xyXG5cclxuICAgIC8vIFRPRE86IEFjY2Vzc2luZyBhIHByb3RlY3RlZCBtZW1iZXIuXHJcbiAgICBzZWxlY3RCZWhhdmlvci5fc2VsZWN0KHRoaXMuX2FkZCk7XHJcbiAgfVxyXG5cclxuICBfYWRkKGl0ZW0pIHtcclxuICAgIGlmICghdGhpcy5jb250YWlucyhpdGVtKSkge1xyXG4gICAgICB0aGlzLl9zZWxlY3Rpb24uYWRkKGl0ZW0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKGl0ZW0pIHtcclxuICAgIGlmICh0aGlzLmNvbnRhaW5zKGl0ZW0pKSB7XHJcbiAgICAgIGl0ZW0udW5zZWxlY3QoKTtcclxuICAgICAgdGhpcy5fc2VsZWN0aW9uLmRlbGV0ZShpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5fc2VsZWN0aW9uLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGVuZCgpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIGdldCgpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX3NlbGVjdGlvbik7XHJcbiAgfVxyXG5cclxuICBhdHRhY2goKSB7XHJcbiAgICB0aGlzLl90YXJnZXQuZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuY2xlYXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGRldGFjaCgpIHtcclxuICAgIHRoaXMuX3RhcmdldC5nZXRFbGVtZW50KCkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5jbGVhciwgZmFsc2UpO1xyXG4gICAgc3VwZXIuZGV0YWNoKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25BcmVhQmVoYXZpb3I7XHJcbmV4cG9ydCB7IEVWRU5UIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/SelectionAreaBehavior.js\n");

/***/ }),

/***/ "./src/js/behavior/SelectionAreaBehaviorFactory.js":
/*!*********************************************************!*\
  !*** ./src/js/behavior/SelectionAreaBehaviorFactory.js ***!
  \*********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _SelectionAreaBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SelectionAreaBehavior */ \"./src/js/behavior/SelectionAreaBehavior.js\");\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  DEFAULT: 0,\r\n});\r\n\r\nconst SelectionAreaBehaviorFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.DEFAULT]: _SelectionAreaBehavior__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectionAreaBehaviorFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvYmVoYXZpb3IvU2VsZWN0aW9uQXJlYUJlaGF2aW9yRmFjdG9yeS5qcz8yMTRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ3NCOztBQUU1RDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx5Q0FBeUMscURBQU87QUFDaEQ7QUFDQSx3QkFBd0IsOERBQXFCO0FBQzdDLEdBQUc7QUFDSCxDQUFDOztBQUVjLDJGQUE0QixFQUFDO0FBQ3hCIiwiZmlsZSI6Ii4vc3JjL2pzL2JlaGF2aW9yL1NlbGVjdGlvbkFyZWFCZWhhdmlvckZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRmFjdG9yeSBmcm9tICcuLi9jb3JlL0ZhY3RvcnknO1xyXG5pbXBvcnQgU2VsZWN0aW9uQXJlYUJlaGF2aW9yIGZyb20gJy4vU2VsZWN0aW9uQXJlYUJlaGF2aW9yJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgREVGQVVMVDogMCxcclxufSk7XHJcblxyXG5jb25zdCBTZWxlY3Rpb25BcmVhQmVoYXZpb3JGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuREVGQVVMVF06IFNlbGVjdGlvbkFyZWFCZWhhdmlvcixcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGlvbkFyZWFCZWhhdmlvckZhY3Rvcnk7XHJcbmV4cG9ydCB7IFBST0RVQ1RTIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/behavior/SelectionAreaBehaviorFactory.js\n");

/***/ }),

/***/ "./src/js/command/Command.js":
/*!***********************************!*\
  !*** ./src/js/command/Command.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\nclass Command {\r\n  constructor(receiver) {\r\n    this._receiver = receiver;\r\n    this._before = null;\r\n    this._after = null;\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  execute() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notImplemented();\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  undo() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notImplemented();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Command);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9Db21tYW5kLmpzP2U4YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDJEQUFZO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDJEQUFZO0FBQ2hCO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9jb21tYW5kL0NvbW1hbmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXJyb3JUaHJvd2VyIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG5jbGFzcyBDb21tYW5kIHtcclxuICBjb25zdHJ1Y3RvcihyZWNlaXZlcikge1xyXG4gICAgdGhpcy5fcmVjZWl2ZXIgPSByZWNlaXZlcjtcclxuICAgIHRoaXMuX2JlZm9yZSA9IG51bGw7XHJcbiAgICB0aGlzLl9hZnRlciA9IG51bGw7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xyXG4gIGV4ZWN1dGUoKSB7XHJcbiAgICBFcnJvclRocm93ZXIubm90SW1wbGVtZW50ZWQoKTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgdW5kbygpIHtcclxuICAgIEVycm9yVGhyb3dlci5ub3RJbXBsZW1lbnRlZCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbWFuZDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/command/Command.js\n");

/***/ }),

/***/ "./src/js/command/CommandFactory.js":
/*!******************************************!*\
  !*** ./src/js/command/CommandFactory.js ***!
  \******************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _ShapePositioningCommand__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ShapePositioningCommand */ \"./src/js/command/ShapePositioningCommand.js\");\n/* harmony import */ var _ShapeTextCommand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ShapeTextCommand */ \"./src/js/command/ShapeTextCommand.js\");\n/* harmony import */ var _ShapeResizeCommand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ShapeResizeCommand */ \"./src/js/command/ShapeResizeCommand.js\");\n/* harmony import */ var _ShapeRemoveCommand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ShapeRemoveCommand */ \"./src/js/command/ShapeRemoveCommand.js\");\n/* harmony import */ var _ShapeAddCommand__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ShapeAddCommand */ \"./src/js/command/ShapeAddCommand.js\");\n/* harmony import */ var _ConnectionRemoveCommand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ConnectionRemoveCommand */ \"./src/js/command/ConnectionRemoveCommand.js\");\n/* harmony import */ var _ConnectCommand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ConnectCommand */ \"./src/js/command/ConnectCommand.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  SHAPE_ADD: 0,\r\n  SHAPE_TEXT: 1,\r\n  SHAPE_POSITION: 2,\r\n  SHAPE_RESIZE: 3,\r\n  SHAPE_REMOVE: 4,\r\n  CONNECT: 5,\r\n  CONNECTION_REMOVE: 6,\r\n});\r\n\r\nconst CommandFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.SHAPE_ADD]: _ShapeAddCommand__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n    [PRODUCTS.SHAPE_TEXT]: _ShapeTextCommand__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\r\n    [PRODUCTS.SHAPE_POSITION]: _ShapePositioningCommand__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n    [PRODUCTS.SHAPE_RESIZE]: _ShapeResizeCommand__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\r\n    [PRODUCTS.SHAPE_REMOVE]: _ShapeRemoveCommand__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\r\n    [PRODUCTS.CONNECT]: _ConnectCommand__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\r\n    [PRODUCTS.CONNECTION_REMOVE]: _ConnectionRemoveCommand__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommandFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9Db21tYW5kRmFjdG9yeS5qcz8zMzczIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQzBCO0FBQ2Q7QUFDSTtBQUNBO0FBQ047QUFDZ0I7QUFDbEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDJCQUEyQixxREFBTztBQUNsQztBQUNBLDBCQUEwQix3REFBZTtBQUN6QywyQkFBMkIseURBQWdCO0FBQzNDLCtCQUErQixnRUFBdUI7QUFDdEQsNkJBQTZCLDJEQUFrQjtBQUMvQyw2QkFBNkIsMkRBQWtCO0FBQy9DLHdCQUF3Qix1REFBYztBQUN0QyxrQ0FBa0MsZ0VBQXVCO0FBQ3pELEdBQUc7QUFDSCxDQUFDOztBQUVjLDZFQUFjLEVBQUM7QUFDViIsImZpbGUiOiIuL3NyYy9qcy9jb21tYW5kL0NvbW1hbmRGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEZhY3RvcnkgZnJvbSAnLi4vY29yZS9GYWN0b3J5JztcclxuaW1wb3J0IFNoYXBlUG9zaXRpb25pbmdDb21tYW5kIGZyb20gJy4vU2hhcGVQb3NpdGlvbmluZ0NvbW1hbmQnO1xyXG5pbXBvcnQgU2hhcGVUZXh0Q29tbWFuZCBmcm9tICcuL1NoYXBlVGV4dENvbW1hbmQnO1xyXG5pbXBvcnQgU2hhcGVSZXNpemVDb21tYW5kIGZyb20gJy4vU2hhcGVSZXNpemVDb21tYW5kJztcclxuaW1wb3J0IFNoYXBlUmVtb3ZlQ29tbWFuZCBmcm9tICcuL1NoYXBlUmVtb3ZlQ29tbWFuZCc7XHJcbmltcG9ydCBTaGFwZUFkZENvbW1hbmQgZnJvbSAnLi9TaGFwZUFkZENvbW1hbmQnO1xyXG5pbXBvcnQgQ29ubmVjdGlvblJlbW92ZUNvbW1hbmQgZnJvbSAnLi9Db25uZWN0aW9uUmVtb3ZlQ29tbWFuZCc7XHJcbmltcG9ydCBDb25uZWN0Q29tbWFuZCBmcm9tICcuL0Nvbm5lY3RDb21tYW5kJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgU0hBUEVfQUREOiAwLFxyXG4gIFNIQVBFX1RFWFQ6IDEsXHJcbiAgU0hBUEVfUE9TSVRJT046IDIsXHJcbiAgU0hBUEVfUkVTSVpFOiAzLFxyXG4gIFNIQVBFX1JFTU9WRTogNCxcclxuICBDT05ORUNUOiA1LFxyXG4gIENPTk5FQ1RJT05fUkVNT1ZFOiA2LFxyXG59KTtcclxuXHJcbmNvbnN0IENvbW1hbmRGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuU0hBUEVfQUREXTogU2hhcGVBZGRDb21tYW5kLFxyXG4gICAgW1BST0RVQ1RTLlNIQVBFX1RFWFRdOiBTaGFwZVRleHRDb21tYW5kLFxyXG4gICAgW1BST0RVQ1RTLlNIQVBFX1BPU0lUSU9OXTogU2hhcGVQb3NpdGlvbmluZ0NvbW1hbmQsXHJcbiAgICBbUFJPRFVDVFMuU0hBUEVfUkVTSVpFXTogU2hhcGVSZXNpemVDb21tYW5kLFxyXG4gICAgW1BST0RVQ1RTLlNIQVBFX1JFTU9WRV06IFNoYXBlUmVtb3ZlQ29tbWFuZCxcclxuICAgIFtQUk9EVUNUUy5DT05ORUNUXTogQ29ubmVjdENvbW1hbmQsXHJcbiAgICBbUFJPRFVDVFMuQ09OTkVDVElPTl9SRU1PVkVdOiBDb25uZWN0aW9uUmVtb3ZlQ29tbWFuZCxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1hbmRGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/command/CommandFactory.js\n");

/***/ }),

/***/ "./src/js/command/CommandManager.js":
/*!******************************************!*\
  !*** ./src/js/command/CommandManager.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _CommandFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommandFactory */ \"./src/js/command/CommandFactory.js\");\n\r\n\r\nclass CommandManager {\r\n  constructor(settings) {\r\n    settings = { ...settings };\r\n\r\n    this._size = settings.size;\r\n    this._stack = null;\r\n    this._index = null;\r\n    this.clear();\r\n  }\r\n\r\n  /**\r\n   * Executes a command, and if its succesfully executed it is added to commands stack.\r\n   * @param  {Command} command A command to execute.\r\n   * @returns {Boolean} If the command was successfully executed.\r\n   *//**\r\n    *\r\n    * @param  {String} command The valid product key for {@link CommandFactory}.\r\n    * @param  {...any} args The list of arguments for the respective command. Check {@link CommandFactory} for more\r\n    * details about arguments for each product.\r\n    * @returns {Boolean} If the command was successfully executed.\r\n    */\r\n  executeCommand(...args) {\r\n    let command = null;\r\n\r\n    if (args.length === 1) {\r\n      [command] = args;\r\n    } else {\r\n      command = _CommandFactory__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create(...args);\r\n    }\r\n\r\n    this._stack = this._stack.slice(0, this._index + 1);\r\n    this._stack.push(command);\r\n\r\n    const result = this.redo();\r\n    this._stack = this._stack.slice(this._size * -1, this._index + 1);\r\n    this._index = Math.min(this._index, this._size - 1);\r\n\r\n    return result;\r\n  }\r\n\r\n  getSteps() {\r\n    return [\r\n      this._index + 1,\r\n      this._stack.length - 1 - this._index,\r\n    ];\r\n  }\r\n\r\n  undo() {\r\n    const command = this._stack[this._index];\r\n    let executed = false;\r\n\r\n    if (command && command.undo() !== false) {\r\n      this._index -= 1;\r\n\r\n      executed = true;\r\n    }\r\n\r\n    return executed;\r\n  }\r\n\r\n  redo() {\r\n    const nextIndex = this._index + 1;\r\n    const command = this._stack[nextIndex];\r\n    let executed = false;\r\n\r\n    if (command && command.execute() !== false) {\r\n      this._index = nextIndex;\r\n\r\n      executed = true;\r\n    }\r\n\r\n    return executed;\r\n  }\r\n\r\n  clear() {\r\n    this._stack = [];\r\n    this._index = -1;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommandManager);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9Db21tYW5kTWFuYWdlci5qcz8wMjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBOEM7O0FBRTlDO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLGVBQWUsT0FBTyxvQ0FBb0MscUJBQXFCO0FBQy9FLGVBQWUsT0FBTywrREFBK0QscUJBQXFCO0FBQzFHO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsZ0JBQWdCLHVEQUFjO0FBQzlCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDZFQUFjLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9Db21tYW5kTWFuYWdlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tYW5kRmFjdG9yeSBmcm9tICcuL0NvbW1hbmRGYWN0b3J5JztcclxuXHJcbmNsYXNzIENvbW1hbmRNYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSB7IC4uLnNldHRpbmdzIH07XHJcblxyXG4gICAgdGhpcy5fc2l6ZSA9IHNldHRpbmdzLnNpemU7XHJcbiAgICB0aGlzLl9zdGFjayA9IG51bGw7XHJcbiAgICB0aGlzLl9pbmRleCA9IG51bGw7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlcyBhIGNvbW1hbmQsIGFuZCBpZiBpdHMgc3VjY2VzZnVsbHkgZXhlY3V0ZWQgaXQgaXMgYWRkZWQgdG8gY29tbWFuZHMgc3RhY2suXHJcbiAgICogQHBhcmFtICB7Q29tbWFuZH0gY29tbWFuZCBBIGNvbW1hbmQgdG8gZXhlY3V0ZS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGNvbW1hbmQgd2FzIHN1Y2Nlc3NmdWxseSBleGVjdXRlZC5cclxuICAgKi8vKipcclxuICAgICpcclxuICAgICogQHBhcmFtICB7U3RyaW5nfSBjb21tYW5kIFRoZSB2YWxpZCBwcm9kdWN0IGtleSBmb3Ige0BsaW5rIENvbW1hbmRGYWN0b3J5fS5cclxuICAgICogQHBhcmFtICB7Li4uYW55fSBhcmdzIFRoZSBsaXN0IG9mIGFyZ3VtZW50cyBmb3IgdGhlIHJlc3BlY3RpdmUgY29tbWFuZC4gQ2hlY2sge0BsaW5rIENvbW1hbmRGYWN0b3J5fSBmb3IgbW9yZVxyXG4gICAgKiBkZXRhaWxzIGFib3V0IGFyZ3VtZW50cyBmb3IgZWFjaCBwcm9kdWN0LlxyXG4gICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gSWYgdGhlIGNvbW1hbmQgd2FzIHN1Y2Nlc3NmdWxseSBleGVjdXRlZC5cclxuICAgICovXHJcbiAgZXhlY3V0ZUNvbW1hbmQoLi4uYXJncykge1xyXG4gICAgbGV0IGNvbW1hbmQgPSBudWxsO1xyXG5cclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICBbY29tbWFuZF0gPSBhcmdzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29tbWFuZCA9IENvbW1hbmRGYWN0b3J5LmNyZWF0ZSguLi5hcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zdGFjayA9IHRoaXMuX3N0YWNrLnNsaWNlKDAsIHRoaXMuX2luZGV4ICsgMSk7XHJcbiAgICB0aGlzLl9zdGFjay5wdXNoKGNvbW1hbmQpO1xyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucmVkbygpO1xyXG4gICAgdGhpcy5fc3RhY2sgPSB0aGlzLl9zdGFjay5zbGljZSh0aGlzLl9zaXplICogLTEsIHRoaXMuX2luZGV4ICsgMSk7XHJcbiAgICB0aGlzLl9pbmRleCA9IE1hdGgubWluKHRoaXMuX2luZGV4LCB0aGlzLl9zaXplIC0gMSk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGdldFN0ZXBzKCkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgdGhpcy5faW5kZXggKyAxLFxyXG4gICAgICB0aGlzLl9zdGFjay5sZW5ndGggLSAxIC0gdGhpcy5faW5kZXgsXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgdW5kbygpIHtcclxuICAgIGNvbnN0IGNvbW1hbmQgPSB0aGlzLl9zdGFja1t0aGlzLl9pbmRleF07XHJcbiAgICBsZXQgZXhlY3V0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoY29tbWFuZCAmJiBjb21tYW5kLnVuZG8oKSAhPT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5faW5kZXggLT0gMTtcclxuXHJcbiAgICAgIGV4ZWN1dGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXhlY3V0ZWQ7XHJcbiAgfVxyXG5cclxuICByZWRvKCkge1xyXG4gICAgY29uc3QgbmV4dEluZGV4ID0gdGhpcy5faW5kZXggKyAxO1xyXG4gICAgY29uc3QgY29tbWFuZCA9IHRoaXMuX3N0YWNrW25leHRJbmRleF07XHJcbiAgICBsZXQgZXhlY3V0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoY29tbWFuZCAmJiBjb21tYW5kLmV4ZWN1dGUoKSAhPT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5faW5kZXggPSBuZXh0SW5kZXg7XHJcblxyXG4gICAgICBleGVjdXRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGV4ZWN1dGVkO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9zdGFjayA9IFtdO1xyXG4gICAgdGhpcy5faW5kZXggPSAtMTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1hbmRNYW5hZ2VyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/command/CommandManager.js\n");

/***/ }),

/***/ "./src/js/command/ConnectCommand.js":
/*!******************************************!*\
  !*** ./src/js/command/ConnectCommand.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n\r\n\r\nclass ConnectCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver, origShape, destShape, connection) {\r\n    super(receiver);\r\n\r\n    this._before = {\r\n      origShape: connection ? connection.getOrigShape() : null,\r\n      destShape: connection ? connection.getDestShape() : null,\r\n    };\r\n\r\n    this._after = {\r\n      origShape,\r\n      destShape,\r\n    };\r\n\r\n    this._connection = connection;\r\n  }\r\n\r\n  execute() {\r\n    const { origShape, destShape } = this._after;\r\n\r\n    this._connection = this._receiver.connect(origShape, destShape, this._connection);\r\n  }\r\n\r\n  undo() {\r\n    const { origShape, destShape } = this._before;\r\n\r\n    if (origShape && destShape) {\r\n      this._receiver.connect(origShape, destShape, this._connection);\r\n    } else {\r\n      this._connection.remove();\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9Db25uZWN0Q29tbWFuZC5qcz81MjlhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZ0M7O0FBRWhDLDZCQUE2QixnREFBTztBQUNwQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLHVCQUF1Qjs7QUFFbEM7QUFDQTs7QUFFQTtBQUNBLFdBQVcsdUJBQXVCOztBQUVsQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDZFQUFjLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9Db25uZWN0Q29tbWFuZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tYW5kIGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5jbGFzcyBDb25uZWN0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gIGNvbnN0cnVjdG9yKHJlY2VpdmVyLCBvcmlnU2hhcGUsIGRlc3RTaGFwZSwgY29ubmVjdGlvbikge1xyXG4gICAgc3VwZXIocmVjZWl2ZXIpO1xyXG5cclxuICAgIHRoaXMuX2JlZm9yZSA9IHtcclxuICAgICAgb3JpZ1NoYXBlOiBjb25uZWN0aW9uID8gY29ubmVjdGlvbi5nZXRPcmlnU2hhcGUoKSA6IG51bGwsXHJcbiAgICAgIGRlc3RTaGFwZTogY29ubmVjdGlvbiA/IGNvbm5lY3Rpb24uZ2V0RGVzdFNoYXBlKCkgOiBudWxsLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9hZnRlciA9IHtcclxuICAgICAgb3JpZ1NoYXBlLFxyXG4gICAgICBkZXN0U2hhcGUsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xyXG4gIH1cclxuXHJcbiAgZXhlY3V0ZSgpIHtcclxuICAgIGNvbnN0IHsgb3JpZ1NoYXBlLCBkZXN0U2hhcGUgfSA9IHRoaXMuX2FmdGVyO1xyXG5cclxuICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSB0aGlzLl9yZWNlaXZlci5jb25uZWN0KG9yaWdTaGFwZSwgZGVzdFNoYXBlLCB0aGlzLl9jb25uZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIHVuZG8oKSB7XHJcbiAgICBjb25zdCB7IG9yaWdTaGFwZSwgZGVzdFNoYXBlIH0gPSB0aGlzLl9iZWZvcmU7XHJcblxyXG4gICAgaWYgKG9yaWdTaGFwZSAmJiBkZXN0U2hhcGUpIHtcclxuICAgICAgdGhpcy5fcmVjZWl2ZXIuY29ubmVjdChvcmlnU2hhcGUsIGRlc3RTaGFwZSwgdGhpcy5fY29ubmVjdGlvbik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jb25uZWN0aW9uLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdENvbW1hbmQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/command/ConnectCommand.js\n");

/***/ }),

/***/ "./src/js/command/ConnectionRemoveCommand.js":
/*!***************************************************!*\
  !*** ./src/js/command/ConnectionRemoveCommand.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n\r\n\r\nclass ConnectionRemoveCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver) {\r\n    super(receiver);\r\n\r\n    this._after = {\r\n      canvas: receiver.getCanvas(),\r\n      orig: receiver.getOrigShape(),\r\n      dest: receiver.getDestShape(),\r\n    };\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.remove();\r\n  }\r\n\r\n  undo() {\r\n    const { canvas, orig, dest } = this._after;\r\n\r\n    canvas.connect(orig, dest, this._receiver);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConnectionRemoveCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9Db25uZWN0aW9uUmVtb3ZlQ29tbWFuZC5qcz84NTVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZ0M7O0FBRWhDLHNDQUFzQyxnREFBTztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLHFCQUFxQjs7QUFFaEM7QUFDQTtBQUNBOztBQUVlLHNGQUF1QixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2NvbW1hbmQvQ29ubmVjdGlvblJlbW92ZUNvbW1hbmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuY2xhc3MgQ29ubmVjdGlvblJlbW92ZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICBjb25zdHJ1Y3RvcihyZWNlaXZlcikge1xyXG4gICAgc3VwZXIocmVjZWl2ZXIpO1xyXG5cclxuICAgIHRoaXMuX2FmdGVyID0ge1xyXG4gICAgICBjYW52YXM6IHJlY2VpdmVyLmdldENhbnZhcygpLFxyXG4gICAgICBvcmlnOiByZWNlaXZlci5nZXRPcmlnU2hhcGUoKSxcclxuICAgICAgZGVzdDogcmVjZWl2ZXIuZ2V0RGVzdFNoYXBlKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZXhlY3V0ZSgpIHtcclxuICAgIHRoaXMuX3JlY2VpdmVyLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgdW5kbygpIHtcclxuICAgIGNvbnN0IHsgY2FudmFzLCBvcmlnLCBkZXN0IH0gPSB0aGlzLl9hZnRlcjtcclxuXHJcbiAgICBjYW52YXMuY29ubmVjdChvcmlnLCBkZXN0LCB0aGlzLl9yZWNlaXZlcik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb25uZWN0aW9uUmVtb3ZlQ29tbWFuZDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/command/ConnectionRemoveCommand.js\n");

/***/ }),

/***/ "./src/js/command/ShapeAddCommand.js":
/*!*******************************************!*\
  !*** ./src/js/command/ShapeAddCommand.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n\r\n\r\nclass ShapeAddCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver, shape) {\r\n    super(receiver);\r\n\r\n    this._after = { shape };\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.addShape(this._after.shape);\r\n  }\r\n\r\n  undo() {\r\n    this._after.shape.remove();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeAddCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9TaGFwZUFkZENvbW1hbmQuanM/MTEyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWdDOztBQUVoQyw4QkFBOEIsZ0RBQU87QUFDckM7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLDhFQUFlLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9TaGFwZUFkZENvbW1hbmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL0NvbW1hbmQnO1xyXG5cclxuY2xhc3MgU2hhcGVBZGRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgY29uc3RydWN0b3IocmVjZWl2ZXIsIHNoYXBlKSB7XHJcbiAgICBzdXBlcihyZWNlaXZlcik7XHJcblxyXG4gICAgdGhpcy5fYWZ0ZXIgPSB7IHNoYXBlIH07XHJcbiAgfVxyXG5cclxuICBleGVjdXRlKCkge1xyXG4gICAgdGhpcy5fcmVjZWl2ZXIuYWRkU2hhcGUodGhpcy5fYWZ0ZXIuc2hhcGUpO1xyXG4gIH1cclxuXHJcbiAgdW5kbygpIHtcclxuICAgIHRoaXMuX2FmdGVyLnNoYXBlLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hhcGVBZGRDb21tYW5kO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/command/ShapeAddCommand.js\n");

/***/ }),

/***/ "./src/js/command/ShapePositioningCommand.js":
/*!***************************************************!*\
  !*** ./src/js/command/ShapePositioningCommand.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n\r\n\r\nclass ShapePositioningCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(shape, ...position) {\r\n    super(shape);\r\n\r\n    this._before = shape.getPosition();\r\n    this._after = position;\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.setPosition(...this._after);\r\n  }\r\n\r\n  undo() {\r\n    this._receiver.setPosition(this._before);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapePositioningCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9TaGFwZVBvc2l0aW9uaW5nQ29tbWFuZC5qcz9kYmY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZ0M7O0FBRWhDLHNDQUFzQyxnREFBTztBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsc0ZBQXVCLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9TaGFwZVBvc2l0aW9uaW5nQ29tbWFuZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tYW5kIGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5jbGFzcyBTaGFwZVBvc2l0aW9uaW5nQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gIGNvbnN0cnVjdG9yKHNoYXBlLCAuLi5wb3NpdGlvbikge1xyXG4gICAgc3VwZXIoc2hhcGUpO1xyXG5cclxuICAgIHRoaXMuX2JlZm9yZSA9IHNoYXBlLmdldFBvc2l0aW9uKCk7XHJcbiAgICB0aGlzLl9hZnRlciA9IHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgZXhlY3V0ZSgpIHtcclxuICAgIHRoaXMuX3JlY2VpdmVyLnNldFBvc2l0aW9uKC4uLnRoaXMuX2FmdGVyKTtcclxuICB9XHJcblxyXG4gIHVuZG8oKSB7XHJcbiAgICB0aGlzLl9yZWNlaXZlci5zZXRQb3NpdGlvbih0aGlzLl9iZWZvcmUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hhcGVQb3NpdGlvbmluZ0NvbW1hbmQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/command/ShapePositioningCommand.js\n");

/***/ }),

/***/ "./src/js/command/ShapeRemoveCommand.js":
/*!**********************************************!*\
  !*** ./src/js/command/ShapeRemoveCommand.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n\r\n\r\n\r\nclass ShapeRemoveCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver) {\r\n    super(receiver);\r\n\r\n    this._before = {\r\n      canvas: receiver.getCanvas(),\r\n      connections: receiver.getConnectedShapes(),\r\n    };\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.remove();\r\n  }\r\n\r\n  undo() {\r\n    const { canvas, connections } = this._before;\r\n\r\n    canvas.addShape(this._receiver);\r\n    connections.forEach(([otherShape, direction]) => {\r\n      if (direction === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG) {\r\n        canvas.connect(otherShape, this._receiver);\r\n      } else {\r\n        canvas.connect(this._receiver, otherShape);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeRemoveCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9TaGFwZVJlbW92ZUNvbW1hbmQuanM/YTQ2NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBZ0M7QUFDVTs7QUFFMUMsaUNBQWlDLGdEQUFPO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLHNCQUFzQjs7QUFFakM7QUFDQTtBQUNBLHdCQUF3QixxREFBSTtBQUM1QjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRWUsaUZBQWtCLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9TaGFwZVJlbW92ZUNvbW1hbmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBNT0RFIH0gZnJvbSAnLi4vY29ubmVjdGlvbi9Qb3J0JztcclxuXHJcbmNsYXNzIFNoYXBlUmVtb3ZlQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gIGNvbnN0cnVjdG9yKHJlY2VpdmVyKSB7XHJcbiAgICBzdXBlcihyZWNlaXZlcik7XHJcblxyXG4gICAgdGhpcy5fYmVmb3JlID0ge1xyXG4gICAgICBjYW52YXM6IHJlY2VpdmVyLmdldENhbnZhcygpLFxyXG4gICAgICBjb25uZWN0aW9uczogcmVjZWl2ZXIuZ2V0Q29ubmVjdGVkU2hhcGVzKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZXhlY3V0ZSgpIHtcclxuICAgIHRoaXMuX3JlY2VpdmVyLnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgdW5kbygpIHtcclxuICAgIGNvbnN0IHsgY2FudmFzLCBjb25uZWN0aW9ucyB9ID0gdGhpcy5fYmVmb3JlO1xyXG5cclxuICAgIGNhbnZhcy5hZGRTaGFwZSh0aGlzLl9yZWNlaXZlcik7XHJcbiAgICBjb25uZWN0aW9ucy5mb3JFYWNoKChbb3RoZXJTaGFwZSwgZGlyZWN0aW9uXSkgPT4ge1xyXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSBNT0RFLk9SSUcpIHtcclxuICAgICAgICBjYW52YXMuY29ubmVjdChvdGhlclNoYXBlLCB0aGlzLl9yZWNlaXZlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2FudmFzLmNvbm5lY3QodGhpcy5fcmVjZWl2ZXIsIG90aGVyU2hhcGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNoYXBlUmVtb3ZlQ29tbWFuZDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/command/ShapeRemoveCommand.js\n");

/***/ }),

/***/ "./src/js/command/ShapeResizeCommand.js":
/*!**********************************************!*\
  !*** ./src/js/command/ShapeResizeCommand.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n/* harmony import */ var _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../behavior/ResizeBehavior */ \"./src/js/behavior/ResizeBehavior.js\");\n\r\n\r\n\r\nclass ShapeResizeCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver, { width, height }, direction = null) {\r\n    super(receiver);\r\n\r\n    let { x, y } = receiver.getPosition();\r\n    const currentSize = receiver.getSize();\r\n    const diffX = (width - currentSize.width) / 2;\r\n    const diffY = (height - currentSize.height) / 2;\r\n\r\n    switch (direction) {\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].E:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].NE:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].SE:\r\n        x += diffX;\r\n        break;\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].W:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].NW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].SW:\r\n        x -= diffX;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    switch (direction) {\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].N:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].NW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].NE:\r\n        y -= diffY;\r\n        break;\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].S:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].SW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTION\"].SE:\r\n        y += diffY;\r\n        break;\r\n      default:\r\n    }\r\n\r\n    this._before = {\r\n      position: receiver.getPosition(),\r\n      size: currentSize,\r\n    };\r\n\r\n    this._after = {\r\n      position: { x, y },\r\n      size: { width, height },\r\n    };\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.setPosition(this._after.position);\r\n    this._receiver.setSize(this._after.size);\r\n  }\r\n\r\n  undo() {\r\n    this._receiver.setPosition(this._before.position);\r\n    this._receiver.setSize(this._before.size);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeResizeCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9TaGFwZVJlc2l6ZUNvbW1hbmQuanM/ODczNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBZ0M7QUFDdUI7O0FBRXZELGlDQUFpQyxnREFBTztBQUN4Qyx5QkFBeUIsZ0JBQWdCO0FBQ3pDOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEIsV0FBVyxrRUFBUztBQUNwQjtBQUNBO0FBQ0EsV0FBVyxrRUFBUztBQUNwQixXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEIsV0FBVyxrRUFBUztBQUNwQjtBQUNBO0FBQ0EsV0FBVyxrRUFBUztBQUNwQixXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsT0FBTztBQUN4QixhQUFhLGdCQUFnQjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsaUZBQWtCLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29tbWFuZC9TaGFwZVJlc2l6ZUNvbW1hbmQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tbWFuZCBmcm9tICcuL0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBESVJFQ1RJT04gfSBmcm9tICcuLi9iZWhhdmlvci9SZXNpemVCZWhhdmlvcic7XHJcblxyXG5jbGFzcyBTaGFwZVJlc2l6ZUNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICBjb25zdHJ1Y3RvcihyZWNlaXZlciwgeyB3aWR0aCwgaGVpZ2h0IH0sIGRpcmVjdGlvbiA9IG51bGwpIHtcclxuICAgIHN1cGVyKHJlY2VpdmVyKTtcclxuXHJcbiAgICBsZXQgeyB4LCB5IH0gPSByZWNlaXZlci5nZXRQb3NpdGlvbigpO1xyXG4gICAgY29uc3QgY3VycmVudFNpemUgPSByZWNlaXZlci5nZXRTaXplKCk7XHJcbiAgICBjb25zdCBkaWZmWCA9ICh3aWR0aCAtIGN1cnJlbnRTaXplLndpZHRoKSAvIDI7XHJcbiAgICBjb25zdCBkaWZmWSA9IChoZWlnaHQgLSBjdXJyZW50U2l6ZS5oZWlnaHQpIC8gMjtcclxuXHJcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5FOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5ORTpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uU0U6XHJcbiAgICAgICAgeCArPSBkaWZmWDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBESVJFQ1RJT04uVzpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTlc6XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlNXOlxyXG4gICAgICAgIHggLT0gZGlmZlg7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTjpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTlc6XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLk5FOlxyXG4gICAgICAgIHkgLT0gZGlmZlk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlM6XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlNXOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5TRTpcclxuICAgICAgICB5ICs9IGRpZmZZO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2JlZm9yZSA9IHtcclxuICAgICAgcG9zaXRpb246IHJlY2VpdmVyLmdldFBvc2l0aW9uKCksXHJcbiAgICAgIHNpemU6IGN1cnJlbnRTaXplLFxyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLl9hZnRlciA9IHtcclxuICAgICAgcG9zaXRpb246IHsgeCwgeSB9LFxyXG4gICAgICBzaXplOiB7IHdpZHRoLCBoZWlnaHQgfSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBleGVjdXRlKCkge1xyXG4gICAgdGhpcy5fcmVjZWl2ZXIuc2V0UG9zaXRpb24odGhpcy5fYWZ0ZXIucG9zaXRpb24pO1xyXG4gICAgdGhpcy5fcmVjZWl2ZXIuc2V0U2l6ZSh0aGlzLl9hZnRlci5zaXplKTtcclxuICB9XHJcblxyXG4gIHVuZG8oKSB7XHJcbiAgICB0aGlzLl9yZWNlaXZlci5zZXRQb3NpdGlvbih0aGlzLl9iZWZvcmUucG9zaXRpb24pO1xyXG4gICAgdGhpcy5fcmVjZWl2ZXIuc2V0U2l6ZSh0aGlzLl9iZWZvcmUuc2l6ZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGFwZVJlc2l6ZUNvbW1hbmQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/command/ShapeResizeCommand.js\n");

/***/ }),

/***/ "./src/js/command/ShapeTextCommand.js":
/*!********************************************!*\
  !*** ./src/js/command/ShapeTextCommand.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Command */ \"./src/js/command/Command.js\");\n\r\n\r\nclass ShapeTextCommand extends _Command__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  constructor(receiver, text) {\r\n    super(receiver);\r\n    this._before = receiver.getText();\r\n    this._after = text;\r\n  }\r\n\r\n  execute() {\r\n    this._receiver.setText(this._after);\r\n  }\r\n\r\n  undo() {\r\n    this._receiver.setText(this._before);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeTextCommand);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29tbWFuZC9TaGFwZVRleHRDb21tYW5kLmpzP2U0MzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFnQzs7QUFFaEMsK0JBQStCLGdEQUFPO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLCtFQUFnQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2NvbW1hbmQvU2hhcGVUZXh0Q29tbWFuZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDb21tYW5kIGZyb20gJy4vQ29tbWFuZCc7XHJcblxyXG5jbGFzcyBTaGFwZVRleHRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgY29uc3RydWN0b3IocmVjZWl2ZXIsIHRleHQpIHtcclxuICAgIHN1cGVyKHJlY2VpdmVyKTtcclxuICAgIHRoaXMuX2JlZm9yZSA9IHJlY2VpdmVyLmdldFRleHQoKTtcclxuICAgIHRoaXMuX2FmdGVyID0gdGV4dDtcclxuICB9XHJcblxyXG4gIGV4ZWN1dGUoKSB7XHJcbiAgICB0aGlzLl9yZWNlaXZlci5zZXRUZXh0KHRoaXMuX2FmdGVyKTtcclxuICB9XHJcblxyXG4gIHVuZG8oKSB7XHJcbiAgICB0aGlzLl9yZWNlaXZlci5zZXRUZXh0KHRoaXMuX2JlZm9yZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGFwZVRleHRDb21tYW5kO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/command/ShapeTextCommand.js\n");

/***/ }),

/***/ "./src/js/connection/Connection.js":
/*!*****************************************!*\
  !*** ./src/js/connection/Connection.js ***!
  \*****************************************/
/*! exports provided: default, EVENT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../diagram/DiagramElement */ \"./src/js/diagram/DiagramElement.js\");\n/* harmony import */ var _ConnectionIntersectionResolver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ConnectionIntersectionResolver */ \"./src/js/connection/ConnectionIntersectionResolver.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../behavior/ResizeBehavior */ \"./src/js/behavior/ResizeBehavior.js\");\n/* harmony import */ var _WaypointStrategyRepository__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WaypointStrategyRepository */ \"./src/js/connection/WaypointStrategyRepository.js\");\n/* harmony import */ var _LineStrategyRepository__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LineStrategyRepository */ \"./src/js/connection/LineStrategyRepository.js\");\n/* harmony import */ var _VertexStrategyRepository__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VertexStrategyRepository */ \"./src/js/connection/VertexStrategyRepository.js\");\n/* harmony import */ var _IntersectionStrategyRepository__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./IntersectionStrategyRepository */ \"./src/js/connection/IntersectionStrategyRepository.js\");\n/* harmony import */ var _behavior_DraggableConnectionBehaviorFactory__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../behavior/DraggableConnectionBehaviorFactory */ \"./src/js/behavior/DraggableConnectionBehaviorFactory.js\");\n/* harmony import */ var _diagram_DiagramUI__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../diagram/DiagramUI */ \"./src/js/diagram/DiagramUI.js\");\n/* harmony import */ var _Port__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst EVENT = Object.freeze({\r\n  CONNECT: 'connect',\r\n  PORT_CHANGE: 'portchange',\r\n  DISCONNECT: 'disconnect',\r\n});\r\n\r\nconst DEFAULTS = {\r\n  waypoint: _WaypointStrategyRepository__WEBPACK_IMPORTED_MODULE_6__[\"PRODUCTS\"].RECT,\r\n  line: _LineStrategyRepository__WEBPACK_IMPORTED_MODULE_7__[\"PRODUCTS\"].STRAIGHT,\r\n  vertex: _VertexStrategyRepository__WEBPACK_IMPORTED_MODULE_8__[\"PRODUCTS\"].ARC,\r\n  vertexSize: 10,\r\n  intersection: _IntersectionStrategyRepository__WEBPACK_IMPORTED_MODULE_9__[\"PRODUCTS\"].ARC,\r\n  dragBehavior: _behavior_DraggableConnectionBehaviorFactory__WEBPACK_IMPORTED_MODULE_10__[\"PRODUCTS\"].DEFAULT,\r\n};\r\n\r\nconst INTERSECTION_SIZE = Object.freeze({\r\n  WIDTH: 10,\r\n  HEIGHT: 8,\r\n});\r\n\r\nclass Connection extends _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'connection';\r\n  }\r\n\r\n  static get ARROW_SEGMENT_LENGTH() {\r\n    return 20;\r\n  }\r\n\r\n  static get INTERSECTION_SIZE() {\r\n    return INTERSECTION_SIZE;\r\n  }\r\n\r\n  // TODO: Move this to Geometry as getLineSlope.\r\n  static _getSegmentOrientation(from, to) {\r\n    let orientation;\r\n\r\n    if (from.x === to.x) {\r\n      orientation = _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].Y;\r\n    } else {\r\n      orientation = (from.y === to.y ? _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].X : -1);\r\n    }\r\n\r\n    if (orientation === -1) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_13__[\"default\"].custom('Diagonal segment?');\r\n    }\r\n\r\n    return orientation;\r\n  }\r\n\r\n  static _getSegmentDirection(from, to) {\r\n    if (from.x < to.x || from.y < to.y) {\r\n      return 1;\r\n    }\r\n\r\n    return from.x > to.x || from.y > to.y ? -1 : 0;\r\n  }\r\n\r\n  constructor(settings) {\r\n    super(settings);\r\n\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    this._points = [];\r\n    this._origShape = null;\r\n    this._destShape = null;\r\n    this._origPort = null;\r\n    this._destPort = null;\r\n    this._interceptors = new Set();\r\n    this._intersections = new Map();\r\n    // TODO: Sibling class has also a _dragBehavior property, they could be lift up to parent class.\r\n    this._dragBehavior = _behavior_DraggableConnectionBehaviorFactory__WEBPACK_IMPORTED_MODULE_10__[\"default\"].create(settings.dragBehavior, this);\r\n    this._waypointStrategy = _WaypointStrategyRepository__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get(settings.waypoint);\r\n    this._lineStrategy = _LineStrategyRepository__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get(settings.line);\r\n    this._vertexStrategy = _VertexStrategyRepository__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(settings.vertex);\r\n    this._vertexSize = settings.vertexSize;\r\n    this._intersectionStrategy = _IntersectionStrategyRepository__WEBPACK_IMPORTED_MODULE_9__[\"default\"].get(settings.intersection);\r\n  }\r\n\r\n  _getComponentUI() {\r\n    return new _diagram_DiagramUI__WEBPACK_IMPORTED_MODULE_11__[\"default\"](this);\r\n  }\r\n\r\n  addInterceptor(connection) {\r\n    this._interceptors.add(connection);\r\n  }\r\n\r\n  _setCanvas(...params) {\r\n    // TODO: what is this evaluation for?\r\n    if (this._intersections) {\r\n      return super._setCanvas(...params);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Add a new intersection point.\r\n   * @param {Number} segmentIndex The index of the segment the intersection will be draw over.\r\n   * @param {Connection} connection The connection that the intersection crosses.\r\n   * @param {Point} point The intersection point.\r\n   */\r\n  addIntersection(segmentIndex, connection, point) {\r\n    let segmentIntersections = this._intersections.get(segmentIndex);\r\n\r\n    if (!segmentIntersections) {\r\n      segmentIntersections = [];\r\n\r\n      this._intersections.set(segmentIndex, segmentIntersections);\r\n    }\r\n\r\n    segmentIntersections.push({\r\n      connection,\r\n      point,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Determines if a intersection point already exists in any of the segments of a Connection.\r\n   * @param {Point} point The point to find\r\n   * @returns {Boolean}\r\n   */\r\n  hasIntersectionPoint(x, y) {\r\n    const iterator = this._intersections.entries();\r\n    let current = iterator.next();\r\n\r\n    while (!current.done) {\r\n      const [, points] = current.value;\r\n      const found = points.find(({ point }) => x === point.x && y === point.y);\r\n\r\n      if (found) {\r\n        return true;\r\n      }\r\n\r\n      current = iterator.next();\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  _updateIntersectionPoints() {\r\n    const intersectionsArray = _ConnectionIntersectionResolver__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getIntersectionPoints(this);\r\n\r\n    this._removeIntersections();\r\n\r\n    intersectionsArray.forEach((intersections, index) => {\r\n      if (intersections) {\r\n        intersections.forEach((intersection) => {\r\n          intersection.connection.addInterceptor(this);\r\n        });\r\n\r\n        this._intersections.set(index, intersections);\r\n      }\r\n    });\r\n  }\r\n\r\n  _removeInterceptors() {\r\n    this._interceptors.forEach((connection) => connection._removeIntersections(this));\r\n    this._interceptors.clear();\r\n  }\r\n\r\n  _removeIntersections(connection = null) {\r\n    // TODO: intersections and interceptors adding removal should be handled with events (DS-132)\r\n    if (connection && this._origPort && this._destPort) {\r\n      this._intersections.forEach((intersections, key) => {\r\n        this._intersections.set(key,\r\n          intersections.filter((intersection) => intersection.connection !== connection));\r\n      });\r\n\r\n      this._draw(this._origPort.getDescription(), this._destPort.getDescription());\r\n    } else {\r\n      this._intersections.clear();\r\n    }\r\n  }\r\n\r\n  _onShapeDragStart() {\r\n    // TODO: The opacity is being set by a css class in DraggableConnectionBehavior,\r\n    // move this that place.\r\n    this._el.setAttribute('opacity', 0.3);\r\n\r\n    this._removeInterceptors();\r\n    this._removeIntersections();\r\n  }\r\n\r\n  _onShapeDrag() {\r\n    this.make();\r\n  }\r\n\r\n  _onShapeDragEnd() {\r\n    this._el.setAttribute('opacity', 1);\r\n    this.make();\r\n  }\r\n\r\n  _onShapePositionChange() {\r\n    this.make();\r\n  }\r\n\r\n  _addDragListeners(shape) {\r\n    this._canvas.addListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"EVENT\"].DRAG_START, shape, this._onShapeDragStart, this);\r\n    this._canvas.addListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"EVENT\"].DRAG_END, shape, this._onShapeDragEnd, this);\r\n    this._canvas.addListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_5__[\"EVENT\"].START, shape, this._onShapeDragStart, this);\r\n    this._canvas.addListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_5__[\"EVENT\"].END, shape, this._onShapeDragEnd, this);\r\n\r\n    return this;\r\n  }\r\n\r\n  _removeDragListeners(shape) {\r\n    const { _canvas } = this;\r\n\r\n    if (_canvas) {\r\n      // TODO: here we have that some event are defined in Shape and other in resize behavior, maybe Drag events should\r\n      // be defined in drag behavior, the same way the resize behaviors are in the ResizeBehavior\r\n      this._canvas.removeListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"EVENT\"].DRAG_START, shape, this._onShapeDragStart,\r\n        this);\r\n      this._canvas.removeListener(_shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"EVENT\"].DRAG_END, shape, this._onShapeDragEnd,\r\n        this);\r\n      this._canvas.removeListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_5__[\"EVENT\"].START, shape, this._onShapeDragStart, this);\r\n      this._canvas.removeListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_5__[\"EVENT\"].END, shape, this._onShapeDragEnd, this);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getOrigShape() {\r\n    return this._origShape;\r\n  }\r\n\r\n  getDestShape() {\r\n    return this._destShape;\r\n  }\r\n\r\n  getOrigPort() {\r\n    return this._origPort;\r\n  }\r\n\r\n  getDestPort() {\r\n    return this._destPort;\r\n  }\r\n\r\n  start(shape, direction) {\r\n    this._dragBehavior.start(shape, direction);\r\n  }\r\n\r\n  end() {\r\n    this._dragBehavior.end();\r\n  }\r\n\r\n  // TODO: for robbustness we need to verify that connection, origShape and destShape\r\n  // are in the same canvas IMPORTANT!\r\n  connect(origShape, destShape) {\r\n    const origCanvas = origShape.getCanvas();\r\n    const destCanvas = destShape.getCanvas();\r\n\r\n    if (origCanvas === destCanvas\r\n      && origShape.canAcceptConnection(_Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].ORIG, destShape)\r\n      && destShape.canAcceptConnection(_Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].DEST, origShape)\r\n      // TODO: Fix access to protected members.\r\n      // TODO: This is hot fix, this should be handled by proxied functions\r\n      // a ticket for that was created #73\r\n      && !origShape._connectivityBehavior._disabled\r\n      && !destShape._connectivityBehavior._disabled) {\r\n      const { _origShape: oldOrigShape, _destShape: oldDestShape } = this;\r\n      const changeOrigShape = origShape !== oldOrigShape;\r\n      const changeDestShape = destShape !== oldDestShape;\r\n      let result = true;\r\n\r\n      this._origShape = origShape;\r\n      this._destShape = destShape;\r\n\r\n      if (changeOrigShape) {\r\n        if (oldOrigShape) {\r\n          oldOrigShape.removeConnection(this, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].ORIG);\r\n          this._removeDragListeners(oldOrigShape);\r\n          this._points = [];\r\n        }\r\n\r\n        result = origShape.addOutgoingConnection(this);\r\n        if (result) {\r\n          this._setCanvas(origCanvas);\r\n          this._addDragListeners(origShape);\r\n        }\r\n      }\r\n\r\n      if (changeDestShape && result) {\r\n        if (oldDestShape) {\r\n          oldDestShape.removeConnection(this, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].DEST);\r\n          this._removeDragListeners(oldDestShape);\r\n          this._points = [];\r\n        }\r\n\r\n        result = destShape.addIncomingConnection(this);\r\n        if (result) {\r\n          this._setCanvas(destCanvas);\r\n          this._addDragListeners(destShape);\r\n        }\r\n      }\r\n\r\n      if (result) {\r\n        if (changeOrigShape || changeDestShape) {\r\n          this._canvas.dispatchEvent(EVENT.CONNECT, this, {\r\n            origShape,\r\n            destShape,\r\n          });\r\n        }\r\n        this.make();\r\n      } else {\r\n        this.disconnect();\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  isConnected() {\r\n    return this._origShape && this._destShape;\r\n  }\r\n\r\n  getBounds() {\r\n    return this._points.reduce((bounds, { x, y }) => {\r\n      if (!bounds) {\r\n        return {\r\n          top: y,\r\n          right: x,\r\n          bottom: y,\r\n          left: x,\r\n        };\r\n      }\r\n\r\n      bounds.top = Math.min(y, bounds.top);\r\n      bounds.right = Math.max(x, bounds.right);\r\n      bounds.bottom = Math.max(y, bounds.bottom);\r\n      bounds.left = Math.min(x, bounds.left);\r\n\r\n      return bounds;\r\n    }, null) || {};\r\n  }\r\n\r\n  getSegments() {\r\n    const segments = [];\r\n\r\n    for (let i = 1; i < this._points.length; i += 1) {\r\n      segments.push([\r\n        {\r\n          x: this._points[i - 1].x,\r\n          y: this._points[i - 1].y,\r\n        },\r\n        {\r\n          x: this._points[i].x,\r\n          y: this._points[i].y,\r\n        },\r\n      ]);\r\n    }\r\n\r\n    return segments;\r\n  }\r\n\r\n  disconnect() {\r\n    return this.remove();\r\n  }\r\n\r\n  isConnectedWith(shape) {\r\n    return this._origShape === shape || this._destShape === shape;\r\n  }\r\n\r\n  _getVertexData(start, middle, end) {\r\n    if (!(start && middle && end)) {\r\n      return null;\r\n    }\r\n\r\n    // TODO: Make support for diagonal segments\r\n    const beforeDirection = Connection._getSegmentDirection(start, middle);\r\n    const beforeOrientation = Connection._getSegmentOrientation(start, middle);\r\n    const beforeLength = _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPathLength(start, middle);\r\n    const afterDirection = Connection._getSegmentDirection(middle, end);\r\n    const afterOrientation = Connection._getSegmentOrientation(middle, end);\r\n    const afterLength = _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getPathLength(middle, end) / 2;\r\n    const size = Math.min(this._vertexSize, beforeLength, afterLength);\r\n    const beforeDisplacement = _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].movePoint(middle, size * beforeDirection * -1, beforeOrientation);\r\n    const afterDisplacement = _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].movePoint(middle, size * afterDirection, afterOrientation);\r\n    const vertexStart = {\r\n      x: beforeOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].X ? beforeDisplacement.x : middle.x,\r\n      y: beforeOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].Y ? beforeDisplacement.y : middle.y,\r\n    };\r\n    const vertexEnd = {\r\n      x: afterOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].X ? afterDisplacement.x : middle.x,\r\n      y: afterOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].Y ? afterDisplacement.y : middle.y,\r\n    };\r\n\r\n    return {\r\n      data: this._vertexStrategy(vertexStart, middle, vertexEnd),\r\n      start: vertexStart,\r\n      middle,\r\n      end: vertexEnd,\r\n    };\r\n  }\r\n\r\n  _getSegmentData(start, end, intersections) {\r\n    const segmentOrientation = Connection._getSegmentOrientation(start, end);\r\n    const segmentDirection = Connection._getSegmentDirection(start, end);\r\n    const to = end;\r\n    let from = start;\r\n    let lastIntersection;\r\n\r\n    // TODO: Maybe this should be ordered at the moment of setting (or before)\r\n    if (segmentOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].X) {\r\n      intersections.sort(({ point: a }, { point: b }) => (a.x < b.x ? -1 : 1) * segmentDirection);\r\n    } else {\r\n      intersections.sort(({ point: a }, { point: b }) => (a.y < b.y ? -1 : 1) * segmentDirection);\r\n    }\r\n\r\n    return intersections.map(({ point }) => {\r\n      let intersection;\r\n      const data = [];\r\n\r\n      if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isInLine(point, from, to)) {\r\n        intersection = this._intersectionStrategy(point, { from, to }, lastIntersection);\r\n      }\r\n\r\n      if (intersection) {\r\n        if (!intersection.replace && lastIntersection) {\r\n          data.push(lastIntersection.data);\r\n        }\r\n\r\n        data.push(this._lineStrategy(from, intersection.start));\r\n        from = intersection.end;\r\n      }\r\n\r\n      lastIntersection = intersection;\r\n      return data.join(' ');\r\n    })\r\n      .concat((lastIntersection && lastIntersection.data) || '')\r\n      .concat(this._lineStrategy(from, to)).join(' ');\r\n  }\r\n\r\n  _draw(origPortDescriptor, destPortDescriptor) {\r\n    let points = [];\r\n\r\n    if (origPortDescriptor) {\r\n      points = this._waypointStrategy(origPortDescriptor, destPortDescriptor);\r\n    }\r\n    this._points = points;\r\n\r\n    // TODO: this validation should be removed since it was added just for test a thing.\r\n    if (this._origShape && this._destShape) {\r\n      if (!(this._origShape.isBeingDragged() || this._destShape.isBeingDragged()\r\n        || this._origShape.isBeingResized() || this._destShape.isBeingResized())) {\r\n        this._updateIntersectionPoints();\r\n      }\r\n    }\r\n\r\n    let vertex;\r\n\r\n    const pathString = points.map((point, index, array) => {\r\n      if (index === 0) {\r\n        return `M${point.x} ${point.y}`;\r\n      }\r\n\r\n      const nextPoint = array[index + 1];\r\n      const data = [];\r\n      const start = (vertex && vertex.end) || array[index - 1];\r\n      const intersections = (this._intersections.get(index - 1) || []).slice(0);\r\n\r\n      if (nextPoint) {\r\n        vertex = this._getVertexData(start, point, nextPoint);\r\n\r\n        if (vertex) {\r\n          data.push(this._getSegmentData(start, vertex.start, intersections));\r\n          data.push(vertex.data);\r\n        } else {\r\n          data.push(this._getSegmentData(start, point, intersections));\r\n        }\r\n        return data.join(' ');\r\n      }\r\n\r\n      return this._getSegmentData(start, point, intersections);\r\n    }).join(' ');\r\n\r\n    if (pathString) {\r\n      const pointsLength = points.length;\r\n\r\n      const lastSegmentOrientation = Connection._getSegmentOrientation(points[pointsLength - 2],\r\n        points[pointsLength - 1]);\r\n      const lastSegmentDirection = Connection._getSegmentDirection(points[pointsLength - 2],\r\n        points[pointsLength - 1]);\r\n      const arrowAngle = (lastSegmentOrientation === _Port__WEBPACK_IMPORTED_MODULE_12__[\"ORIENTATION\"].X\r\n        ? 2 + lastSegmentDirection\r\n        : 1 + (lastSegmentDirection * -1));\r\n\r\n      this._dom.arrow\r\n        .setAttribute('transform', `translate(${points[points.length - 1].x}, ${points[points.length - 1].y})`);\r\n      this._dom.arrowRotateContainer.setAttribute('transform', `scale(0.5, 0.5) rotate(${90 * arrowAngle})`);\r\n    }\r\n\r\n    this._dom.mainElement.style.display = pathString ? '' : 'none';\r\n    this._dom.path.setAttribute('d', pathString);\r\n\r\n    return this;\r\n  }\r\n\r\n  _setPorts(origPort, destPort) {\r\n    const { _origPort: oldOrigPort, _destPort: oldDestPort } = this;\r\n    const atLeastOneNewPort = origPort !== oldOrigPort || destPort !== oldDestPort;\r\n    let changed = false;\r\n\r\n    if (atLeastOneNewPort) {\r\n      this._origPort = origPort;\r\n      this._destPort = destPort;\r\n      changed = true;\r\n    }\r\n\r\n    if (!changed && origPort && destPort) {\r\n      const origDesc = origPort.getDescription();\r\n      const destDesc = destPort.getDescription();\r\n      const oldOrigDesc = oldOrigPort.getDescription();\r\n      const oldDestDesc = oldDestPort.getDescription();\r\n\r\n      if (!_utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].areSamePoint(origDesc.point, oldOrigDesc.point)\r\n        || _utils_Geometry__WEBPACK_IMPORTED_MODULE_3__[\"default\"].areSamePoint(destDesc.point, oldDestDesc.point)) {\r\n        changed = true;\r\n      }\r\n    }\r\n\r\n    if (changed) {\r\n      this._canvas.dispatchEvent(EVENT.PORT_CHANGE, this, {\r\n        origPort,\r\n        destPort,\r\n        oldOrigPort,\r\n        oldDestPort,\r\n      });\r\n    }\r\n  }\r\n\r\n  make() {\r\n    if (!this._origShape || !this._destShape || !this._el) return;\r\n\r\n    const origPort = this._origShape.getConnectionPort(this._destShape, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].ORIG);\r\n    const destPort = this._destShape.getConnectionPort(this._origShape, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].DEST);\r\n    const origPortDescriptor = origPort.getDescription();\r\n    const destPortDescriptor = destPort.getDescription();\r\n\r\n    this._origShape.assignConnectionToPort(this, origPortDescriptor.portIndex, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].ORIG);\r\n    this._destShape.assignConnectionToPort(this, destPortDescriptor.portIndex, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].DEST);\r\n    this._setPorts(origPort, destPort);\r\n\r\n    this._draw(origPortDescriptor, destPortDescriptor);\r\n  }\r\n\r\n  // TODO: This method is called at least twice, it should be called only once.\r\n  remove() {\r\n    const origShape = this._origShape;\r\n    const destShape = this._destShape;\r\n\r\n    if (this._canvas) {\r\n      if (origShape && origShape.getOutgoingConnections().has(this)) {\r\n        this._removeDragListeners(origShape);\r\n        origShape.removeConnection(this, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].ORIG);\r\n      }\r\n\r\n      if (destShape && destShape.getIncomingConnections().has(this)) {\r\n        this._removeDragListeners(destShape);\r\n        destShape.removeConnection(this, _Port__WEBPACK_IMPORTED_MODULE_12__[\"MODE\"].DEST);\r\n      }\r\n\r\n      this._origShape = null;\r\n      this._destShape = null;\r\n\r\n      if (origShape && destShape && this._canvas) {\r\n        this._setPorts(null, null);\r\n        this._removeInterceptors();\r\n        this._canvas.dispatchEvent(EVENT.DISCONNECT, this, {\r\n          origShape,\r\n          destShape,\r\n        });\r\n        super.remove();\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      ...super.toJSON(),\r\n      orig: this._origShape.getID(),\r\n      dest: this._destShape.getID(),\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (this._el) {\r\n      return this;\r\n    }\r\n\r\n    super._createElement();\r\n\r\n    const mainElement = this._getMainElement();\r\n    const arrowWrapper = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const arrowWrapper2 = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const arrow = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('path');\r\n    const path = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('path');\r\n\r\n    arrowWrapper2.setAttribute('transform', 'scale(0.5,0.5) rotate(-180)');\r\n    arrow.setAttribute('end', 'target');\r\n    arrow.setAttribute('d', 'M 0 0 L -13 -26 L 13 -26 z');\r\n    arrow.classList.add('arrow');\r\n    path.classList.add('path');\r\n\r\n    arrowWrapper2.appendChild(arrow);\r\n    arrowWrapper.appendChild(arrowWrapper2);\r\n    mainElement.appendChild(arrowWrapper);\r\n    mainElement.appendChild(path);\r\n\r\n    this._el.classList.add('connection');\r\n    this._dom.path = path;\r\n    this._dom.arrow = arrowWrapper;\r\n    this._dom.arrowRotateContainer = arrowWrapper2;\r\n    this._selectBehavior.attach();\r\n    this._dragBehavior.attach();\r\n\r\n    this.make();\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Connection);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9Db25uZWN0aW9uLmpzP2EwNzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBOEM7QUFDUztBQUN1QjtBQUNyQztBQUNhO0FBQ2E7QUFDc0M7QUFDWjtBQUNNO0FBQ2tCO0FBRzdEO0FBQ1g7QUFLN0I7QUFDaUM7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFlBQVksb0VBQWlCO0FBQzdCLFFBQVEsZ0VBQWE7QUFDckIsVUFBVSxrRUFBZTtBQUN6QjtBQUNBLGdCQUFnQix3RUFBcUI7QUFDckMsZ0JBQWdCLHNGQUFrQjtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHlCQUF5QiwrREFBYztBQUN2QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isa0RBQWdCO0FBQ3BDLEtBQUs7QUFDTCx1Q0FBdUMsa0RBQWdCO0FBQ3ZEOztBQUVBO0FBQ0EsTUFBTSw0REFBWTtBQUNsQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFGQUFrQztBQUMzRCw2QkFBNkIsbUVBQTBCO0FBQ3ZELHlCQUF5QiwrREFBc0I7QUFDL0MsMkJBQTJCLGlFQUF3QjtBQUNuRDtBQUNBLGlDQUFpQyx1RUFBOEI7QUFDL0Q7O0FBRUE7QUFDQSxlQUFlLDJEQUFTO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLFdBQVc7QUFDeEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0MsUUFBUTs7QUFFMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLCtCQUErQix1RUFBOEI7O0FBRTdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkJBQTZCLGtEQUFXO0FBQ3hDLDZCQUE2QixrREFBVztBQUN4Qyw2QkFBNkIsOERBQVk7QUFDekMsNkJBQTZCLDhEQUFZOztBQUV6QztBQUNBOztBQUVBO0FBQ0EsV0FBVyxVQUFVOztBQUVyQjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0RBQVc7QUFDN0M7QUFDQSxrQ0FBa0Msa0RBQVc7QUFDN0M7QUFDQSxrQ0FBa0MsOERBQVk7QUFDOUMsa0NBQWtDLDhEQUFZO0FBQzlDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVDQUF1QywyQ0FBUztBQUNoRCx1Q0FBdUMsMkNBQVM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscURBQXFEO0FBQ2xFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEMsMkNBQUk7QUFDbEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOENBQThDLDJDQUFJO0FBQ2xEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxPQUFPO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIseUJBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdURBQVE7QUFDakM7QUFDQTtBQUNBLHdCQUF3Qix1REFBUTtBQUNoQztBQUNBLCtCQUErQix1REFBUTtBQUN2Qyw4QkFBOEIsdURBQVE7QUFDdEM7QUFDQSwrQkFBK0Isa0RBQVc7QUFDMUMsK0JBQStCLGtEQUFXO0FBQzFDO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVc7QUFDekMsOEJBQThCLGtEQUFXO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixrREFBZ0I7QUFDL0MsMkJBQTJCLFdBQVcsR0FBRyxXQUFXO0FBQ3BELEtBQUs7QUFDTCwyQkFBMkIsV0FBVyxHQUFHLFdBQVc7QUFDcEQ7O0FBRUEsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTs7QUFFQSxVQUFVLHVEQUFRO0FBQ2xCLDBEQUEwRCxXQUFXO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUSxHQUFHLFFBQVE7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsa0RBQWdCO0FBQ3JFO0FBQ0E7O0FBRUE7QUFDQSxnREFBZ0QsNEJBQTRCLElBQUksNEJBQTRCO0FBQzVHLHlGQUF5RixnQkFBZ0I7QUFDekc7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxpREFBaUQ7QUFDNUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsV0FBVyx1REFBUTtBQUNuQixXQUFXLHVEQUFRO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdFQUF3RSwyQ0FBUztBQUNqRix3RUFBd0UsMkNBQVM7QUFDakY7QUFDQTs7QUFFQSwrRUFBK0UsMkNBQVM7QUFDeEYsK0VBQStFLDJDQUFTO0FBQ3hGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDJDQUFJO0FBQzdDOztBQUVBO0FBQ0E7QUFDQSx5Q0FBeUMsMkNBQUk7QUFDN0M7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx5QkFBeUIseURBQVc7QUFDcEMsMEJBQTBCLHlEQUFXO0FBQ3JDLGtCQUFrQix5REFBVztBQUM3QixpQkFBaUIseURBQVc7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSx5RUFBVSxFQUFDO0FBQ1QiLCJmaWxlIjoiLi9zcmMvanMvY29ubmVjdGlvbi9Db25uZWN0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uL2NvcmUvQmFzZUVsZW1lbnQnO1xyXG5pbXBvcnQgRGlhZ3JhbUVsZW1lbnQgZnJvbSAnLi4vZGlhZ3JhbS9EaWFncmFtRWxlbWVudCc7XHJcbmltcG9ydCBDb25uZWN0aW9uSW50ZXJzZWN0aW9uUmVzb2x2ZXIgZnJvbSAnLi9Db25uZWN0aW9uSW50ZXJzZWN0aW9uUmVzb2x2ZXInO1xyXG5pbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vdXRpbHMvR2VvbWV0cnknO1xyXG5pbXBvcnQgeyBFVkVOVCBhcyBTSEFQRV9FVkVOVCB9IGZyb20gJy4uL3NoYXBlL1NoYXBlJztcclxuaW1wb3J0IHsgRVZFTlQgYXMgUkVTSVpFX0VWRU5UIH0gZnJvbSAnLi4vYmVoYXZpb3IvUmVzaXplQmVoYXZpb3InO1xyXG5pbXBvcnQgV2F5cG9pbnRTdHJhdGVneVJlcG9zaXRvcnksIHsgUFJPRFVDVFMgYXMgV0FZUE9JTlRfU1RSQVRFR1kgfSBmcm9tICcuL1dheXBvaW50U3RyYXRlZ3lSZXBvc2l0b3J5JztcclxuaW1wb3J0IExpbmVTdHJhdGVneVJlcG9zaXRvcnksIHsgUFJPRFVDVFMgYXMgTElORV9TVFJBVEVHWSB9IGZyb20gJy4vTGluZVN0cmF0ZWd5UmVwb3NpdG9yeSc7XHJcbmltcG9ydCBWZXJ0ZXhTdHJhdGVneVJlcG9zaXRvcnksIHsgUFJPRFVDVFMgYXMgVkVSVEVYX1NUUkFURUdZIH0gZnJvbSAnLi9WZXJ0ZXhTdHJhdGVneVJlcG9zaXRvcnknO1xyXG5pbXBvcnQgSW50ZXJzZWN0aW9uU3RyYXRlZ3lSZXBvc2l0b3J5LCB7IFBST0RVQ1RTIGFzIElOVEVSU0VDVElPTl9TVFJBVEVHWSB9IGZyb20gJy4vSW50ZXJzZWN0aW9uU3RyYXRlZ3lSZXBvc2l0b3J5JztcclxuaW1wb3J0IERyYWdnYWJsZUNvbm5lY3Rpb25CZWhhdmlvckZhY3RvcnksIHtcclxuICBQUk9EVUNUUyBhcyBEUkFHR0FCTEVfUFJPRFVDVFMsXHJcbn0gZnJvbSAnLi4vYmVoYXZpb3IvRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCBEaWFncmFtVUkgZnJvbSAnLi4vZGlhZ3JhbS9EaWFncmFtVUknO1xyXG5pbXBvcnQge1xyXG4gIE9SSUVOVEFUSU9OIGFzIFBPUlRfT1JJRU5UQVRJT04sXHJcbiAgTU9ERSBhcyBQT1JUX01PREUsIE9SSUVOVEFUSU9OLFxyXG4gIE1PREUsXHJcbn0gZnJvbSAnLi9Qb3J0JztcclxuaW1wb3J0IEVycm9yVGhyb3dlciBmcm9tICcuLi91dGlscy9FcnJvclRocm93ZXInO1xyXG5cclxuY29uc3QgRVZFTlQgPSBPYmplY3QuZnJlZXplKHtcclxuICBDT05ORUNUOiAnY29ubmVjdCcsXHJcbiAgUE9SVF9DSEFOR0U6ICdwb3J0Y2hhbmdlJyxcclxuICBESVNDT05ORUNUOiAnZGlzY29ubmVjdCcsXHJcbn0pO1xyXG5cclxuY29uc3QgREVGQVVMVFMgPSB7XHJcbiAgd2F5cG9pbnQ6IFdBWVBPSU5UX1NUUkFURUdZLlJFQ1QsXHJcbiAgbGluZTogTElORV9TVFJBVEVHWS5TVFJBSUdIVCxcclxuICB2ZXJ0ZXg6IFZFUlRFWF9TVFJBVEVHWS5BUkMsXHJcbiAgdmVydGV4U2l6ZTogMTAsXHJcbiAgaW50ZXJzZWN0aW9uOiBJTlRFUlNFQ1RJT05fU1RSQVRFR1kuQVJDLFxyXG4gIGRyYWdCZWhhdmlvcjogRFJBR0dBQkxFX1BST0RVQ1RTLkRFRkFVTFQsXHJcbn07XHJcblxyXG5jb25zdCBJTlRFUlNFQ1RJT05fU0laRSA9IE9iamVjdC5mcmVlemUoe1xyXG4gIFdJRFRIOiAxMCxcclxuICBIRUlHSFQ6IDgsXHJcbn0pO1xyXG5cclxuY2xhc3MgQ29ubmVjdGlvbiBleHRlbmRzIERpYWdyYW1FbGVtZW50IHtcclxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ2Nvbm5lY3Rpb24nO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBBUlJPV19TRUdNRU5UX0xFTkdUSCgpIHtcclxuICAgIHJldHVybiAyMDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgSU5URVJTRUNUSU9OX1NJWkUoKSB7XHJcbiAgICByZXR1cm4gSU5URVJTRUNUSU9OX1NJWkU7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gR2VvbWV0cnkgYXMgZ2V0TGluZVNsb3BlLlxyXG4gIHN0YXRpYyBfZ2V0U2VnbWVudE9yaWVudGF0aW9uKGZyb20sIHRvKSB7XHJcbiAgICBsZXQgb3JpZW50YXRpb247XHJcblxyXG4gICAgaWYgKGZyb20ueCA9PT0gdG8ueCkge1xyXG4gICAgICBvcmllbnRhdGlvbiA9IFBPUlRfT1JJRU5UQVRJT04uWTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9yaWVudGF0aW9uID0gKGZyb20ueSA9PT0gdG8ueSA/IFBPUlRfT1JJRU5UQVRJT04uWCA6IC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3JpZW50YXRpb24gPT09IC0xKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5jdXN0b20oJ0RpYWdvbmFsIHNlZ21lbnQ/Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG9yaWVudGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9nZXRTZWdtZW50RGlyZWN0aW9uKGZyb20sIHRvKSB7XHJcbiAgICBpZiAoZnJvbS54IDwgdG8ueCB8fCBmcm9tLnkgPCB0by55KSB7XHJcbiAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmcm9tLnggPiB0by54IHx8IGZyb20ueSA+IHRvLnkgPyAtMSA6IDA7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc3VwZXIoc2V0dGluZ3MpO1xyXG5cclxuICAgIHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUUyxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3BvaW50cyA9IFtdO1xyXG4gICAgdGhpcy5fb3JpZ1NoYXBlID0gbnVsbDtcclxuICAgIHRoaXMuX2Rlc3RTaGFwZSA9IG51bGw7XHJcbiAgICB0aGlzLl9vcmlnUG9ydCA9IG51bGw7XHJcbiAgICB0aGlzLl9kZXN0UG9ydCA9IG51bGw7XHJcbiAgICB0aGlzLl9pbnRlcmNlcHRvcnMgPSBuZXcgU2V0KCk7XHJcbiAgICB0aGlzLl9pbnRlcnNlY3Rpb25zID0gbmV3IE1hcCgpO1xyXG4gICAgLy8gVE9ETzogU2libGluZyBjbGFzcyBoYXMgYWxzbyBhIF9kcmFnQmVoYXZpb3IgcHJvcGVydHksIHRoZXkgY291bGQgYmUgbGlmdCB1cCB0byBwYXJlbnQgY2xhc3MuXHJcbiAgICB0aGlzLl9kcmFnQmVoYXZpb3IgPSBEcmFnZ2FibGVDb25uZWN0aW9uQmVoYXZpb3JGYWN0b3J5LmNyZWF0ZShzZXR0aW5ncy5kcmFnQmVoYXZpb3IsIHRoaXMpO1xyXG4gICAgdGhpcy5fd2F5cG9pbnRTdHJhdGVneSA9IFdheXBvaW50U3RyYXRlZ3lSZXBvc2l0b3J5LmdldChzZXR0aW5ncy53YXlwb2ludCk7XHJcbiAgICB0aGlzLl9saW5lU3RyYXRlZ3kgPSBMaW5lU3RyYXRlZ3lSZXBvc2l0b3J5LmdldChzZXR0aW5ncy5saW5lKTtcclxuICAgIHRoaXMuX3ZlcnRleFN0cmF0ZWd5ID0gVmVydGV4U3RyYXRlZ3lSZXBvc2l0b3J5LmdldChzZXR0aW5ncy52ZXJ0ZXgpO1xyXG4gICAgdGhpcy5fdmVydGV4U2l6ZSA9IHNldHRpbmdzLnZlcnRleFNpemU7XHJcbiAgICB0aGlzLl9pbnRlcnNlY3Rpb25TdHJhdGVneSA9IEludGVyc2VjdGlvblN0cmF0ZWd5UmVwb3NpdG9yeS5nZXQoc2V0dGluZ3MuaW50ZXJzZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIF9nZXRDb21wb25lbnRVSSgpIHtcclxuICAgIHJldHVybiBuZXcgRGlhZ3JhbVVJKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgYWRkSW50ZXJjZXB0b3IoY29ubmVjdGlvbikge1xyXG4gICAgdGhpcy5faW50ZXJjZXB0b3JzLmFkZChjb25uZWN0aW9uKTtcclxuICB9XHJcblxyXG4gIF9zZXRDYW52YXMoLi4ucGFyYW1zKSB7XHJcbiAgICAvLyBUT0RPOiB3aGF0IGlzIHRoaXMgZXZhbHVhdGlvbiBmb3I/XHJcbiAgICBpZiAodGhpcy5faW50ZXJzZWN0aW9ucykge1xyXG4gICAgICByZXR1cm4gc3VwZXIuX3NldENhbnZhcyguLi5wYXJhbXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgbmV3IGludGVyc2VjdGlvbiBwb2ludC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gc2VnbWVudEluZGV4IFRoZSBpbmRleCBvZiB0aGUgc2VnbWVudCB0aGUgaW50ZXJzZWN0aW9uIHdpbGwgYmUgZHJhdyBvdmVyLlxyXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0aGF0IHRoZSBpbnRlcnNlY3Rpb24gY3Jvc3Nlcy5cclxuICAgKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgaW50ZXJzZWN0aW9uIHBvaW50LlxyXG4gICAqL1xyXG4gIGFkZEludGVyc2VjdGlvbihzZWdtZW50SW5kZXgsIGNvbm5lY3Rpb24sIHBvaW50KSB7XHJcbiAgICBsZXQgc2VnbWVudEludGVyc2VjdGlvbnMgPSB0aGlzLl9pbnRlcnNlY3Rpb25zLmdldChzZWdtZW50SW5kZXgpO1xyXG5cclxuICAgIGlmICghc2VnbWVudEludGVyc2VjdGlvbnMpIHtcclxuICAgICAgc2VnbWVudEludGVyc2VjdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgIHRoaXMuX2ludGVyc2VjdGlvbnMuc2V0KHNlZ21lbnRJbmRleCwgc2VnbWVudEludGVyc2VjdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlZ21lbnRJbnRlcnNlY3Rpb25zLnB1c2goe1xyXG4gICAgICBjb25uZWN0aW9uLFxyXG4gICAgICBwb2ludCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIGludGVyc2VjdGlvbiBwb2ludCBhbHJlYWR5IGV4aXN0cyBpbiBhbnkgb2YgdGhlIHNlZ21lbnRzIG9mIGEgQ29ubmVjdGlvbi5cclxuICAgKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgcG9pbnQgdG8gZmluZFxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGhhc0ludGVyc2VjdGlvblBvaW50KHgsIHkpIHtcclxuICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5faW50ZXJzZWN0aW9ucy5lbnRyaWVzKCk7XHJcbiAgICBsZXQgY3VycmVudCA9IGl0ZXJhdG9yLm5leHQoKTtcclxuXHJcbiAgICB3aGlsZSAoIWN1cnJlbnQuZG9uZSkge1xyXG4gICAgICBjb25zdCBbLCBwb2ludHNdID0gY3VycmVudC52YWx1ZTtcclxuICAgICAgY29uc3QgZm91bmQgPSBwb2ludHMuZmluZCgoeyBwb2ludCB9KSA9PiB4ID09PSBwb2ludC54ICYmIHkgPT09IHBvaW50LnkpO1xyXG5cclxuICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN1cnJlbnQgPSBpdGVyYXRvci5uZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZUludGVyc2VjdGlvblBvaW50cygpIHtcclxuICAgIGNvbnN0IGludGVyc2VjdGlvbnNBcnJheSA9IENvbm5lY3Rpb25JbnRlcnNlY3Rpb25SZXNvbHZlci5nZXRJbnRlcnNlY3Rpb25Qb2ludHModGhpcyk7XHJcblxyXG4gICAgdGhpcy5fcmVtb3ZlSW50ZXJzZWN0aW9ucygpO1xyXG5cclxuICAgIGludGVyc2VjdGlvbnNBcnJheS5mb3JFYWNoKChpbnRlcnNlY3Rpb25zLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoaW50ZXJzZWN0aW9ucykge1xyXG4gICAgICAgIGludGVyc2VjdGlvbnMuZm9yRWFjaCgoaW50ZXJzZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgICBpbnRlcnNlY3Rpb24uY29ubmVjdGlvbi5hZGRJbnRlcmNlcHRvcih0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9ucy5zZXQoaW5kZXgsIGludGVyc2VjdGlvbnMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVJbnRlcmNlcHRvcnMoKSB7XHJcbiAgICB0aGlzLl9pbnRlcmNlcHRvcnMuZm9yRWFjaCgoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5fcmVtb3ZlSW50ZXJzZWN0aW9ucyh0aGlzKSk7XHJcbiAgICB0aGlzLl9pbnRlcmNlcHRvcnMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIF9yZW1vdmVJbnRlcnNlY3Rpb25zKGNvbm5lY3Rpb24gPSBudWxsKSB7XHJcbiAgICAvLyBUT0RPOiBpbnRlcnNlY3Rpb25zIGFuZCBpbnRlcmNlcHRvcnMgYWRkaW5nIHJlbW92YWwgc2hvdWxkIGJlIGhhbmRsZWQgd2l0aCBldmVudHMgKERTLTEzMilcclxuICAgIGlmIChjb25uZWN0aW9uICYmIHRoaXMuX29yaWdQb3J0ICYmIHRoaXMuX2Rlc3RQb3J0KSB7XHJcbiAgICAgIHRoaXMuX2ludGVyc2VjdGlvbnMuZm9yRWFjaCgoaW50ZXJzZWN0aW9ucywga2V5KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9ucy5zZXQoa2V5LFxyXG4gICAgICAgICAgaW50ZXJzZWN0aW9ucy5maWx0ZXIoKGludGVyc2VjdGlvbikgPT4gaW50ZXJzZWN0aW9uLmNvbm5lY3Rpb24gIT09IGNvbm5lY3Rpb24pKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICB0aGlzLl9kcmF3KHRoaXMuX29yaWdQb3J0LmdldERlc2NyaXB0aW9uKCksIHRoaXMuX2Rlc3RQb3J0LmdldERlc2NyaXB0aW9uKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faW50ZXJzZWN0aW9ucy5jbGVhcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX29uU2hhcGVEcmFnU3RhcnQoKSB7XHJcbiAgICAvLyBUT0RPOiBUaGUgb3BhY2l0eSBpcyBiZWluZyBzZXQgYnkgYSBjc3MgY2xhc3MgaW4gRHJhZ2dhYmxlQ29ubmVjdGlvbkJlaGF2aW9yLFxyXG4gICAgLy8gbW92ZSB0aGlzIHRoYXQgcGxhY2UuXHJcbiAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCAwLjMpO1xyXG5cclxuICAgIHRoaXMuX3JlbW92ZUludGVyY2VwdG9ycygpO1xyXG4gICAgdGhpcy5fcmVtb3ZlSW50ZXJzZWN0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgX29uU2hhcGVEcmFnKCkge1xyXG4gICAgdGhpcy5tYWtlKCk7XHJcbiAgfVxyXG5cclxuICBfb25TaGFwZURyYWdFbmQoKSB7XHJcbiAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ29wYWNpdHknLCAxKTtcclxuICAgIHRoaXMubWFrZSgpO1xyXG4gIH1cclxuXHJcbiAgX29uU2hhcGVQb3NpdGlvbkNoYW5nZSgpIHtcclxuICAgIHRoaXMubWFrZSgpO1xyXG4gIH1cclxuXHJcbiAgX2FkZERyYWdMaXN0ZW5lcnMoc2hhcGUpIHtcclxuICAgIHRoaXMuX2NhbnZhcy5hZGRMaXN0ZW5lcihTSEFQRV9FVkVOVC5EUkFHX1NUQVJULCBzaGFwZSwgdGhpcy5fb25TaGFwZURyYWdTdGFydCwgdGhpcyk7XHJcbiAgICB0aGlzLl9jYW52YXMuYWRkTGlzdGVuZXIoU0hBUEVfRVZFTlQuRFJBR19FTkQsIHNoYXBlLCB0aGlzLl9vblNoYXBlRHJhZ0VuZCwgdGhpcyk7XHJcbiAgICB0aGlzLl9jYW52YXMuYWRkTGlzdGVuZXIoUkVTSVpFX0VWRU5ULlNUQVJULCBzaGFwZSwgdGhpcy5fb25TaGFwZURyYWdTdGFydCwgdGhpcyk7XHJcbiAgICB0aGlzLl9jYW52YXMuYWRkTGlzdGVuZXIoUkVTSVpFX0VWRU5ULkVORCwgc2hhcGUsIHRoaXMuX29uU2hhcGVEcmFnRW5kLCB0aGlzKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIF9yZW1vdmVEcmFnTGlzdGVuZXJzKHNoYXBlKSB7XHJcbiAgICBjb25zdCB7IF9jYW52YXMgfSA9IHRoaXM7XHJcblxyXG4gICAgaWYgKF9jYW52YXMpIHtcclxuICAgICAgLy8gVE9ETzogaGVyZSB3ZSBoYXZlIHRoYXQgc29tZSBldmVudCBhcmUgZGVmaW5lZCBpbiBTaGFwZSBhbmQgb3RoZXIgaW4gcmVzaXplIGJlaGF2aW9yLCBtYXliZSBEcmFnIGV2ZW50cyBzaG91bGRcclxuICAgICAgLy8gYmUgZGVmaW5lZCBpbiBkcmFnIGJlaGF2aW9yLCB0aGUgc2FtZSB3YXkgdGhlIHJlc2l6ZSBiZWhhdmlvcnMgYXJlIGluIHRoZSBSZXNpemVCZWhhdmlvclxyXG4gICAgICB0aGlzLl9jYW52YXMucmVtb3ZlTGlzdGVuZXIoU0hBUEVfRVZFTlQuRFJBR19TVEFSVCwgc2hhcGUsIHRoaXMuX29uU2hhcGVEcmFnU3RhcnQsXHJcbiAgICAgICAgdGhpcyk7XHJcbiAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVMaXN0ZW5lcihTSEFQRV9FVkVOVC5EUkFHX0VORCwgc2hhcGUsIHRoaXMuX29uU2hhcGVEcmFnRW5kLFxyXG4gICAgICAgIHRoaXMpO1xyXG4gICAgICB0aGlzLl9jYW52YXMucmVtb3ZlTGlzdGVuZXIoUkVTSVpFX0VWRU5ULlNUQVJULCBzaGFwZSwgdGhpcy5fb25TaGFwZURyYWdTdGFydCwgdGhpcyk7XHJcbiAgICAgIHRoaXMuX2NhbnZhcy5yZW1vdmVMaXN0ZW5lcihSRVNJWkVfRVZFTlQuRU5ELCBzaGFwZSwgdGhpcy5fb25TaGFwZURyYWdFbmQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3JpZ1NoYXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX29yaWdTaGFwZTtcclxuICB9XHJcblxyXG4gIGdldERlc3RTaGFwZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9kZXN0U2hhcGU7XHJcbiAgfVxyXG5cclxuICBnZXRPcmlnUG9ydCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9vcmlnUG9ydDtcclxuICB9XHJcblxyXG4gIGdldERlc3RQb3J0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Rlc3RQb3J0O1xyXG4gIH1cclxuXHJcbiAgc3RhcnQoc2hhcGUsIGRpcmVjdGlvbikge1xyXG4gICAgdGhpcy5fZHJhZ0JlaGF2aW9yLnN0YXJ0KHNoYXBlLCBkaXJlY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgZW5kKCkge1xyXG4gICAgdGhpcy5fZHJhZ0JlaGF2aW9yLmVuZCgpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogZm9yIHJvYmJ1c3RuZXNzIHdlIG5lZWQgdG8gdmVyaWZ5IHRoYXQgY29ubmVjdGlvbiwgb3JpZ1NoYXBlIGFuZCBkZXN0U2hhcGVcclxuICAvLyBhcmUgaW4gdGhlIHNhbWUgY2FudmFzIElNUE9SVEFOVCFcclxuICBjb25uZWN0KG9yaWdTaGFwZSwgZGVzdFNoYXBlKSB7XHJcbiAgICBjb25zdCBvcmlnQ2FudmFzID0gb3JpZ1NoYXBlLmdldENhbnZhcygpO1xyXG4gICAgY29uc3QgZGVzdENhbnZhcyA9IGRlc3RTaGFwZS5nZXRDYW52YXMoKTtcclxuXHJcbiAgICBpZiAob3JpZ0NhbnZhcyA9PT0gZGVzdENhbnZhc1xyXG4gICAgICAmJiBvcmlnU2hhcGUuY2FuQWNjZXB0Q29ubmVjdGlvbihQT1JUX01PREUuT1JJRywgZGVzdFNoYXBlKVxyXG4gICAgICAmJiBkZXN0U2hhcGUuY2FuQWNjZXB0Q29ubmVjdGlvbihQT1JUX01PREUuREVTVCwgb3JpZ1NoYXBlKVxyXG4gICAgICAvLyBUT0RPOiBGaXggYWNjZXNzIHRvIHByb3RlY3RlZCBtZW1iZXJzLlxyXG4gICAgICAvLyBUT0RPOiBUaGlzIGlzIGhvdCBmaXgsIHRoaXMgc2hvdWxkIGJlIGhhbmRsZWQgYnkgcHJveGllZCBmdW5jdGlvbnNcclxuICAgICAgLy8gYSB0aWNrZXQgZm9yIHRoYXQgd2FzIGNyZWF0ZWQgIzczXHJcbiAgICAgICYmICFvcmlnU2hhcGUuX2Nvbm5lY3Rpdml0eUJlaGF2aW9yLl9kaXNhYmxlZFxyXG4gICAgICAmJiAhZGVzdFNoYXBlLl9jb25uZWN0aXZpdHlCZWhhdmlvci5fZGlzYWJsZWQpIHtcclxuICAgICAgY29uc3QgeyBfb3JpZ1NoYXBlOiBvbGRPcmlnU2hhcGUsIF9kZXN0U2hhcGU6IG9sZERlc3RTaGFwZSB9ID0gdGhpcztcclxuICAgICAgY29uc3QgY2hhbmdlT3JpZ1NoYXBlID0gb3JpZ1NoYXBlICE9PSBvbGRPcmlnU2hhcGU7XHJcbiAgICAgIGNvbnN0IGNoYW5nZURlc3RTaGFwZSA9IGRlc3RTaGFwZSAhPT0gb2xkRGVzdFNoYXBlO1xyXG4gICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgIHRoaXMuX29yaWdTaGFwZSA9IG9yaWdTaGFwZTtcclxuICAgICAgdGhpcy5fZGVzdFNoYXBlID0gZGVzdFNoYXBlO1xyXG5cclxuICAgICAgaWYgKGNoYW5nZU9yaWdTaGFwZSkge1xyXG4gICAgICAgIGlmIChvbGRPcmlnU2hhcGUpIHtcclxuICAgICAgICAgIG9sZE9yaWdTaGFwZS5yZW1vdmVDb25uZWN0aW9uKHRoaXMsIE1PREUuT1JJRyk7XHJcbiAgICAgICAgICB0aGlzLl9yZW1vdmVEcmFnTGlzdGVuZXJzKG9sZE9yaWdTaGFwZSk7XHJcbiAgICAgICAgICB0aGlzLl9wb2ludHMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlc3VsdCA9IG9yaWdTaGFwZS5hZGRPdXRnb2luZ0Nvbm5lY3Rpb24odGhpcyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgdGhpcy5fc2V0Q2FudmFzKG9yaWdDYW52YXMpO1xyXG4gICAgICAgICAgdGhpcy5fYWRkRHJhZ0xpc3RlbmVycyhvcmlnU2hhcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNoYW5nZURlc3RTaGFwZSAmJiByZXN1bHQpIHtcclxuICAgICAgICBpZiAob2xkRGVzdFNoYXBlKSB7XHJcbiAgICAgICAgICBvbGREZXN0U2hhcGUucmVtb3ZlQ29ubmVjdGlvbih0aGlzLCBNT0RFLkRFU1QpO1xyXG4gICAgICAgICAgdGhpcy5fcmVtb3ZlRHJhZ0xpc3RlbmVycyhvbGREZXN0U2hhcGUpO1xyXG4gICAgICAgICAgdGhpcy5fcG9pbnRzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN1bHQgPSBkZXN0U2hhcGUuYWRkSW5jb21pbmdDb25uZWN0aW9uKHRoaXMpO1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIHRoaXMuX3NldENhbnZhcyhkZXN0Q2FudmFzKTtcclxuICAgICAgICAgIHRoaXMuX2FkZERyYWdMaXN0ZW5lcnMoZGVzdFNoYXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICBpZiAoY2hhbmdlT3JpZ1NoYXBlIHx8IGNoYW5nZURlc3RTaGFwZSkge1xyXG4gICAgICAgICAgdGhpcy5fY2FudmFzLmRpc3BhdGNoRXZlbnQoRVZFTlQuQ09OTkVDVCwgdGhpcywge1xyXG4gICAgICAgICAgICBvcmlnU2hhcGUsXHJcbiAgICAgICAgICAgIGRlc3RTaGFwZSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1ha2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpc0Nvbm5lY3RlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9vcmlnU2hhcGUgJiYgdGhpcy5fZGVzdFNoYXBlO1xyXG4gIH1cclxuXHJcbiAgZ2V0Qm91bmRzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvaW50cy5yZWR1Y2UoKGJvdW5kcywgeyB4LCB5IH0pID0+IHtcclxuICAgICAgaWYgKCFib3VuZHMpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgdG9wOiB5LFxyXG4gICAgICAgICAgcmlnaHQ6IHgsXHJcbiAgICAgICAgICBib3R0b206IHksXHJcbiAgICAgICAgICBsZWZ0OiB4LFxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJvdW5kcy50b3AgPSBNYXRoLm1pbih5LCBib3VuZHMudG9wKTtcclxuICAgICAgYm91bmRzLnJpZ2h0ID0gTWF0aC5tYXgoeCwgYm91bmRzLnJpZ2h0KTtcclxuICAgICAgYm91bmRzLmJvdHRvbSA9IE1hdGgubWF4KHksIGJvdW5kcy5ib3R0b20pO1xyXG4gICAgICBib3VuZHMubGVmdCA9IE1hdGgubWluKHgsIGJvdW5kcy5sZWZ0KTtcclxuXHJcbiAgICAgIHJldHVybiBib3VuZHM7XHJcbiAgICB9LCBudWxsKSB8fCB7fTtcclxuICB9XHJcblxyXG4gIGdldFNlZ21lbnRzKCkge1xyXG4gICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuX3BvaW50cy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICBzZWdtZW50cy5wdXNoKFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB4OiB0aGlzLl9wb2ludHNbaSAtIDFdLngsXHJcbiAgICAgICAgICB5OiB0aGlzLl9wb2ludHNbaSAtIDFdLnksXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB4OiB0aGlzLl9wb2ludHNbaV0ueCxcclxuICAgICAgICAgIHk6IHRoaXMuX3BvaW50c1tpXS55LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWdtZW50cztcclxuICB9XHJcblxyXG4gIGRpc2Nvbm5lY3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGlzQ29ubmVjdGVkV2l0aChzaGFwZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX29yaWdTaGFwZSA9PT0gc2hhcGUgfHwgdGhpcy5fZGVzdFNoYXBlID09PSBzaGFwZTtcclxuICB9XHJcblxyXG4gIF9nZXRWZXJ0ZXhEYXRhKHN0YXJ0LCBtaWRkbGUsIGVuZCkge1xyXG4gICAgaWYgKCEoc3RhcnQgJiYgbWlkZGxlICYmIGVuZCkpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogTWFrZSBzdXBwb3J0IGZvciBkaWFnb25hbCBzZWdtZW50c1xyXG4gICAgY29uc3QgYmVmb3JlRGlyZWN0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudERpcmVjdGlvbihzdGFydCwgbWlkZGxlKTtcclxuICAgIGNvbnN0IGJlZm9yZU9yaWVudGF0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudE9yaWVudGF0aW9uKHN0YXJ0LCBtaWRkbGUpO1xyXG4gICAgY29uc3QgYmVmb3JlTGVuZ3RoID0gR2VvbWV0cnkuZ2V0UGF0aExlbmd0aChzdGFydCwgbWlkZGxlKTtcclxuICAgIGNvbnN0IGFmdGVyRGlyZWN0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudERpcmVjdGlvbihtaWRkbGUsIGVuZCk7XHJcbiAgICBjb25zdCBhZnRlck9yaWVudGF0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudE9yaWVudGF0aW9uKG1pZGRsZSwgZW5kKTtcclxuICAgIGNvbnN0IGFmdGVyTGVuZ3RoID0gR2VvbWV0cnkuZ2V0UGF0aExlbmd0aChtaWRkbGUsIGVuZCkgLyAyO1xyXG4gICAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKHRoaXMuX3ZlcnRleFNpemUsIGJlZm9yZUxlbmd0aCwgYWZ0ZXJMZW5ndGgpO1xyXG4gICAgY29uc3QgYmVmb3JlRGlzcGxhY2VtZW50ID0gR2VvbWV0cnkubW92ZVBvaW50KG1pZGRsZSwgc2l6ZSAqIGJlZm9yZURpcmVjdGlvbiAqIC0xLCBiZWZvcmVPcmllbnRhdGlvbik7XHJcbiAgICBjb25zdCBhZnRlckRpc3BsYWNlbWVudCA9IEdlb21ldHJ5Lm1vdmVQb2ludChtaWRkbGUsIHNpemUgKiBhZnRlckRpcmVjdGlvbiwgYWZ0ZXJPcmllbnRhdGlvbik7XHJcbiAgICBjb25zdCB2ZXJ0ZXhTdGFydCA9IHtcclxuICAgICAgeDogYmVmb3JlT3JpZW50YXRpb24gPT09IE9SSUVOVEFUSU9OLlggPyBiZWZvcmVEaXNwbGFjZW1lbnQueCA6IG1pZGRsZS54LFxyXG4gICAgICB5OiBiZWZvcmVPcmllbnRhdGlvbiA9PT0gT1JJRU5UQVRJT04uWSA/IGJlZm9yZURpc3BsYWNlbWVudC55IDogbWlkZGxlLnksXHJcbiAgICB9O1xyXG4gICAgY29uc3QgdmVydGV4RW5kID0ge1xyXG4gICAgICB4OiBhZnRlck9yaWVudGF0aW9uID09PSBPUklFTlRBVElPTi5YID8gYWZ0ZXJEaXNwbGFjZW1lbnQueCA6IG1pZGRsZS54LFxyXG4gICAgICB5OiBhZnRlck9yaWVudGF0aW9uID09PSBPUklFTlRBVElPTi5ZID8gYWZ0ZXJEaXNwbGFjZW1lbnQueSA6IG1pZGRsZS55LFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiB0aGlzLl92ZXJ0ZXhTdHJhdGVneSh2ZXJ0ZXhTdGFydCwgbWlkZGxlLCB2ZXJ0ZXhFbmQpLFxyXG4gICAgICBzdGFydDogdmVydGV4U3RhcnQsXHJcbiAgICAgIG1pZGRsZSxcclxuICAgICAgZW5kOiB2ZXJ0ZXhFbmQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2dldFNlZ21lbnREYXRhKHN0YXJ0LCBlbmQsIGludGVyc2VjdGlvbnMpIHtcclxuICAgIGNvbnN0IHNlZ21lbnRPcmllbnRhdGlvbiA9IENvbm5lY3Rpb24uX2dldFNlZ21lbnRPcmllbnRhdGlvbihzdGFydCwgZW5kKTtcclxuICAgIGNvbnN0IHNlZ21lbnREaXJlY3Rpb24gPSBDb25uZWN0aW9uLl9nZXRTZWdtZW50RGlyZWN0aW9uKHN0YXJ0LCBlbmQpO1xyXG4gICAgY29uc3QgdG8gPSBlbmQ7XHJcbiAgICBsZXQgZnJvbSA9IHN0YXJ0O1xyXG4gICAgbGV0IGxhc3RJbnRlcnNlY3Rpb247XHJcblxyXG4gICAgLy8gVE9ETzogTWF5YmUgdGhpcyBzaG91bGQgYmUgb3JkZXJlZCBhdCB0aGUgbW9tZW50IG9mIHNldHRpbmcgKG9yIGJlZm9yZSlcclxuICAgIGlmIChzZWdtZW50T3JpZW50YXRpb24gPT09IFBPUlRfT1JJRU5UQVRJT04uWCkge1xyXG4gICAgICBpbnRlcnNlY3Rpb25zLnNvcnQoKHsgcG9pbnQ6IGEgfSwgeyBwb2ludDogYiB9KSA9PiAoYS54IDwgYi54ID8gLTEgOiAxKSAqIHNlZ21lbnREaXJlY3Rpb24pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW50ZXJzZWN0aW9ucy5zb3J0KCh7IHBvaW50OiBhIH0sIHsgcG9pbnQ6IGIgfSkgPT4gKGEueSA8IGIueSA/IC0xIDogMSkgKiBzZWdtZW50RGlyZWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW50ZXJzZWN0aW9ucy5tYXAoKHsgcG9pbnQgfSkgPT4ge1xyXG4gICAgICBsZXQgaW50ZXJzZWN0aW9uO1xyXG4gICAgICBjb25zdCBkYXRhID0gW107XHJcblxyXG4gICAgICBpZiAoR2VvbWV0cnkuaXNJbkxpbmUocG9pbnQsIGZyb20sIHRvKSkge1xyXG4gICAgICAgIGludGVyc2VjdGlvbiA9IHRoaXMuX2ludGVyc2VjdGlvblN0cmF0ZWd5KHBvaW50LCB7IGZyb20sIHRvIH0sIGxhc3RJbnRlcnNlY3Rpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XHJcbiAgICAgICAgaWYgKCFpbnRlcnNlY3Rpb24ucmVwbGFjZSAmJiBsYXN0SW50ZXJzZWN0aW9uKSB7XHJcbiAgICAgICAgICBkYXRhLnB1c2gobGFzdEludGVyc2VjdGlvbi5kYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRhdGEucHVzaCh0aGlzLl9saW5lU3RyYXRlZ3koZnJvbSwgaW50ZXJzZWN0aW9uLnN0YXJ0KSk7XHJcbiAgICAgICAgZnJvbSA9IGludGVyc2VjdGlvbi5lbmQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxhc3RJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XHJcbiAgICAgIHJldHVybiBkYXRhLmpvaW4oJyAnKTtcclxuICAgIH0pXHJcbiAgICAgIC5jb25jYXQoKGxhc3RJbnRlcnNlY3Rpb24gJiYgbGFzdEludGVyc2VjdGlvbi5kYXRhKSB8fCAnJylcclxuICAgICAgLmNvbmNhdCh0aGlzLl9saW5lU3RyYXRlZ3koZnJvbSwgdG8pKS5qb2luKCcgJyk7XHJcbiAgfVxyXG5cclxuICBfZHJhdyhvcmlnUG9ydERlc2NyaXB0b3IsIGRlc3RQb3J0RGVzY3JpcHRvcikge1xyXG4gICAgbGV0IHBvaW50cyA9IFtdO1xyXG5cclxuICAgIGlmIChvcmlnUG9ydERlc2NyaXB0b3IpIHtcclxuICAgICAgcG9pbnRzID0gdGhpcy5fd2F5cG9pbnRTdHJhdGVneShvcmlnUG9ydERlc2NyaXB0b3IsIGRlc3RQb3J0RGVzY3JpcHRvcik7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9wb2ludHMgPSBwb2ludHM7XHJcblxyXG4gICAgLy8gVE9ETzogdGhpcyB2YWxpZGF0aW9uIHNob3VsZCBiZSByZW1vdmVkIHNpbmNlIGl0IHdhcyBhZGRlZCBqdXN0IGZvciB0ZXN0IGEgdGhpbmcuXHJcbiAgICBpZiAodGhpcy5fb3JpZ1NoYXBlICYmIHRoaXMuX2Rlc3RTaGFwZSkge1xyXG4gICAgICBpZiAoISh0aGlzLl9vcmlnU2hhcGUuaXNCZWluZ0RyYWdnZWQoKSB8fCB0aGlzLl9kZXN0U2hhcGUuaXNCZWluZ0RyYWdnZWQoKVxyXG4gICAgICAgIHx8IHRoaXMuX29yaWdTaGFwZS5pc0JlaW5nUmVzaXplZCgpIHx8IHRoaXMuX2Rlc3RTaGFwZS5pc0JlaW5nUmVzaXplZCgpKSkge1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUludGVyc2VjdGlvblBvaW50cygpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZlcnRleDtcclxuXHJcbiAgICBjb25zdCBwYXRoU3RyaW5nID0gcG9pbnRzLm1hcCgocG9pbnQsIGluZGV4LCBhcnJheSkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gYE0ke3BvaW50Lnh9ICR7cG9pbnQueX1gO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBuZXh0UG9pbnQgPSBhcnJheVtpbmRleCArIDFdO1xyXG4gICAgICBjb25zdCBkYXRhID0gW107XHJcbiAgICAgIGNvbnN0IHN0YXJ0ID0gKHZlcnRleCAmJiB2ZXJ0ZXguZW5kKSB8fCBhcnJheVtpbmRleCAtIDFdO1xyXG4gICAgICBjb25zdCBpbnRlcnNlY3Rpb25zID0gKHRoaXMuX2ludGVyc2VjdGlvbnMuZ2V0KGluZGV4IC0gMSkgfHwgW10pLnNsaWNlKDApO1xyXG5cclxuICAgICAgaWYgKG5leHRQb2ludCkge1xyXG4gICAgICAgIHZlcnRleCA9IHRoaXMuX2dldFZlcnRleERhdGEoc3RhcnQsIHBvaW50LCBuZXh0UG9pbnQpO1xyXG5cclxuICAgICAgICBpZiAodmVydGV4KSB7XHJcbiAgICAgICAgICBkYXRhLnB1c2godGhpcy5fZ2V0U2VnbWVudERhdGEoc3RhcnQsIHZlcnRleC5zdGFydCwgaW50ZXJzZWN0aW9ucykpO1xyXG4gICAgICAgICAgZGF0YS5wdXNoKHZlcnRleC5kYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGF0YS5wdXNoKHRoaXMuX2dldFNlZ21lbnREYXRhKHN0YXJ0LCBwb2ludCwgaW50ZXJzZWN0aW9ucykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGF0YS5qb2luKCcgJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9nZXRTZWdtZW50RGF0YShzdGFydCwgcG9pbnQsIGludGVyc2VjdGlvbnMpO1xyXG4gICAgfSkuam9pbignICcpO1xyXG5cclxuICAgIGlmIChwYXRoU3RyaW5nKSB7XHJcbiAgICAgIGNvbnN0IHBvaW50c0xlbmd0aCA9IHBvaW50cy5sZW5ndGg7XHJcblxyXG4gICAgICBjb25zdCBsYXN0U2VnbWVudE9yaWVudGF0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudE9yaWVudGF0aW9uKHBvaW50c1twb2ludHNMZW5ndGggLSAyXSxcclxuICAgICAgICBwb2ludHNbcG9pbnRzTGVuZ3RoIC0gMV0pO1xyXG4gICAgICBjb25zdCBsYXN0U2VnbWVudERpcmVjdGlvbiA9IENvbm5lY3Rpb24uX2dldFNlZ21lbnREaXJlY3Rpb24ocG9pbnRzW3BvaW50c0xlbmd0aCAtIDJdLFxyXG4gICAgICAgIHBvaW50c1twb2ludHNMZW5ndGggLSAxXSk7XHJcbiAgICAgIGNvbnN0IGFycm93QW5nbGUgPSAobGFzdFNlZ21lbnRPcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5YXHJcbiAgICAgICAgPyAyICsgbGFzdFNlZ21lbnREaXJlY3Rpb25cclxuICAgICAgICA6IDEgKyAobGFzdFNlZ21lbnREaXJlY3Rpb24gKiAtMSkpO1xyXG5cclxuICAgICAgdGhpcy5fZG9tLmFycm93XHJcbiAgICAgICAgLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3BvaW50c1twb2ludHMubGVuZ3RoIC0gMV0ueH0sICR7cG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXS55fSlgKTtcclxuICAgICAgdGhpcy5fZG9tLmFycm93Um90YXRlQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHNjYWxlKDAuNSwgMC41KSByb3RhdGUoJHs5MCAqIGFycm93QW5nbGV9KWApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2RvbS5tYWluRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gcGF0aFN0cmluZyA/ICcnIDogJ25vbmUnO1xyXG4gICAgdGhpcy5fZG9tLnBhdGguc2V0QXR0cmlidXRlKCdkJywgcGF0aFN0cmluZyk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBfc2V0UG9ydHMob3JpZ1BvcnQsIGRlc3RQb3J0KSB7XHJcbiAgICBjb25zdCB7IF9vcmlnUG9ydDogb2xkT3JpZ1BvcnQsIF9kZXN0UG9ydDogb2xkRGVzdFBvcnQgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBhdExlYXN0T25lTmV3UG9ydCA9IG9yaWdQb3J0ICE9PSBvbGRPcmlnUG9ydCB8fCBkZXN0UG9ydCAhPT0gb2xkRGVzdFBvcnQ7XHJcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChhdExlYXN0T25lTmV3UG9ydCkge1xyXG4gICAgICB0aGlzLl9vcmlnUG9ydCA9IG9yaWdQb3J0O1xyXG4gICAgICB0aGlzLl9kZXN0UG9ydCA9IGRlc3RQb3J0O1xyXG4gICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYW5nZWQgJiYgb3JpZ1BvcnQgJiYgZGVzdFBvcnQpIHtcclxuICAgICAgY29uc3Qgb3JpZ0Rlc2MgPSBvcmlnUG9ydC5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgICBjb25zdCBkZXN0RGVzYyA9IGRlc3RQb3J0LmdldERlc2NyaXB0aW9uKCk7XHJcbiAgICAgIGNvbnN0IG9sZE9yaWdEZXNjID0gb2xkT3JpZ1BvcnQuZ2V0RGVzY3JpcHRpb24oKTtcclxuICAgICAgY29uc3Qgb2xkRGVzdERlc2MgPSBvbGREZXN0UG9ydC5nZXREZXNjcmlwdGlvbigpO1xyXG5cclxuICAgICAgaWYgKCFHZW9tZXRyeS5hcmVTYW1lUG9pbnQob3JpZ0Rlc2MucG9pbnQsIG9sZE9yaWdEZXNjLnBvaW50KVxyXG4gICAgICAgIHx8IEdlb21ldHJ5LmFyZVNhbWVQb2ludChkZXN0RGVzYy5wb2ludCwgb2xkRGVzdERlc2MucG9pbnQpKSB7XHJcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhbmdlZCkge1xyXG4gICAgICB0aGlzLl9jYW52YXMuZGlzcGF0Y2hFdmVudChFVkVOVC5QT1JUX0NIQU5HRSwgdGhpcywge1xyXG4gICAgICAgIG9yaWdQb3J0LFxyXG4gICAgICAgIGRlc3RQb3J0LFxyXG4gICAgICAgIG9sZE9yaWdQb3J0LFxyXG4gICAgICAgIG9sZERlc3RQb3J0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG1ha2UoKSB7XHJcbiAgICBpZiAoIXRoaXMuX29yaWdTaGFwZSB8fCAhdGhpcy5fZGVzdFNoYXBlIHx8ICF0aGlzLl9lbCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG9yaWdQb3J0ID0gdGhpcy5fb3JpZ1NoYXBlLmdldENvbm5lY3Rpb25Qb3J0KHRoaXMuX2Rlc3RTaGFwZSwgUE9SVF9NT0RFLk9SSUcpO1xyXG4gICAgY29uc3QgZGVzdFBvcnQgPSB0aGlzLl9kZXN0U2hhcGUuZ2V0Q29ubmVjdGlvblBvcnQodGhpcy5fb3JpZ1NoYXBlLCBQT1JUX01PREUuREVTVCk7XHJcbiAgICBjb25zdCBvcmlnUG9ydERlc2NyaXB0b3IgPSBvcmlnUG9ydC5nZXREZXNjcmlwdGlvbigpO1xyXG4gICAgY29uc3QgZGVzdFBvcnREZXNjcmlwdG9yID0gZGVzdFBvcnQuZ2V0RGVzY3JpcHRpb24oKTtcclxuXHJcbiAgICB0aGlzLl9vcmlnU2hhcGUuYXNzaWduQ29ubmVjdGlvblRvUG9ydCh0aGlzLCBvcmlnUG9ydERlc2NyaXB0b3IucG9ydEluZGV4LCBQT1JUX01PREUuT1JJRyk7XHJcbiAgICB0aGlzLl9kZXN0U2hhcGUuYXNzaWduQ29ubmVjdGlvblRvUG9ydCh0aGlzLCBkZXN0UG9ydERlc2NyaXB0b3IucG9ydEluZGV4LCBQT1JUX01PREUuREVTVCk7XHJcbiAgICB0aGlzLl9zZXRQb3J0cyhvcmlnUG9ydCwgZGVzdFBvcnQpO1xyXG5cclxuICAgIHRoaXMuX2RyYXcob3JpZ1BvcnREZXNjcmlwdG9yLCBkZXN0UG9ydERlc2NyaXB0b3IpO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGF0IGxlYXN0IHR3aWNlLCBpdCBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZS5cclxuICByZW1vdmUoKSB7XHJcbiAgICBjb25zdCBvcmlnU2hhcGUgPSB0aGlzLl9vcmlnU2hhcGU7XHJcbiAgICBjb25zdCBkZXN0U2hhcGUgPSB0aGlzLl9kZXN0U2hhcGU7XHJcblxyXG4gICAgaWYgKHRoaXMuX2NhbnZhcykge1xyXG4gICAgICBpZiAob3JpZ1NoYXBlICYmIG9yaWdTaGFwZS5nZXRPdXRnb2luZ0Nvbm5lY3Rpb25zKCkuaGFzKHRoaXMpKSB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlRHJhZ0xpc3RlbmVycyhvcmlnU2hhcGUpO1xyXG4gICAgICAgIG9yaWdTaGFwZS5yZW1vdmVDb25uZWN0aW9uKHRoaXMsIE1PREUuT1JJRyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkZXN0U2hhcGUgJiYgZGVzdFNoYXBlLmdldEluY29taW5nQ29ubmVjdGlvbnMoKS5oYXModGhpcykpIHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVEcmFnTGlzdGVuZXJzKGRlc3RTaGFwZSk7XHJcbiAgICAgICAgZGVzdFNoYXBlLnJlbW92ZUNvbm5lY3Rpb24odGhpcywgTU9ERS5ERVNUKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fb3JpZ1NoYXBlID0gbnVsbDtcclxuICAgICAgdGhpcy5fZGVzdFNoYXBlID0gbnVsbDtcclxuXHJcbiAgICAgIGlmIChvcmlnU2hhcGUgJiYgZGVzdFNoYXBlICYmIHRoaXMuX2NhbnZhcykge1xyXG4gICAgICAgIHRoaXMuX3NldFBvcnRzKG51bGwsIG51bGwpO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUludGVyY2VwdG9ycygpO1xyXG4gICAgICAgIHRoaXMuX2NhbnZhcy5kaXNwYXRjaEV2ZW50KEVWRU5ULkRJU0NPTk5FQ1QsIHRoaXMsIHtcclxuICAgICAgICAgIG9yaWdTaGFwZSxcclxuICAgICAgICAgIGRlc3RTaGFwZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdXBlci5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdG9KU09OKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uc3VwZXIudG9KU09OKCksXHJcbiAgICAgIG9yaWc6IHRoaXMuX29yaWdTaGFwZS5nZXRJRCgpLFxyXG4gICAgICBkZXN0OiB0aGlzLl9kZXN0U2hhcGUuZ2V0SUQoKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIGlmICh0aGlzLl9lbCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBzdXBlci5fY3JlYXRlRWxlbWVudCgpO1xyXG5cclxuICAgIGNvbnN0IG1haW5FbGVtZW50ID0gdGhpcy5fZ2V0TWFpbkVsZW1lbnQoKTtcclxuICAgIGNvbnN0IGFycm93V3JhcHBlciA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygnZycpO1xyXG4gICAgY29uc3QgYXJyb3dXcmFwcGVyMiA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygnZycpO1xyXG4gICAgY29uc3QgYXJyb3cgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ3BhdGgnKTtcclxuICAgIGNvbnN0IHBhdGggPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ3BhdGgnKTtcclxuXHJcbiAgICBhcnJvd1dyYXBwZXIyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgJ3NjYWxlKDAuNSwwLjUpIHJvdGF0ZSgtMTgwKScpO1xyXG4gICAgYXJyb3cuc2V0QXR0cmlidXRlKCdlbmQnLCAndGFyZ2V0Jyk7XHJcbiAgICBhcnJvdy5zZXRBdHRyaWJ1dGUoJ2QnLCAnTSAwIDAgTCAtMTMgLTI2IEwgMTMgLTI2IHonKTtcclxuICAgIGFycm93LmNsYXNzTGlzdC5hZGQoJ2Fycm93Jyk7XHJcbiAgICBwYXRoLmNsYXNzTGlzdC5hZGQoJ3BhdGgnKTtcclxuXHJcbiAgICBhcnJvd1dyYXBwZXIyLmFwcGVuZENoaWxkKGFycm93KTtcclxuICAgIGFycm93V3JhcHBlci5hcHBlbmRDaGlsZChhcnJvd1dyYXBwZXIyKTtcclxuICAgIG1haW5FbGVtZW50LmFwcGVuZENoaWxkKGFycm93V3JhcHBlcik7XHJcbiAgICBtYWluRWxlbWVudC5hcHBlbmRDaGlsZChwYXRoKTtcclxuXHJcbiAgICB0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKCdjb25uZWN0aW9uJyk7XHJcbiAgICB0aGlzLl9kb20ucGF0aCA9IHBhdGg7XHJcbiAgICB0aGlzLl9kb20uYXJyb3cgPSBhcnJvd1dyYXBwZXI7XHJcbiAgICB0aGlzLl9kb20uYXJyb3dSb3RhdGVDb250YWluZXIgPSBhcnJvd1dyYXBwZXIyO1xyXG4gICAgdGhpcy5fc2VsZWN0QmVoYXZpb3IuYXR0YWNoKCk7XHJcbiAgICB0aGlzLl9kcmFnQmVoYXZpb3IuYXR0YWNoKCk7XHJcblxyXG4gICAgdGhpcy5tYWtlKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb25uZWN0aW9uO1xyXG5leHBvcnQgeyBFVkVOVCB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/Connection.js\n");

/***/ }),

/***/ "./src/js/connection/ConnectionIntersectionResolver.js":
/*!*************************************************************!*\
  !*** ./src/js/connection/ConnectionIntersectionResolver.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Port__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n// eslint-disable-next-line consistent-return\r\nfunction getSegmentOrientation(segment) {\r\n  if (segment[0].x === segment[1].x) {\r\n    return _Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].Y;\r\n  }\r\n\r\n  if (segment[0].y === segment[1].y) {\r\n    return _Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].X;\r\n  }\r\n\r\n  _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].custom('Diagonal segment?');\r\n}\r\n\r\nfunction normalizeSegment(segment) {\r\n  const x = [Math.min(segment[0].x, segment[1].x), Math.max(segment[0].x, segment[1].x)];\r\n  const y = [Math.min(segment[0].y, segment[1].y), Math.max(segment[0].y, segment[1].y)];\r\n\r\n  return [\r\n    {\r\n      x: x[0],\r\n      y: y[0],\r\n    }, {\r\n      x: x[1],\r\n      y: y[1],\r\n    },\r\n  ];\r\n}\r\n// TODO: move to utils/move to Geometry.js\r\nfunction getIntersectedPoints(connectionA, connectionB) {\r\n  if (connectionA !== connectionB) {\r\n    const segmentsA = connectionA.getSegments();\r\n    const segmentsB = connectionB.getSegments();\r\n    const intersectionPoints = [];\r\n\r\n    segmentsA.forEach((segmentA, index) => {\r\n      const orientationA = getSegmentOrientation(segmentA);\r\n      const points = [];\r\n\r\n      segmentA = normalizeSegment(segmentA);\r\n\r\n      segmentsB.forEach((segmentB, segmentIndex) => {\r\n        const orientationB = getSegmentOrientation(segmentB);\r\n\r\n        segmentB = normalizeSegment(segmentB);\r\n\r\n        if (orientationA !== orientationB) {\r\n          let point;\r\n\r\n          // TODO: move to a util function\r\n          if (orientationA === _Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].X\r\n            && segmentA[0].y > segmentB[0].y\r\n            && segmentA[0].y < segmentB[1].y\r\n            && segmentB[0].x > segmentA[0].x\r\n            && segmentB[0].x < segmentA[1].x) {\r\n            point = {\r\n              x: segmentB[0].x,\r\n              y: segmentA[0].y,\r\n            };\r\n          } else if (orientationA === _Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].Y\r\n            && segmentA[0].x > segmentB[0].x\r\n            && segmentA[0].x < segmentB[1].x\r\n            && segmentB[0].y > segmentA[0].y\r\n            && segmentB[0].y < segmentA[1].y) {\r\n            point = {\r\n              x: segmentA[0].x,\r\n              y: segmentB[0].y,\r\n            };\r\n          }\r\n\r\n          if (point) {\r\n            if (connectionB.hasIntersectionPoint(point.x, point.y)) {\r\n              connectionB.addIntersection(segmentIndex, connectionA, point);\r\n            } else {\r\n              points.push(point);\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      intersectionPoints[index] = points;\r\n    });\r\n\r\n    return intersectionPoints;\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  getIntersectionPoints(connection) {\r\n    const bounds = connection.getBounds();\r\n    const canvas = connection.getCanvas();\r\n    const otherConnections = (canvas && canvas.getConnections()) || [];\r\n    const segments = [];\r\n\r\n    otherConnections.forEach((otherConnection) => {\r\n      const origShape = otherConnection.getOrigShape();\r\n      const destShape = otherConnection.getDestShape();\r\n      let otherBounds;\r\n\r\n      if ((origShape && origShape.isBeingDragged())\r\n        || (destShape && destShape.isBeingDragged())) {\r\n        return;\r\n      }\r\n\r\n      if (otherConnection !== connection) {\r\n        otherBounds = otherConnection.getBounds();\r\n\r\n        if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].areOverlapped(bounds, otherBounds)) {\r\n          const segmentIntersectionPoints = getIntersectedPoints(connection, otherConnection);\r\n\r\n          segmentIntersectionPoints.forEach((points, index) => {\r\n            if (points) {\r\n              const intersectionPoints = points.map((point) => ({\r\n                connection: otherConnection,\r\n                point,\r\n              }));\r\n\r\n              segments[index] = segments[index] || [];\r\n              segments[index].push(...intersectionPoints);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    return segments;\r\n  },\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9Db25uZWN0aW9uSW50ZXJzZWN0aW9uUmVzb2x2ZXIuanM/ZmI0OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF5RDtBQUNoQjtBQUNDOztBQUUxQztBQUNBO0FBQ0E7QUFDQSxXQUFXLGlEQUFnQjtBQUMzQjs7QUFFQTtBQUNBLFdBQVcsaURBQWdCO0FBQzNCOztBQUVBLEVBQUUsMkRBQUs7QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwrQkFBK0IsaURBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJCQUEyQixpREFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxZQUFZLHVEQUFRO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlOztBQUVmO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSCxDQUFDLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvY29ubmVjdGlvbi9Db25uZWN0aW9uSW50ZXJzZWN0aW9uUmVzb2x2ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPUklFTlRBVElPTiBhcyBQT1JUX09SSUVOVEFUSU9OIH0gZnJvbSAnLi9Qb3J0JztcclxuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL3V0aWxzL0dlb21ldHJ5JztcclxuaW1wb3J0IEVycm9yIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cclxuZnVuY3Rpb24gZ2V0U2VnbWVudE9yaWVudGF0aW9uKHNlZ21lbnQpIHtcclxuICBpZiAoc2VnbWVudFswXS54ID09PSBzZWdtZW50WzFdLngpIHtcclxuICAgIHJldHVybiBQT1JUX09SSUVOVEFUSU9OLlk7XHJcbiAgfVxyXG5cclxuICBpZiAoc2VnbWVudFswXS55ID09PSBzZWdtZW50WzFdLnkpIHtcclxuICAgIHJldHVybiBQT1JUX09SSUVOVEFUSU9OLlg7XHJcbiAgfVxyXG5cclxuICBFcnJvci5jdXN0b20oJ0RpYWdvbmFsIHNlZ21lbnQ/Jyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVNlZ21lbnQoc2VnbWVudCkge1xyXG4gIGNvbnN0IHggPSBbTWF0aC5taW4oc2VnbWVudFswXS54LCBzZWdtZW50WzFdLngpLCBNYXRoLm1heChzZWdtZW50WzBdLngsIHNlZ21lbnRbMV0ueCldO1xyXG4gIGNvbnN0IHkgPSBbTWF0aC5taW4oc2VnbWVudFswXS55LCBzZWdtZW50WzFdLnkpLCBNYXRoLm1heChzZWdtZW50WzBdLnksIHNlZ21lbnRbMV0ueSldO1xyXG5cclxuICByZXR1cm4gW1xyXG4gICAge1xyXG4gICAgICB4OiB4WzBdLFxyXG4gICAgICB5OiB5WzBdLFxyXG4gICAgfSwge1xyXG4gICAgICB4OiB4WzFdLFxyXG4gICAgICB5OiB5WzFdLFxyXG4gICAgfSxcclxuICBdO1xyXG59XHJcbi8vIFRPRE86IG1vdmUgdG8gdXRpbHMvbW92ZSB0byBHZW9tZXRyeS5qc1xyXG5mdW5jdGlvbiBnZXRJbnRlcnNlY3RlZFBvaW50cyhjb25uZWN0aW9uQSwgY29ubmVjdGlvbkIpIHtcclxuICBpZiAoY29ubmVjdGlvbkEgIT09IGNvbm5lY3Rpb25CKSB7XHJcbiAgICBjb25zdCBzZWdtZW50c0EgPSBjb25uZWN0aW9uQS5nZXRTZWdtZW50cygpO1xyXG4gICAgY29uc3Qgc2VnbWVudHNCID0gY29ubmVjdGlvbkIuZ2V0U2VnbWVudHMoKTtcclxuICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50cyA9IFtdO1xyXG5cclxuICAgIHNlZ21lbnRzQS5mb3JFYWNoKChzZWdtZW50QSwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3Qgb3JpZW50YXRpb25BID0gZ2V0U2VnbWVudE9yaWVudGF0aW9uKHNlZ21lbnRBKTtcclxuICAgICAgY29uc3QgcG9pbnRzID0gW107XHJcblxyXG4gICAgICBzZWdtZW50QSA9IG5vcm1hbGl6ZVNlZ21lbnQoc2VnbWVudEEpO1xyXG5cclxuICAgICAgc2VnbWVudHNCLmZvckVhY2goKHNlZ21lbnRCLCBzZWdtZW50SW5kZXgpID0+IHtcclxuICAgICAgICBjb25zdCBvcmllbnRhdGlvbkIgPSBnZXRTZWdtZW50T3JpZW50YXRpb24oc2VnbWVudEIpO1xyXG5cclxuICAgICAgICBzZWdtZW50QiA9IG5vcm1hbGl6ZVNlZ21lbnQoc2VnbWVudEIpO1xyXG5cclxuICAgICAgICBpZiAob3JpZW50YXRpb25BICE9PSBvcmllbnRhdGlvbkIpIHtcclxuICAgICAgICAgIGxldCBwb2ludDtcclxuXHJcbiAgICAgICAgICAvLyBUT0RPOiBtb3ZlIHRvIGEgdXRpbCBmdW5jdGlvblxyXG4gICAgICAgICAgaWYgKG9yaWVudGF0aW9uQSA9PT0gUE9SVF9PUklFTlRBVElPTi5YXHJcbiAgICAgICAgICAgICYmIHNlZ21lbnRBWzBdLnkgPiBzZWdtZW50QlswXS55XHJcbiAgICAgICAgICAgICYmIHNlZ21lbnRBWzBdLnkgPCBzZWdtZW50QlsxXS55XHJcbiAgICAgICAgICAgICYmIHNlZ21lbnRCWzBdLnggPiBzZWdtZW50QVswXS54XHJcbiAgICAgICAgICAgICYmIHNlZ21lbnRCWzBdLnggPCBzZWdtZW50QVsxXS54KSB7XHJcbiAgICAgICAgICAgIHBvaW50ID0ge1xyXG4gICAgICAgICAgICAgIHg6IHNlZ21lbnRCWzBdLngsXHJcbiAgICAgICAgICAgICAgeTogc2VnbWVudEFbMF0ueSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAob3JpZW50YXRpb25BID09PSBQT1JUX09SSUVOVEFUSU9OLllcclxuICAgICAgICAgICAgJiYgc2VnbWVudEFbMF0ueCA+IHNlZ21lbnRCWzBdLnhcclxuICAgICAgICAgICAgJiYgc2VnbWVudEFbMF0ueCA8IHNlZ21lbnRCWzFdLnhcclxuICAgICAgICAgICAgJiYgc2VnbWVudEJbMF0ueSA+IHNlZ21lbnRBWzBdLnlcclxuICAgICAgICAgICAgJiYgc2VnbWVudEJbMF0ueSA8IHNlZ21lbnRBWzFdLnkpIHtcclxuICAgICAgICAgICAgcG9pbnQgPSB7XHJcbiAgICAgICAgICAgICAgeDogc2VnbWVudEFbMF0ueCxcclxuICAgICAgICAgICAgICB5OiBzZWdtZW50QlswXS55LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChwb2ludCkge1xyXG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbkIuaGFzSW50ZXJzZWN0aW9uUG9pbnQocG9pbnQueCwgcG9pbnQueSkpIHtcclxuICAgICAgICAgICAgICBjb25uZWN0aW9uQi5hZGRJbnRlcnNlY3Rpb24oc2VnbWVudEluZGV4LCBjb25uZWN0aW9uQSwgcG9pbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpbnRlcnNlY3Rpb25Qb2ludHNbaW5kZXhdID0gcG9pbnRzO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGludGVyc2VjdGlvblBvaW50cztcclxuICB9XHJcblxyXG4gIHJldHVybiBbXTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGdldEludGVyc2VjdGlvblBvaW50cyhjb25uZWN0aW9uKSB7XHJcbiAgICBjb25zdCBib3VuZHMgPSBjb25uZWN0aW9uLmdldEJvdW5kcygpO1xyXG4gICAgY29uc3QgY2FudmFzID0gY29ubmVjdGlvbi5nZXRDYW52YXMoKTtcclxuICAgIGNvbnN0IG90aGVyQ29ubmVjdGlvbnMgPSAoY2FudmFzICYmIGNhbnZhcy5nZXRDb25uZWN0aW9ucygpKSB8fCBbXTtcclxuICAgIGNvbnN0IHNlZ21lbnRzID0gW107XHJcblxyXG4gICAgb3RoZXJDb25uZWN0aW9ucy5mb3JFYWNoKChvdGhlckNvbm5lY3Rpb24pID0+IHtcclxuICAgICAgY29uc3Qgb3JpZ1NoYXBlID0gb3RoZXJDb25uZWN0aW9uLmdldE9yaWdTaGFwZSgpO1xyXG4gICAgICBjb25zdCBkZXN0U2hhcGUgPSBvdGhlckNvbm5lY3Rpb24uZ2V0RGVzdFNoYXBlKCk7XHJcbiAgICAgIGxldCBvdGhlckJvdW5kcztcclxuXHJcbiAgICAgIGlmICgob3JpZ1NoYXBlICYmIG9yaWdTaGFwZS5pc0JlaW5nRHJhZ2dlZCgpKVxyXG4gICAgICAgIHx8IChkZXN0U2hhcGUgJiYgZGVzdFNoYXBlLmlzQmVpbmdEcmFnZ2VkKCkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3RoZXJDb25uZWN0aW9uICE9PSBjb25uZWN0aW9uKSB7XHJcbiAgICAgICAgb3RoZXJCb3VuZHMgPSBvdGhlckNvbm5lY3Rpb24uZ2V0Qm91bmRzKCk7XHJcblxyXG4gICAgICAgIGlmIChHZW9tZXRyeS5hcmVPdmVybGFwcGVkKGJvdW5kcywgb3RoZXJCb3VuZHMpKSB7XHJcbiAgICAgICAgICBjb25zdCBzZWdtZW50SW50ZXJzZWN0aW9uUG9pbnRzID0gZ2V0SW50ZXJzZWN0ZWRQb2ludHMoY29ubmVjdGlvbiwgb3RoZXJDb25uZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICBzZWdtZW50SW50ZXJzZWN0aW9uUG9pbnRzLmZvckVhY2goKHBvaW50cywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBvaW50cykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvblBvaW50cyA9IHBvaW50cy5tYXAoKHBvaW50KSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbjogb3RoZXJDb25uZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgcG9pbnQsXHJcbiAgICAgICAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICAgICAgICBzZWdtZW50c1tpbmRleF0gPSBzZWdtZW50c1tpbmRleF0gfHwgW107XHJcbiAgICAgICAgICAgICAgc2VnbWVudHNbaW5kZXhdLnB1c2goLi4uaW50ZXJzZWN0aW9uUG9pbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gc2VnbWVudHM7XHJcbiAgfSxcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/connection/ConnectionIntersectionResolver.js\n");

/***/ }),

/***/ "./src/js/connection/IntersectionStrategyRepository.js":
/*!*************************************************************!*\
  !*** ./src/js/connection/IntersectionStrategyRepository.js ***!
  \*************************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/StrategyRepository */ \"./src/js/core/StrategyRepository.js\");\n/* harmony import */ var _strategy_ArcIntersectionStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/ArcIntersectionStrategy */ \"./src/js/connection/strategy/ArcIntersectionStrategy.js\");\n\r\n\r\n\r\n// TODO: maybe this enum could use integer values instead of strings.\r\nconst PRODUCTS = Object.freeze({\r\n  ARC: 0,\r\n});\r\n\r\nconst IntersectionStrategyRepository = new _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.ARC]: _strategy_ArcIntersectionStrategy__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (IntersectionStrategyRepository);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9JbnRlcnNlY3Rpb25TdHJhdGVneVJlcG9zaXRvcnkuanM/YWNiNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE0RDtBQUNhOztBQUV6RTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDJDQUEyQyxnRUFBa0I7QUFDN0Q7QUFDQSxvQkFBb0IseUVBQXVCO0FBQzNDLEdBQUc7QUFDSCxDQUFDOztBQUVjLDZGQUE4QixFQUFDO0FBQzFCIiwiZmlsZSI6Ii4vc3JjL2pzL2Nvbm5lY3Rpb24vSW50ZXJzZWN0aW9uU3RyYXRlZ3lSZXBvc2l0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFN0cmF0ZWd5UmVwb3NpdG9yeSBmcm9tICcuLi9jb3JlL1N0cmF0ZWd5UmVwb3NpdG9yeSc7XHJcbmltcG9ydCBBcmNJbnRlcnNlY3Rpb25TdHJhdGVneSBmcm9tICcuL3N0cmF0ZWd5L0FyY0ludGVyc2VjdGlvblN0cmF0ZWd5JztcclxuXHJcbi8vIFRPRE86IG1heWJlIHRoaXMgZW51bSBjb3VsZCB1c2UgaW50ZWdlciB2YWx1ZXMgaW5zdGVhZCBvZiBzdHJpbmdzLlxyXG5jb25zdCBQUk9EVUNUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIEFSQzogMCxcclxufSk7XHJcblxyXG5jb25zdCBJbnRlcnNlY3Rpb25TdHJhdGVneVJlcG9zaXRvcnkgPSBuZXcgU3RyYXRlZ3lSZXBvc2l0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLkFSQ106IEFyY0ludGVyc2VjdGlvblN0cmF0ZWd5LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW50ZXJzZWN0aW9uU3RyYXRlZ3lSZXBvc2l0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/IntersectionStrategyRepository.js\n");

/***/ }),

/***/ "./src/js/connection/LineStrategyRepository.js":
/*!*****************************************************!*\
  !*** ./src/js/connection/LineStrategyRepository.js ***!
  \*****************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/StrategyRepository */ \"./src/js/core/StrategyRepository.js\");\n/* harmony import */ var _strategy_StraightLineStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/StraightLineStrategy */ \"./src/js/connection/strategy/StraightLineStrategy.js\");\n\r\n\r\n\r\n// TODO: maybe this enum could use integer values instead of strings.\r\nconst PRODUCTS = Object.freeze({\r\n  STRAIGHT: 0,\r\n});\r\n\r\nconst LineStrategyRepository = new _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.STRAIGHT]: _strategy_StraightLineStrategy__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (LineStrategyRepository);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9MaW5lU3RyYXRlZ3lSZXBvc2l0b3J5LmpzPzU0ODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNEQ7QUFDTzs7QUFFbkU7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxtQ0FBbUMsZ0VBQWtCO0FBQ3JEO0FBQ0EseUJBQXlCLHNFQUFvQjtBQUM3QyxHQUFHO0FBQ0gsQ0FBQzs7QUFFYyxxRkFBc0IsRUFBQztBQUNsQiIsImZpbGUiOiIuL3NyYy9qcy9jb25uZWN0aW9uL0xpbmVTdHJhdGVneVJlcG9zaXRvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RyYXRlZ3lSZXBvc2l0b3J5IGZyb20gJy4uL2NvcmUvU3RyYXRlZ3lSZXBvc2l0b3J5JztcclxuaW1wb3J0IFN0cmFpZ2h0TGluZVN0cmF0ZWd5IGZyb20gJy4vc3RyYXRlZ3kvU3RyYWlnaHRMaW5lU3RyYXRlZ3knO1xyXG5cclxuLy8gVE9ETzogbWF5YmUgdGhpcyBlbnVtIGNvdWxkIHVzZSBpbnRlZ2VyIHZhbHVlcyBpbnN0ZWFkIG9mIHN0cmluZ3MuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgU1RSQUlHSFQ6IDAsXHJcbn0pO1xyXG5cclxuY29uc3QgTGluZVN0cmF0ZWd5UmVwb3NpdG9yeSA9IG5ldyBTdHJhdGVneVJlcG9zaXRvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuU1RSQUlHSFRdOiBTdHJhaWdodExpbmVTdHJhdGVneSxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExpbmVTdHJhdGVneVJlcG9zaXRvcnk7XHJcbmV4cG9ydCB7IFBST0RVQ1RTIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/connection/LineStrategyRepository.js\n");

/***/ }),

/***/ "./src/js/connection/Port.js":
/*!***********************************!*\
  !*** ./src/js/connection/Port.js ***!
  \***********************************/
/*! exports provided: default, ORIENTATION, DIRECTION, MODE, POSITION, getPositionProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ORIENTATION\", function() { return ORIENTATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DIRECTION\", function() { return DIRECTION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MODE\", function() { return MODE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POSITION\", function() { return POSITION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPositionProps\", function() { return getPositionProps; });\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _Connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\nconst DEFAULTS = {\r\n  connections: [],\r\n  shape: null,\r\n};\r\n\r\nconst ORIENTATION = Object.freeze({\r\n  X: 'x',\r\n  Y: 'y',\r\n});\r\n\r\n// TOOD: this could be renamed to WAY and POSITION could be DIRECTION\r\nconst DIRECTION = Object.freeze({\r\n  NEGATIVE: -1,\r\n  POSITIVE: 1,\r\n});\r\n\r\n// TODO: It is not the same as Connection.POINT?\r\nconst MODE = Object.freeze({\r\n  ORIG: 0,\r\n  DEST: 1,\r\n});\r\n\r\nconst POSITION = Object.freeze({\r\n  NORTH: 0,\r\n  EAST: 1,\r\n  SOUTH: 2,\r\n  WEST: 3,\r\n  props: {\r\n    0: {\r\n      orientation: ORIENTATION.Y,\r\n      direction: DIRECTION.NEGATIVE,\r\n    },\r\n    1: {\r\n      orientation: ORIENTATION.X,\r\n      direction: DIRECTION.POSITIVE,\r\n    },\r\n    2: {\r\n      orientation: ORIENTATION.Y,\r\n      direction: DIRECTION.POSITIVE,\r\n    },\r\n    3: {\r\n      orientation: ORIENTATION.X,\r\n      direction: DIRECTION.NEGATIVE,\r\n    },\r\n  },\r\n});\r\n\r\nfunction getPositionProps(position) {\r\n  return POSITION.props[position];\r\n}\r\n\r\nclass Port {\r\n  static getPriority(orientation, direction) {\r\n    let priorityOrder;\r\n\r\n    switch (orientation) {\r\n      case ORIENTATION.Y:\r\n        if (direction === DIRECTION.NEGATIVE) {\r\n          priorityOrder = [POSITION.NORTH, POSITION.SOUTH];\r\n        } else {\r\n          priorityOrder = [POSITION.SOUTH, POSITION.NORTH];\r\n        }\r\n\r\n        break;\r\n      case ORIENTATION.X:\r\n      default:\r\n        if (direction === DIRECTION.NEGATIVE) {\r\n          priorityOrder = [POSITION.WEST, POSITION.EAST];\r\n        } else {\r\n          priorityOrder = [POSITION.EAST, POSITION.WEST];\r\n        }\r\n    }\r\n\r\n    return priorityOrder;\r\n  }\r\n\r\n  constructor(settings) {\r\n    this._mode = null;\r\n    this._position = null;\r\n    this._connections = new Set();\r\n    this._shape = null;\r\n\r\n    settings = { ...DEFAULTS, ...settings };\r\n\r\n    this._setShape(settings.shape)\r\n      ._setPosition(settings.position)\r\n      .setConnections(settings.connections);\r\n  }\r\n\r\n  get mode() {\r\n    return this._mode;\r\n  }\r\n\r\n  get orientation() {\r\n    return getPositionProps(this._position).orientation;\r\n  }\r\n\r\n  get direction() {\r\n    return getPositionProps(this._position).direction;\r\n  }\r\n\r\n  get size() {\r\n    return this._connections.size;\r\n  }\r\n\r\n  _setShape(shape) {\r\n    if (!(shape instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_0__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    this._shape = shape;\r\n    return this;\r\n  }\r\n\r\n  _setPosition(position) {\r\n    this._position = position;\r\n    return this;\r\n  }\r\n\r\n  isAvailableFor(mode) {\r\n    return this._mode === null || this._mode === mode;\r\n  }\r\n\r\n  addConnection(connection, mode) {\r\n    if (!(connection instanceof _Connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].invalidParameter();\r\n    } else if (!this._shape.isUsingConnection(connection)) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].custom('The supplied connection doesn\\'t belong to this shape.');\r\n    } else if ((mode === MODE.DEST && connection.getDestShape() !== this._shape)\r\n     || (mode === MODE.ORIG && connection.getOrigShape() !== this._shape)) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].custom('Mode doesn\\'t match with connection direction.');\r\n    }\r\n\r\n    if (mode !== this._mode && this._mode !== null) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].custom('Invalid connection direction.');\r\n    }\r\n\r\n    this._mode = mode;\r\n    this._connections.add(connection);\r\n    return this;\r\n  }\r\n\r\n  setConnections(connections) {\r\n    connections.forEach((connection, mode) => {\r\n      this.addConnection(connection, mode);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  hasConnection(connection) {\r\n    return this._connections.has(connection);\r\n  }\r\n\r\n  removeConnection(connection) {\r\n    if (this._connections.delete(connection)) {\r\n      this._mode = this._connections.size ? this._mode : null;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  clearConnections() {\r\n    this._connections.clear();\r\n    this._mode = null;\r\n    return this;\r\n  }\r\n\r\n  getDescription() {\r\n    const index = this._position;\r\n\r\n    return {\r\n      orientation: this.orientation,\r\n      direction: this.direction,\r\n      mode: this.mode,\r\n      point: this._shape.getPortPoint(index),\r\n      portIndex: index,\r\n    };\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Port);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9Qb3J0LmpzPzAwZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXVDO0FBQ0Q7QUFDVzs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjs7QUFFaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLG9EQUFTO0FBQ3BDLE1BQU0sMkRBQVk7QUFDbEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxtREFBVTtBQUMxQyxNQUFNLDJEQUFZO0FBQ2xCLEtBQUs7QUFDTCxNQUFNLDJEQUFZO0FBQ2xCLEtBQUs7QUFDTDtBQUNBLE1BQU0sMkRBQVk7QUFDbEI7O0FBRUE7QUFDQSxNQUFNLDJEQUFZO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsbUVBQUksRUFBQztBQUdsQiIsImZpbGUiOiIuL3NyYy9qcy9jb25uZWN0aW9uL1BvcnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQlBNTlNoYXBlIGZyb20gJy4uL3NoYXBlL1NoYXBlJztcclxuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi9Db25uZWN0aW9uJztcclxuaW1wb3J0IEVycm9yVGhyb3dlciBmcm9tICcuLi91dGlscy9FcnJvclRocm93ZXInO1xyXG5cclxuY29uc3QgREVGQVVMVFMgPSB7XHJcbiAgY29ubmVjdGlvbnM6IFtdLFxyXG4gIHNoYXBlOiBudWxsLFxyXG59O1xyXG5cclxuY29uc3QgT1JJRU5UQVRJT04gPSBPYmplY3QuZnJlZXplKHtcclxuICBYOiAneCcsXHJcbiAgWTogJ3knLFxyXG59KTtcclxuXHJcbi8vIFRPT0Q6IHRoaXMgY291bGQgYmUgcmVuYW1lZCB0byBXQVkgYW5kIFBPU0lUSU9OIGNvdWxkIGJlIERJUkVDVElPTlxyXG5jb25zdCBESVJFQ1RJT04gPSBPYmplY3QuZnJlZXplKHtcclxuICBORUdBVElWRTogLTEsXHJcbiAgUE9TSVRJVkU6IDEsXHJcbn0pO1xyXG5cclxuLy8gVE9ETzogSXQgaXMgbm90IHRoZSBzYW1lIGFzIENvbm5lY3Rpb24uUE9JTlQ/XHJcbmNvbnN0IE1PREUgPSBPYmplY3QuZnJlZXplKHtcclxuICBPUklHOiAwLFxyXG4gIERFU1Q6IDEsXHJcbn0pO1xyXG5cclxuY29uc3QgUE9TSVRJT04gPSBPYmplY3QuZnJlZXplKHtcclxuICBOT1JUSDogMCxcclxuICBFQVNUOiAxLFxyXG4gIFNPVVRIOiAyLFxyXG4gIFdFU1Q6IDMsXHJcbiAgcHJvcHM6IHtcclxuICAgIDA6IHtcclxuICAgICAgb3JpZW50YXRpb246IE9SSUVOVEFUSU9OLlksXHJcbiAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLk5FR0FUSVZFLFxyXG4gICAgfSxcclxuICAgIDE6IHtcclxuICAgICAgb3JpZW50YXRpb246IE9SSUVOVEFUSU9OLlgsXHJcbiAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLlBPU0lUSVZFLFxyXG4gICAgfSxcclxuICAgIDI6IHtcclxuICAgICAgb3JpZW50YXRpb246IE9SSUVOVEFUSU9OLlksXHJcbiAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLlBPU0lUSVZFLFxyXG4gICAgfSxcclxuICAgIDM6IHtcclxuICAgICAgb3JpZW50YXRpb246IE9SSUVOVEFUSU9OLlgsXHJcbiAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OLk5FR0FUSVZFLFxyXG4gICAgfSxcclxuICB9LFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldFBvc2l0aW9uUHJvcHMocG9zaXRpb24pIHtcclxuICByZXR1cm4gUE9TSVRJT04ucHJvcHNbcG9zaXRpb25dO1xyXG59XHJcblxyXG5jbGFzcyBQb3J0IHtcclxuICBzdGF0aWMgZ2V0UHJpb3JpdHkob3JpZW50YXRpb24sIGRpcmVjdGlvbikge1xyXG4gICAgbGV0IHByaW9yaXR5T3JkZXI7XHJcblxyXG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xyXG4gICAgICBjYXNlIE9SSUVOVEFUSU9OLlk6XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLk5FR0FUSVZFKSB7XHJcbiAgICAgICAgICBwcmlvcml0eU9yZGVyID0gW1BPU0lUSU9OLk5PUlRILCBQT1NJVElPTi5TT1VUSF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHByaW9yaXR5T3JkZXIgPSBbUE9TSVRJT04uU09VVEgsIFBPU0lUSU9OLk5PUlRIXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIE9SSUVOVEFUSU9OLlg6XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OLk5FR0FUSVZFKSB7XHJcbiAgICAgICAgICBwcmlvcml0eU9yZGVyID0gW1BPU0lUSU9OLldFU1QsIFBPU0lUSU9OLkVBU1RdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcmlvcml0eU9yZGVyID0gW1BPU0lUSU9OLkVBU1QsIFBPU0lUSU9OLldFU1RdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcHJpb3JpdHlPcmRlcjtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICB0aGlzLl9tb2RlID0gbnVsbDtcclxuICAgIHRoaXMuX3Bvc2l0aW9uID0gbnVsbDtcclxuICAgIHRoaXMuX2Nvbm5lY3Rpb25zID0gbmV3IFNldCgpO1xyXG4gICAgdGhpcy5fc2hhcGUgPSBudWxsO1xyXG5cclxuICAgIHNldHRpbmdzID0geyAuLi5ERUZBVUxUUywgLi4uc2V0dGluZ3MgfTtcclxuXHJcbiAgICB0aGlzLl9zZXRTaGFwZShzZXR0aW5ncy5zaGFwZSlcclxuICAgICAgLl9zZXRQb3NpdGlvbihzZXR0aW5ncy5wb3NpdGlvbilcclxuICAgICAgLnNldENvbm5lY3Rpb25zKHNldHRpbmdzLmNvbm5lY3Rpb25zKTtcclxuICB9XHJcblxyXG4gIGdldCBtb2RlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21vZGU7XHJcbiAgfVxyXG5cclxuICBnZXQgb3JpZW50YXRpb24oKSB7XHJcbiAgICByZXR1cm4gZ2V0UG9zaXRpb25Qcm9wcyh0aGlzLl9wb3NpdGlvbikub3JpZW50YXRpb247XHJcbiAgfVxyXG5cclxuICBnZXQgZGlyZWN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGdldFBvc2l0aW9uUHJvcHModGhpcy5fcG9zaXRpb24pLmRpcmVjdGlvbjtcclxuICB9XHJcblxyXG4gIGdldCBzaXplKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25zLnNpemU7XHJcbiAgfVxyXG5cclxuICBfc2V0U2hhcGUoc2hhcGUpIHtcclxuICAgIGlmICghKHNoYXBlIGluc3RhbmNlb2YgQlBNTlNoYXBlKSkge1xyXG4gICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3NoYXBlID0gc2hhcGU7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIF9zZXRQb3NpdGlvbihwb3NpdGlvbikge1xyXG4gICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgaXNBdmFpbGFibGVGb3IobW9kZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX21vZGUgPT09IG51bGwgfHwgdGhpcy5fbW9kZSA9PT0gbW9kZTtcclxuICB9XHJcblxyXG4gIGFkZENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbW9kZSkge1xyXG4gICAgaWYgKCEoY29ubmVjdGlvbiBpbnN0YW5jZW9mIENvbm5lY3Rpb24pKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5pbnZhbGlkUGFyYW1ldGVyKCk7XHJcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9zaGFwZS5pc1VzaW5nQ29ubmVjdGlvbihjb25uZWN0aW9uKSkge1xyXG4gICAgICBFcnJvclRocm93ZXIuY3VzdG9tKCdUaGUgc3VwcGxpZWQgY29ubmVjdGlvbiBkb2VzblxcJ3QgYmVsb25nIHRvIHRoaXMgc2hhcGUuJyk7XHJcbiAgICB9IGVsc2UgaWYgKChtb2RlID09PSBNT0RFLkRFU1QgJiYgY29ubmVjdGlvbi5nZXREZXN0U2hhcGUoKSAhPT0gdGhpcy5fc2hhcGUpXHJcbiAgICAgfHwgKG1vZGUgPT09IE1PREUuT1JJRyAmJiBjb25uZWN0aW9uLmdldE9yaWdTaGFwZSgpICE9PSB0aGlzLl9zaGFwZSkpIHtcclxuICAgICAgRXJyb3JUaHJvd2VyLmN1c3RvbSgnTW9kZSBkb2VzblxcJ3QgbWF0Y2ggd2l0aCBjb25uZWN0aW9uIGRpcmVjdGlvbi4nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobW9kZSAhPT0gdGhpcy5fbW9kZSAmJiB0aGlzLl9tb2RlICE9PSBudWxsKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5jdXN0b20oJ0ludmFsaWQgY29ubmVjdGlvbiBkaXJlY3Rpb24uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fbW9kZSA9IG1vZGU7XHJcbiAgICB0aGlzLl9jb25uZWN0aW9ucy5hZGQoY29ubmVjdGlvbik7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldENvbm5lY3Rpb25zKGNvbm5lY3Rpb25zKSB7XHJcbiAgICBjb25uZWN0aW9ucy5mb3JFYWNoKChjb25uZWN0aW9uLCBtb2RlKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkQ29ubmVjdGlvbihjb25uZWN0aW9uLCBtb2RlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgaGFzQ29ubmVjdGlvbihjb25uZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbnMuaGFzKGNvbm5lY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ29ubmVjdGlvbihjb25uZWN0aW9uKSB7XHJcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbnMuZGVsZXRlKGNvbm5lY3Rpb24pKSB7XHJcbiAgICAgIHRoaXMuX21vZGUgPSB0aGlzLl9jb25uZWN0aW9ucy5zaXplID8gdGhpcy5fbW9kZSA6IG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGNsZWFyQ29ubmVjdGlvbnMoKSB7XHJcbiAgICB0aGlzLl9jb25uZWN0aW9ucy5jbGVhcigpO1xyXG4gICAgdGhpcy5fbW9kZSA9IG51bGw7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGdldERlc2NyaXB0aW9uKCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9wb3NpdGlvbjtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvcmllbnRhdGlvbjogdGhpcy5vcmllbnRhdGlvbixcclxuICAgICAgZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvbixcclxuICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICBwb2ludDogdGhpcy5fc2hhcGUuZ2V0UG9ydFBvaW50KGluZGV4KSxcclxuICAgICAgcG9ydEluZGV4OiBpbmRleCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb3J0O1xyXG5leHBvcnQge1xyXG4gIE9SSUVOVEFUSU9OLCBESVJFQ1RJT04sIE1PREUsIFBPU0lUSU9OLCBnZXRQb3NpdGlvblByb3BzLFxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/Port.js\n");

/***/ }),

/***/ "./src/js/connection/VertexStrategyRepository.js":
/*!*******************************************************!*\
  !*** ./src/js/connection/VertexStrategyRepository.js ***!
  \*******************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/StrategyRepository */ \"./src/js/core/StrategyRepository.js\");\n/* harmony import */ var _strategy_RectVertexStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/RectVertexStrategy */ \"./src/js/connection/strategy/RectVertexStrategy.js\");\n/* harmony import */ var _strategy_ArcVertextStrategy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strategy/ArcVertextStrategy */ \"./src/js/connection/strategy/ArcVertextStrategy.js\");\n\r\n\r\n\r\n\r\n// TODO: maybe this enum could use integer values instead of strings.\r\nconst PRODUCTS = Object.freeze({\r\n  RECT: 0,\r\n  ARC: 1,\r\n});\r\n\r\nconst VertexStrategyRepository = new _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.RECT]: _strategy_RectVertexStrategy__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n    [PRODUCTS.ARC]: _strategy_ArcVertextStrategy__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (VertexStrategyRepository);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9WZXJ0ZXhTdHJhdGVneVJlcG9zaXRvcnkuanM/MWQ0YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTREO0FBQ0k7QUFDRjs7QUFFOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHFDQUFxQyxnRUFBa0I7QUFDdkQ7QUFDQSxxQkFBcUIsb0VBQW1CO0FBQ3hDLG9CQUFvQixvRUFBaUI7QUFDckMsR0FBRztBQUNILENBQUM7O0FBRWMsdUZBQXdCLEVBQUM7QUFDcEIiLCJmaWxlIjoiLi9zcmMvanMvY29ubmVjdGlvbi9WZXJ0ZXhTdHJhdGVneVJlcG9zaXRvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RyYXRlZ3lSZXBvc2l0b3J5IGZyb20gJy4uL2NvcmUvU3RyYXRlZ3lSZXBvc2l0b3J5JztcclxuaW1wb3J0IFJlY3RWZXJ0ZXh0U3RyYXRlZ3kgZnJvbSAnLi9zdHJhdGVneS9SZWN0VmVydGV4U3RyYXRlZ3knO1xyXG5pbXBvcnQgQXJjVmVydGV4U3RyYXRlZ3kgZnJvbSAnLi9zdHJhdGVneS9BcmNWZXJ0ZXh0U3RyYXRlZ3knO1xyXG5cclxuLy8gVE9ETzogbWF5YmUgdGhpcyBlbnVtIGNvdWxkIHVzZSBpbnRlZ2VyIHZhbHVlcyBpbnN0ZWFkIG9mIHN0cmluZ3MuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgUkVDVDogMCxcclxuICBBUkM6IDEsXHJcbn0pO1xyXG5cclxuY29uc3QgVmVydGV4U3RyYXRlZ3lSZXBvc2l0b3J5ID0gbmV3IFN0cmF0ZWd5UmVwb3NpdG9yeSh7XHJcbiAgcHJvZHVjdHM6IHtcclxuICAgIFtQUk9EVUNUUy5SRUNUXTogUmVjdFZlcnRleHRTdHJhdGVneSxcclxuICAgIFtQUk9EVUNUUy5BUkNdOiBBcmNWZXJ0ZXhTdHJhdGVneSxcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZlcnRleFN0cmF0ZWd5UmVwb3NpdG9yeTtcclxuZXhwb3J0IHsgUFJPRFVDVFMgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/connection/VertexStrategyRepository.js\n");

/***/ }),

/***/ "./src/js/connection/WaypointStrategyRepository.js":
/*!*********************************************************!*\
  !*** ./src/js/connection/WaypointStrategyRepository.js ***!
  \*********************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/StrategyRepository */ \"./src/js/core/StrategyRepository.js\");\n/* harmony import */ var _strategy_RectWaypointStrategy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./strategy/RectWaypointStrategy */ \"./src/js/connection/strategy/RectWaypointStrategy.js\");\n\r\n\r\n\r\n// TODO: maybe this enum could use integer values instead of strings.\r\nconst PRODUCTS = Object.freeze({\r\n  RECT: 0,\r\n});\r\n\r\nconst WaypointStrategyRepository = new _core_StrategyRepository__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.RECT]: _strategy_RectWaypointStrategy__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (WaypointStrategyRepository);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9XYXlwb2ludFN0cmF0ZWd5UmVwb3NpdG9yeS5qcz83OTA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTREO0FBQ1M7O0FBRXJFO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsdUNBQXVDLGdFQUFrQjtBQUN6RDtBQUNBLHFCQUFxQixzRUFBc0I7QUFDM0MsR0FBRztBQUNILENBQUM7O0FBRWMseUZBQTBCLEVBQUM7QUFDdEIiLCJmaWxlIjoiLi9zcmMvanMvY29ubmVjdGlvbi9XYXlwb2ludFN0cmF0ZWd5UmVwb3NpdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTdHJhdGVneVJlcG9zaXRvcnkgZnJvbSAnLi4vY29yZS9TdHJhdGVneVJlcG9zaXRvcnknO1xyXG5pbXBvcnQgUmVjdFdheXBvaW50UmVwb3NpdG9yeSBmcm9tICcuL3N0cmF0ZWd5L1JlY3RXYXlwb2ludFN0cmF0ZWd5JztcclxuXHJcbi8vIFRPRE86IG1heWJlIHRoaXMgZW51bSBjb3VsZCB1c2UgaW50ZWdlciB2YWx1ZXMgaW5zdGVhZCBvZiBzdHJpbmdzLlxyXG5jb25zdCBQUk9EVUNUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIFJFQ1Q6IDAsXHJcbn0pO1xyXG5cclxuY29uc3QgV2F5cG9pbnRTdHJhdGVneVJlcG9zaXRvcnkgPSBuZXcgU3RyYXRlZ3lSZXBvc2l0b3J5KHtcclxuICBwcm9kdWN0czoge1xyXG4gICAgW1BST0RVQ1RTLlJFQ1RdOiBSZWN0V2F5cG9pbnRSZXBvc2l0b3J5LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgV2F5cG9pbnRTdHJhdGVneVJlcG9zaXRvcnk7XHJcbmV4cG9ydCB7IFBST0RVQ1RTIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/connection/WaypointStrategyRepository.js\n");

/***/ }),

/***/ "./src/js/connection/strategy/ArcIntersectionStrategy.js":
/*!***************************************************************!*\
  !*** ./src/js/connection/strategy/ArcIntersectionStrategy.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _Connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _Port__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Port */ \"./src/js/connection/Port.js\");\n\r\n\r\n\r\n\r\nconst SIZE = 10;\r\n\r\nconst ArcIntersectionStrategy = function arcIntersectionStrategy(point, { from, to }, previousIntersection) {\r\n  const segmentLength = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPathLength(from, to);\r\n  const segmentOrientation = _Connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]._getSegmentOrientation(from, to);\r\n  const segmentDirection = _Connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]._getSegmentDirection(from, to);\r\n  const halfSize = SIZE / 2;\r\n  let replace = false;\r\n  let intersectionPoint = point;\r\n  let size = SIZE;\r\n\r\n  if (segmentLength < size) {\r\n    if (previousIntersection) {\r\n      const previousSize = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPathLength(previousIntersection.start, previousIntersection.end);\r\n\r\n      size = previousSize + segmentLength;\r\n      intersectionPoint = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMiddlePoint(previousIntersection.start, to);\r\n      replace = true;\r\n    } else {\r\n      size = segmentLength;\r\n      intersectionPoint = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMiddlePoint(from, to);\r\n    }\r\n  } else if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPathLength(from, point) < halfSize) {\r\n    if (previousIntersection) {\r\n      const end = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePoint(point, halfSize * segmentDirection, segmentOrientation);\r\n\r\n      size = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPathLength(previousIntersection.start, end);\r\n      intersectionPoint = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getMiddlePoint(previousIntersection.start, end);\r\n      replace = true;\r\n    } else {\r\n      intersectionPoint = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePoint(from, (halfSize) * segmentDirection, segmentOrientation);\r\n    }\r\n  } else if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getPathLength(to, point) < halfSize) {\r\n    intersectionPoint = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].movePoint(to, (halfSize) * segmentDirection * -1, segmentOrientation);\r\n  }\r\n\r\n  if (size) {\r\n    const normalizedSize = size * segmentDirection;\r\n    const diff = normalizedSize;\r\n    const distance = diff / 2;\r\n    let { x: x1, y: y1 } = intersectionPoint;\r\n    let { x: x2, y: y2 } = intersectionPoint;\r\n    let xDiff = 0;\r\n    let yDiff = 0;\r\n\r\n    if (segmentOrientation === _Port__WEBPACK_IMPORTED_MODULE_2__[\"ORIENTATION\"].X) {\r\n      x1 -= distance;\r\n      x2 += distance;\r\n      yDiff = normalizedSize;\r\n    } else {\r\n      // TODO: assuming that it's Y, won't work when supporting diagonal lines.\r\n      y1 -= distance;\r\n      y2 += distance;\r\n      xDiff = normalizedSize;\r\n    }\r\n\r\n    return {\r\n      start: { x: x1, y: y1 },\r\n      end: { x: x2, y: y2 },\r\n      data: `c${xDiff} ${yDiff}, ${normalizedSize} ${normalizedSize}, ${yDiff} ${xDiff}`,\r\n      replace,\r\n    };\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ArcIntersectionStrategy);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9zdHJhdGVneS9BcmNJbnRlcnNlY3Rpb25TdHJhdGVneS5qcz8xNTEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRDO0FBQ0w7QUFDRDs7QUFFdEM7O0FBRUEseUVBQXlFLFdBQVc7QUFDcEYsd0JBQXdCLHVEQUFRO0FBQ2hDLDZCQUE2QixtREFBVTtBQUN2QywyQkFBMkIsbURBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQix1REFBUTs7QUFFbkM7QUFDQSwwQkFBMEIsdURBQVE7QUFDbEM7QUFDQSxLQUFLO0FBQ0w7QUFDQSwwQkFBMEIsdURBQVE7QUFDbEM7QUFDQSxHQUFHLFVBQVUsdURBQVE7QUFDckI7QUFDQSxrQkFBa0IsdURBQVE7O0FBRTFCLGFBQWEsdURBQVE7QUFDckIsMEJBQTBCLHVEQUFRO0FBQ2xDO0FBQ0EsS0FBSztBQUNMLDBCQUEwQix1REFBUTtBQUNsQztBQUNBLEdBQUcsVUFBVSx1REFBUTtBQUNyQix3QkFBd0IsdURBQVE7QUFDaEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGVBQWU7QUFDeEIsU0FBUyxlQUFlO0FBQ3hCO0FBQ0E7O0FBRUEsK0JBQStCLGlEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxlQUFlO0FBQzdCLFlBQVksZUFBZTtBQUMzQixnQkFBZ0IsTUFBTSxHQUFHLE1BQU0sSUFBSSxlQUFlLEdBQUcsZUFBZSxJQUFJLE1BQU0sR0FBRyxNQUFNO0FBQ3ZGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVlLHNGQUF1QixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2Nvbm5lY3Rpb24vc3RyYXRlZ3kvQXJjSW50ZXJzZWN0aW9uU3RyYXRlZ3kuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vLi4vdXRpbHMvR2VvbWV0cnknO1xyXG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9Db25uZWN0aW9uJztcclxuaW1wb3J0IHsgT1JJRU5UQVRJT04gfSBmcm9tICcuLi9Qb3J0JztcclxuXHJcbmNvbnN0IFNJWkUgPSAxMDtcclxuXHJcbmNvbnN0IEFyY0ludGVyc2VjdGlvblN0cmF0ZWd5ID0gZnVuY3Rpb24gYXJjSW50ZXJzZWN0aW9uU3RyYXRlZ3kocG9pbnQsIHsgZnJvbSwgdG8gfSwgcHJldmlvdXNJbnRlcnNlY3Rpb24pIHtcclxuICBjb25zdCBzZWdtZW50TGVuZ3RoID0gR2VvbWV0cnkuZ2V0UGF0aExlbmd0aChmcm9tLCB0byk7XHJcbiAgY29uc3Qgc2VnbWVudE9yaWVudGF0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudE9yaWVudGF0aW9uKGZyb20sIHRvKTtcclxuICBjb25zdCBzZWdtZW50RGlyZWN0aW9uID0gQ29ubmVjdGlvbi5fZ2V0U2VnbWVudERpcmVjdGlvbihmcm9tLCB0byk7XHJcbiAgY29uc3QgaGFsZlNpemUgPSBTSVpFIC8gMjtcclxuICBsZXQgcmVwbGFjZSA9IGZhbHNlO1xyXG4gIGxldCBpbnRlcnNlY3Rpb25Qb2ludCA9IHBvaW50O1xyXG4gIGxldCBzaXplID0gU0laRTtcclxuXHJcbiAgaWYgKHNlZ21lbnRMZW5ndGggPCBzaXplKSB7XHJcbiAgICBpZiAocHJldmlvdXNJbnRlcnNlY3Rpb24pIHtcclxuICAgICAgY29uc3QgcHJldmlvdXNTaXplID0gR2VvbWV0cnkuZ2V0UGF0aExlbmd0aChwcmV2aW91c0ludGVyc2VjdGlvbi5zdGFydCwgcHJldmlvdXNJbnRlcnNlY3Rpb24uZW5kKTtcclxuXHJcbiAgICAgIHNpemUgPSBwcmV2aW91c1NpemUgKyBzZWdtZW50TGVuZ3RoO1xyXG4gICAgICBpbnRlcnNlY3Rpb25Qb2ludCA9IEdlb21ldHJ5LmdldE1pZGRsZVBvaW50KHByZXZpb3VzSW50ZXJzZWN0aW9uLnN0YXJ0LCB0byk7XHJcbiAgICAgIHJlcGxhY2UgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2l6ZSA9IHNlZ21lbnRMZW5ndGg7XHJcbiAgICAgIGludGVyc2VjdGlvblBvaW50ID0gR2VvbWV0cnkuZ2V0TWlkZGxlUG9pbnQoZnJvbSwgdG8pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoR2VvbWV0cnkuZ2V0UGF0aExlbmd0aChmcm9tLCBwb2ludCkgPCBoYWxmU2l6ZSkge1xyXG4gICAgaWYgKHByZXZpb3VzSW50ZXJzZWN0aW9uKSB7XHJcbiAgICAgIGNvbnN0IGVuZCA9IEdlb21ldHJ5Lm1vdmVQb2ludChwb2ludCwgaGFsZlNpemUgKiBzZWdtZW50RGlyZWN0aW9uLCBzZWdtZW50T3JpZW50YXRpb24pO1xyXG5cclxuICAgICAgc2l6ZSA9IEdlb21ldHJ5LmdldFBhdGhMZW5ndGgocHJldmlvdXNJbnRlcnNlY3Rpb24uc3RhcnQsIGVuZCk7XHJcbiAgICAgIGludGVyc2VjdGlvblBvaW50ID0gR2VvbWV0cnkuZ2V0TWlkZGxlUG9pbnQocHJldmlvdXNJbnRlcnNlY3Rpb24uc3RhcnQsIGVuZCk7XHJcbiAgICAgIHJlcGxhY2UgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaW50ZXJzZWN0aW9uUG9pbnQgPSBHZW9tZXRyeS5tb3ZlUG9pbnQoZnJvbSwgKGhhbGZTaXplKSAqIHNlZ21lbnREaXJlY3Rpb24sIHNlZ21lbnRPcmllbnRhdGlvbik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChHZW9tZXRyeS5nZXRQYXRoTGVuZ3RoKHRvLCBwb2ludCkgPCBoYWxmU2l6ZSkge1xyXG4gICAgaW50ZXJzZWN0aW9uUG9pbnQgPSBHZW9tZXRyeS5tb3ZlUG9pbnQodG8sIChoYWxmU2l6ZSkgKiBzZWdtZW50RGlyZWN0aW9uICogLTEsIHNlZ21lbnRPcmllbnRhdGlvbik7XHJcbiAgfVxyXG5cclxuICBpZiAoc2l6ZSkge1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZFNpemUgPSBzaXplICogc2VnbWVudERpcmVjdGlvbjtcclxuICAgIGNvbnN0IGRpZmYgPSBub3JtYWxpemVkU2l6ZTtcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gZGlmZiAvIDI7XHJcbiAgICBsZXQgeyB4OiB4MSwgeTogeTEgfSA9IGludGVyc2VjdGlvblBvaW50O1xyXG4gICAgbGV0IHsgeDogeDIsIHk6IHkyIH0gPSBpbnRlcnNlY3Rpb25Qb2ludDtcclxuICAgIGxldCB4RGlmZiA9IDA7XHJcbiAgICBsZXQgeURpZmYgPSAwO1xyXG5cclxuICAgIGlmIChzZWdtZW50T3JpZW50YXRpb24gPT09IE9SSUVOVEFUSU9OLlgpIHtcclxuICAgICAgeDEgLT0gZGlzdGFuY2U7XHJcbiAgICAgIHgyICs9IGRpc3RhbmNlO1xyXG4gICAgICB5RGlmZiA9IG5vcm1hbGl6ZWRTaXplO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVE9ETzogYXNzdW1pbmcgdGhhdCBpdCdzIFksIHdvbid0IHdvcmsgd2hlbiBzdXBwb3J0aW5nIGRpYWdvbmFsIGxpbmVzLlxyXG4gICAgICB5MSAtPSBkaXN0YW5jZTtcclxuICAgICAgeTIgKz0gZGlzdGFuY2U7XHJcbiAgICAgIHhEaWZmID0gbm9ybWFsaXplZFNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3RhcnQ6IHsgeDogeDEsIHk6IHkxIH0sXHJcbiAgICAgIGVuZDogeyB4OiB4MiwgeTogeTIgfSxcclxuICAgICAgZGF0YTogYGMke3hEaWZmfSAke3lEaWZmfSwgJHtub3JtYWxpemVkU2l6ZX0gJHtub3JtYWxpemVkU2l6ZX0sICR7eURpZmZ9ICR7eERpZmZ9YCxcclxuICAgICAgcmVwbGFjZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbnVsbDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFyY0ludGVyc2VjdGlvblN0cmF0ZWd5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/strategy/ArcIntersectionStrategy.js\n");

/***/ }),

/***/ "./src/js/connection/strategy/ArcVertextStrategy.js":
/*!**********************************************************!*\
  !*** ./src/js/connection/strategy/ArcVertextStrategy.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst ArcVertexStrategy = function arcVertexStrategy(start, middle, end) {\r\n  return `Q ${middle.x} ${middle.y} ${end.x} ${end.y}`;\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ArcVertexStrategy);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9zdHJhdGVneS9BcmNWZXJ0ZXh0U3RyYXRlZ3kuanM/ZTY2NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0EsY0FBYyxTQUFTLEdBQUcsU0FBUyxHQUFHLE1BQU0sR0FBRyxNQUFNO0FBQ3JEOztBQUVlLGdGQUFpQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2Nvbm5lY3Rpb24vc3RyYXRlZ3kvQXJjVmVydGV4dFN0cmF0ZWd5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQXJjVmVydGV4U3RyYXRlZ3kgPSBmdW5jdGlvbiBhcmNWZXJ0ZXhTdHJhdGVneShzdGFydCwgbWlkZGxlLCBlbmQpIHtcclxuICByZXR1cm4gYFEgJHttaWRkbGUueH0gJHttaWRkbGUueX0gJHtlbmQueH0gJHtlbmQueX1gO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXJjVmVydGV4U3RyYXRlZ3k7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/connection/strategy/ArcVertextStrategy.js\n");

/***/ }),

/***/ "./src/js/connection/strategy/RectVertexStrategy.js":
/*!**********************************************************!*\
  !*** ./src/js/connection/strategy/RectVertexStrategy.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// eslint-disable-next-line no-unused-vars\r\nconst RectVertexStrategy = function rectVertexStrategy(start, middle, end) {\r\n  return `L${middle.x} ${middle.y}`;\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (RectVertexStrategy);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9zdHJhdGVneS9SZWN0VmVydGV4U3RyYXRlZ3kuanM/YWEwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQSxhQUFhLFNBQVMsR0FBRyxTQUFTO0FBQ2xDOztBQUVlLGlGQUFrQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2Nvbm5lY3Rpb24vc3RyYXRlZ3kvUmVjdFZlcnRleFN0cmF0ZWd5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbmNvbnN0IFJlY3RWZXJ0ZXhTdHJhdGVneSA9IGZ1bmN0aW9uIHJlY3RWZXJ0ZXhTdHJhdGVneShzdGFydCwgbWlkZGxlLCBlbmQpIHtcclxuICByZXR1cm4gYEwke21pZGRsZS54fSAke21pZGRsZS55fWA7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSZWN0VmVydGV4U3RyYXRlZ3k7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/connection/strategy/RectVertexStrategy.js\n");

/***/ }),

/***/ "./src/js/connection/strategy/RectWaypointStrategy.js":
/*!************************************************************!*\
  !*** ./src/js/connection/strategy/RectWaypointStrategy.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _Port__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _Connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Connection */ \"./src/js/connection/Connection.js\");\n\r\n\r\n\r\n\r\n/**\r\n * @private\r\n * @description Return the next point based on the a point description and a distance.\r\n * @param {Object} descriptor Point description.\r\n * @param {Number} distance Amount of units to move the point.\r\n * @returns {Point} A point.\r\n */\r\nfunction getNextPoint(descriptor, distance) {\r\n  const { x, y } = descriptor.point;\r\n  const { orientation } = descriptor;\r\n\r\n  return {\r\n    x: x + (orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X ? distance : 0),\r\n    y: y + (orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y ? distance : 0),\r\n  };\r\n}\r\n\r\n/**\r\n * @private\r\n * @description Returns the next descriptor based on a previous one.\r\n * @param {Object} descriptor The descriptor the next one will be calculated from.\r\n * @param {Object} normalizedPos The normalized position.\r\n * @param {Number} directionFactor The direction factor.\r\n * @returns {Object} An object that represents a point descriptor.\r\n */\r\nfunction getNextDescriptor(descriptor, normalizedPos, directionFactor) {\r\n  const { direction } = descriptor;\r\n  // TODO: ARROW_SEGMENT_LENGTH should be defined in another place\r\n  const point = getNextPoint(descriptor, _Connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ARROW_SEGMENT_LENGTH * direction);\r\n\r\n  return {\r\n    point,\r\n    orientation: descriptor.orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X\r\n      ? _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y : _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X,\r\n    direction: ((descriptor.orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X\r\n      ? normalizedPos.y : normalizedPos.x) * directionFactor) || 1,\r\n  };\r\n}\r\n\r\n/**\r\n * @description Returns an array of intermediate points from an origin an a destiny point.\r\n * @param {Object} orig The origin descriptor.\r\n * @param {Object} dest The destiny descriptor.\r\n * @returns {Array}\r\n */\r\nconst RectWaypointStrategy = function RectWaypointStrategy(orig, dest) {\r\n  const normalizedPos = _utils_Geometry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getNormalizedPosition(orig.point, dest.point);\r\n  let target;\r\n  let directionFactor;\r\n\r\n  // orig point direction is opposite to its destiny.\r\n  if (orig.direction !== normalizedPos[orig.orientation]) {\r\n    target = orig;\r\n    directionFactor = 1;\r\n  // dest point direction is opposite to its destiny\r\n  } else if (dest.direction !== normalizedPos[dest.orientation] * -1) {\r\n    target = dest;\r\n    directionFactor = -1;\r\n  }\r\n\r\n  // if any of the point directions (orig or dest) is opposite respect each other\r\n  if (target) {\r\n    const newTarget = getNextDescriptor(target, normalizedPos, directionFactor);\r\n    const { point } = newTarget;\r\n\r\n    if (target === orig) {\r\n      return [orig.point, point].concat(RectWaypointStrategy(newTarget, dest));\r\n    }\r\n\r\n    return RectWaypointStrategy(orig, newTarget).concat(point, dest.point);\r\n  }\r\n\r\n  // None of the points (orig and dest) direction is opposite respect the other one.\r\n  if (orig.orientation !== dest.orientation) {\r\n    return [\r\n      orig.point,\r\n      {\r\n        x: orig.orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X ? dest.point.x : orig.point.x,\r\n        y: dest.orientation === _Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X ? dest.point.y : orig.point.y,\r\n      },\r\n      dest.point];\r\n  }\r\n\r\n  // Both points have the same orientation (validated above) and they're at the same level\r\n  if (orig.point.x === dest.point.x || orig.point.y === dest.point.y) {\r\n    return [orig.point, dest.point];\r\n  }\r\n\r\n  const diff = (dest.point[orig.orientation] - orig.point[orig.orientation]) / 2;\r\n\r\n  return [\r\n    orig.point,\r\n    getNextPoint(orig, diff),\r\n    getNextPoint(dest, diff * -1),\r\n    dest.point,\r\n  ];\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (RectWaypointStrategy);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9zdHJhdGVneS9SZWN0V2F5cG9pbnRTdHJhdGVneS5qcz8zMTM2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRDO0FBQ2M7QUFDbkI7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQSxTQUFTLE9BQU87QUFDaEIsU0FBUyxjQUFjOztBQUV2QjtBQUNBLDRCQUE0QixpREFBZ0I7QUFDNUMsNEJBQTRCLGlEQUFnQjtBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsU0FBUyxZQUFZO0FBQ3JCO0FBQ0EseUNBQXlDLG1EQUFVOztBQUVuRDtBQUNBO0FBQ0EsNENBQTRDLGlEQUFnQjtBQUM1RCxRQUFRLGlEQUFnQixLQUFLLGlEQUFnQjtBQUM3Qyw0Q0FBNEMsaURBQWdCO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBLHdCQUF3Qix1REFBUTtBQUNoQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTs7QUFFbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpREFBZ0I7QUFDaEQsZ0NBQWdDLGlEQUFnQjtBQUNoRCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxtRkFBb0IsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9jb25uZWN0aW9uL3N0cmF0ZWd5L1JlY3RXYXlwb2ludFN0cmF0ZWd5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uLy4uL3V0aWxzL0dlb21ldHJ5JztcclxuaW1wb3J0IHsgT1JJRU5UQVRJT04gYXMgUE9SVF9PUklFTlRBVElPTiB9IGZyb20gJy4uL1BvcnQnO1xyXG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9Db25uZWN0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJuIHRoZSBuZXh0IHBvaW50IGJhc2VkIG9uIHRoZSBhIHBvaW50IGRlc2NyaXB0aW9uIGFuZCBhIGRpc3RhbmNlLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzY3JpcHRvciBQb2ludCBkZXNjcmlwdGlvbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGRpc3RhbmNlIEFtb3VudCBvZiB1bml0cyB0byBtb3ZlIHRoZSBwb2ludC5cclxuICogQHJldHVybnMge1BvaW50fSBBIHBvaW50LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TmV4dFBvaW50KGRlc2NyaXB0b3IsIGRpc3RhbmNlKSB7XHJcbiAgY29uc3QgeyB4LCB5IH0gPSBkZXNjcmlwdG9yLnBvaW50O1xyXG4gIGNvbnN0IHsgb3JpZW50YXRpb24gfSA9IGRlc2NyaXB0b3I7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB4OiB4ICsgKG9yaWVudGF0aW9uID09PSBQT1JUX09SSUVOVEFUSU9OLlggPyBkaXN0YW5jZSA6IDApLFxyXG4gICAgeTogeSArIChvcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5ZID8gZGlzdGFuY2UgOiAwKSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIG5leHQgZGVzY3JpcHRvciBiYXNlZCBvbiBhIHByZXZpb3VzIG9uZS5cclxuICogQHBhcmFtIHtPYmplY3R9IGRlc2NyaXB0b3IgVGhlIGRlc2NyaXB0b3IgdGhlIG5leHQgb25lIHdpbGwgYmUgY2FsY3VsYXRlZCBmcm9tLlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbm9ybWFsaXplZFBvcyBUaGUgbm9ybWFsaXplZCBwb3NpdGlvbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGRpcmVjdGlvbkZhY3RvciBUaGUgZGlyZWN0aW9uIGZhY3Rvci5cclxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIHBvaW50IGRlc2NyaXB0b3IuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXROZXh0RGVzY3JpcHRvcihkZXNjcmlwdG9yLCBub3JtYWxpemVkUG9zLCBkaXJlY3Rpb25GYWN0b3IpIHtcclxuICBjb25zdCB7IGRpcmVjdGlvbiB9ID0gZGVzY3JpcHRvcjtcclxuICAvLyBUT0RPOiBBUlJPV19TRUdNRU5UX0xFTkdUSCBzaG91bGQgYmUgZGVmaW5lZCBpbiBhbm90aGVyIHBsYWNlXHJcbiAgY29uc3QgcG9pbnQgPSBnZXROZXh0UG9pbnQoZGVzY3JpcHRvciwgQ29ubmVjdGlvbi5BUlJPV19TRUdNRU5UX0xFTkdUSCAqIGRpcmVjdGlvbik7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBwb2ludCxcclxuICAgIG9yaWVudGF0aW9uOiBkZXNjcmlwdG9yLm9yaWVudGF0aW9uID09PSBQT1JUX09SSUVOVEFUSU9OLlhcclxuICAgICAgPyBQT1JUX09SSUVOVEFUSU9OLlkgOiBQT1JUX09SSUVOVEFUSU9OLlgsXHJcbiAgICBkaXJlY3Rpb246ICgoZGVzY3JpcHRvci5vcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5YXHJcbiAgICAgID8gbm9ybWFsaXplZFBvcy55IDogbm9ybWFsaXplZFBvcy54KSAqIGRpcmVjdGlvbkZhY3RvcikgfHwgMSxcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uIFJldHVybnMgYW4gYXJyYXkgb2YgaW50ZXJtZWRpYXRlIHBvaW50cyBmcm9tIGFuIG9yaWdpbiBhbiBhIGRlc3RpbnkgcG9pbnQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcmlnIFRoZSBvcmlnaW4gZGVzY3JpcHRvci5cclxuICogQHBhcmFtIHtPYmplY3R9IGRlc3QgVGhlIGRlc3RpbnkgZGVzY3JpcHRvci5cclxuICogQHJldHVybnMge0FycmF5fVxyXG4gKi9cclxuY29uc3QgUmVjdFdheXBvaW50U3RyYXRlZ3kgPSBmdW5jdGlvbiBSZWN0V2F5cG9pbnRTdHJhdGVneShvcmlnLCBkZXN0KSB7XHJcbiAgY29uc3Qgbm9ybWFsaXplZFBvcyA9IEdlb21ldHJ5LmdldE5vcm1hbGl6ZWRQb3NpdGlvbihvcmlnLnBvaW50LCBkZXN0LnBvaW50KTtcclxuICBsZXQgdGFyZ2V0O1xyXG4gIGxldCBkaXJlY3Rpb25GYWN0b3I7XHJcblxyXG4gIC8vIG9yaWcgcG9pbnQgZGlyZWN0aW9uIGlzIG9wcG9zaXRlIHRvIGl0cyBkZXN0aW55LlxyXG4gIGlmIChvcmlnLmRpcmVjdGlvbiAhPT0gbm9ybWFsaXplZFBvc1tvcmlnLm9yaWVudGF0aW9uXSkge1xyXG4gICAgdGFyZ2V0ID0gb3JpZztcclxuICAgIGRpcmVjdGlvbkZhY3RvciA9IDE7XHJcbiAgLy8gZGVzdCBwb2ludCBkaXJlY3Rpb24gaXMgb3Bwb3NpdGUgdG8gaXRzIGRlc3RpbnlcclxuICB9IGVsc2UgaWYgKGRlc3QuZGlyZWN0aW9uICE9PSBub3JtYWxpemVkUG9zW2Rlc3Qub3JpZW50YXRpb25dICogLTEpIHtcclxuICAgIHRhcmdldCA9IGRlc3Q7XHJcbiAgICBkaXJlY3Rpb25GYWN0b3IgPSAtMTtcclxuICB9XHJcblxyXG4gIC8vIGlmIGFueSBvZiB0aGUgcG9pbnQgZGlyZWN0aW9ucyAob3JpZyBvciBkZXN0KSBpcyBvcHBvc2l0ZSByZXNwZWN0IGVhY2ggb3RoZXJcclxuICBpZiAodGFyZ2V0KSB7XHJcbiAgICBjb25zdCBuZXdUYXJnZXQgPSBnZXROZXh0RGVzY3JpcHRvcih0YXJnZXQsIG5vcm1hbGl6ZWRQb3MsIGRpcmVjdGlvbkZhY3Rvcik7XHJcbiAgICBjb25zdCB7IHBvaW50IH0gPSBuZXdUYXJnZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldCA9PT0gb3JpZykge1xyXG4gICAgICByZXR1cm4gW29yaWcucG9pbnQsIHBvaW50XS5jb25jYXQoUmVjdFdheXBvaW50U3RyYXRlZ3kobmV3VGFyZ2V0LCBkZXN0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFJlY3RXYXlwb2ludFN0cmF0ZWd5KG9yaWcsIG5ld1RhcmdldCkuY29uY2F0KHBvaW50LCBkZXN0LnBvaW50KTtcclxuICB9XHJcblxyXG4gIC8vIE5vbmUgb2YgdGhlIHBvaW50cyAob3JpZyBhbmQgZGVzdCkgZGlyZWN0aW9uIGlzIG9wcG9zaXRlIHJlc3BlY3QgdGhlIG90aGVyIG9uZS5cclxuICBpZiAob3JpZy5vcmllbnRhdGlvbiAhPT0gZGVzdC5vcmllbnRhdGlvbikge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgb3JpZy5wb2ludCxcclxuICAgICAge1xyXG4gICAgICAgIHg6IG9yaWcub3JpZW50YXRpb24gPT09IFBPUlRfT1JJRU5UQVRJT04uWCA/IGRlc3QucG9pbnQueCA6IG9yaWcucG9pbnQueCxcclxuICAgICAgICB5OiBkZXN0Lm9yaWVudGF0aW9uID09PSBQT1JUX09SSUVOVEFUSU9OLlggPyBkZXN0LnBvaW50LnkgOiBvcmlnLnBvaW50LnksXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlc3QucG9pbnRdO1xyXG4gIH1cclxuXHJcbiAgLy8gQm90aCBwb2ludHMgaGF2ZSB0aGUgc2FtZSBvcmllbnRhdGlvbiAodmFsaWRhdGVkIGFib3ZlKSBhbmQgdGhleSdyZSBhdCB0aGUgc2FtZSBsZXZlbFxyXG4gIGlmIChvcmlnLnBvaW50LnggPT09IGRlc3QucG9pbnQueCB8fCBvcmlnLnBvaW50LnkgPT09IGRlc3QucG9pbnQueSkge1xyXG4gICAgcmV0dXJuIFtvcmlnLnBvaW50LCBkZXN0LnBvaW50XTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRpZmYgPSAoZGVzdC5wb2ludFtvcmlnLm9yaWVudGF0aW9uXSAtIG9yaWcucG9pbnRbb3JpZy5vcmllbnRhdGlvbl0pIC8gMjtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIG9yaWcucG9pbnQsXHJcbiAgICBnZXROZXh0UG9pbnQob3JpZywgZGlmZiksXHJcbiAgICBnZXROZXh0UG9pbnQoZGVzdCwgZGlmZiAqIC0xKSxcclxuICAgIGRlc3QucG9pbnQsXHJcbiAgXTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlY3RXYXlwb2ludFN0cmF0ZWd5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/strategy/RectWaypointStrategy.js\n");

/***/ }),

/***/ "./src/js/connection/strategy/StraightLineStrategy.js":
/*!************************************************************!*\
  !*** ./src/js/connection/strategy/StraightLineStrategy.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst StraightLineStrategy = function straightLineStrategy(startPoint, endPoint) {\r\n  return `L${endPoint.x} ${endPoint.y}`;\r\n};\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (StraightLineStrategy);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29ubmVjdGlvbi9zdHJhdGVneS9TdHJhaWdodExpbmVTdHJhdGVneS5qcz8yYTg1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQSxhQUFhLFdBQVcsR0FBRyxXQUFXO0FBQ3RDOztBQUVlLG1GQUFvQixFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2Nvbm5lY3Rpb24vc3RyYXRlZ3kvU3RyYWlnaHRMaW5lU3RyYXRlZ3kuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTdHJhaWdodExpbmVTdHJhdGVneSA9IGZ1bmN0aW9uIHN0cmFpZ2h0TGluZVN0cmF0ZWd5KHN0YXJ0UG9pbnQsIGVuZFBvaW50KSB7XHJcbiAgcmV0dXJuIGBMJHtlbmRQb2ludC54fSAke2VuZFBvaW50Lnl9YDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0cmFpZ2h0TGluZVN0cmF0ZWd5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/connection/strategy/StraightLineStrategy.js\n");

/***/ }),

/***/ "./src/js/core/BaseElement.js":
/*!************************************!*\
  !*** ./src/js/core/BaseElement.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var uuid_v1__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid/v1 */ \"./node_modules/uuid/v1.js\");\n/* harmony import */ var uuid_v1__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid_v1__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n/**\r\n * @class The base class for every component that has a HTML representation.\r\n*/\r\nclass BaseElement {\r\n  /**\r\n   * Create a new HTMLElement\r\n   * @param {String} [tag=\"div\"] The tag name for the new element.\r\n   * @return {HTMLElement} The new HTMLElement\r\n   */\r\n  static create(tag = 'div') {\r\n    return document.createElement(tag);\r\n  }\r\n\r\n  /**\r\n   * Creates a new SVGElement.\r\n   * @param {String} tagName The tag name for the new SVG element.\r\n   * @return {SVGElement} The new SVGElement\r\n   */\r\n  static createSVG(tagName) {\r\n    return document.createElementNS('http://www.w3.org/2000/svg', tagName);\r\n  }\r\n\r\n  static get type() {\r\n    return 'element';\r\n  }\r\n\r\n  /**\r\n   * Return the type of the object.\r\n   * @returns {String} The type name.\r\n   */\r\n  get type() {\r\n    return this.constructor.type;\r\n  }\r\n\r\n  /**\r\n   * Create an instance of BaseElement.\r\n   * @constructor\r\n   * @param {Object} settings An object containing all the settings for the element.\r\n   * @param {String} [settings.id] The id for the HTML element, if not provided one will be generated.\r\n   */\r\n  constructor(settings) {\r\n    /**\r\n     * @protected\r\n     * @type {String}\r\n     * @description The instance's id.\r\n     */\r\n    this._id = null;\r\n    /**\r\n     * @protected\r\n     * @type {HTMLElement}\r\n     * @description The instance's HTML.\r\n     */\r\n    this._el = null;\r\n\r\n    settings = {\r\n      id: uuid_v1__WEBPACK_IMPORTED_MODULE_0___default()(),\r\n      ...settings,\r\n    };\r\n\r\n    this.setID(settings.id);\r\n  }\r\n\r\n  /**\r\n   * Set the instance id.\r\n   * @param {string} id The id to set.\r\n   * @return {BaseElement} this.\r\n   */\r\n  setID(id) {\r\n    this._id = id;\r\n\r\n    if (this._el) {\r\n      this._el.setAttribute('id', id);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Return the instance id.\r\n   * @returns {String} The instance's id.\r\n   */\r\n  getID() {\r\n    return this._id;\r\n  }\r\n\r\n  // TODO: Does this should be defined here?\r\n  /**\r\n   * @abstract\r\n   * @description Trigger an Event to the Canvas' EventBus.\r\n   * @returns {HTMLElement} this.\r\n   */\r\n  trigger() { return this; }\r\n\r\n  /**\r\n   * @protected\r\n   * @description Create the HTML for the instance.\r\n   * @returns {BaseElement} this.\r\n   */\r\n  _createElement() {\r\n    this._el.classList.add('diagramax');\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Return the instance's HTML.\r\n   * @returns {HTMLElement} The instance's HTMLElement.\r\n   */\r\n  getElement() {\r\n    if (!this._el) {\r\n      this._createElement();\r\n    }\r\n    return this._el;\r\n  }\r\n\r\n  /**\r\n   * @description Remove the element from DOM.\r\n   */\r\n  remove() {\r\n    if (this._el) {\r\n      this._el.remove();\r\n      this._el = null;\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseElement);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29yZS9CYXNlRWxlbWVudC5qcz84ZmQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEyQjs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsWUFBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsV0FBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSw4Q0FBSTtBQUNkO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsWUFBWTtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBLGFBQWEsYUFBYTs7QUFFMUI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSwwRUFBVyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2NvcmUvQmFzZUVsZW1lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXVpZCBmcm9tICd1dWlkL3YxJztcclxuXHJcbi8qKlxyXG4gKiBAY2xhc3MgVGhlIGJhc2UgY2xhc3MgZm9yIGV2ZXJ5IGNvbXBvbmVudCB0aGF0IGhhcyBhIEhUTUwgcmVwcmVzZW50YXRpb24uXHJcbiovXHJcbmNsYXNzIEJhc2VFbGVtZW50IHtcclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBuZXcgSFRNTEVsZW1lbnRcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3RhZz1cImRpdlwiXSBUaGUgdGFnIG5hbWUgZm9yIHRoZSBuZXcgZWxlbWVudC5cclxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIG5ldyBIVE1MRWxlbWVudFxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGUodGFnID0gJ2RpdicpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IFNWR0VsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRhZ05hbWUgVGhlIHRhZyBuYW1lIGZvciB0aGUgbmV3IFNWRyBlbGVtZW50LlxyXG4gICAqIEByZXR1cm4ge1NWR0VsZW1lbnR9IFRoZSBuZXcgU1ZHRWxlbWVudFxyXG4gICAqL1xyXG4gIHN0YXRpYyBjcmVhdGVTVkcodGFnTmFtZSkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWdOYW1lKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiAnZWxlbWVudCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm4gdGhlIHR5cGUgb2YgdGhlIG9iamVjdC5cclxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgdHlwZSBuYW1lLlxyXG4gICAqL1xyXG4gIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IudHlwZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBCYXNlRWxlbWVudC5cclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MgQW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBzZXR0aW5ncyBmb3IgdGhlIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtzZXR0aW5ncy5pZF0gVGhlIGlkIGZvciB0aGUgSFRNTCBlbGVtZW50LCBpZiBub3QgcHJvdmlkZWQgb25lIHdpbGwgYmUgZ2VuZXJhdGVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEB0eXBlIHtTdHJpbmd9XHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlIGluc3RhbmNlJ3MgaWQuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2lkID0gbnVsbDtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBpbnN0YW5jZSdzIEhUTUwuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2VsID0gbnVsbDtcclxuXHJcbiAgICBzZXR0aW5ncyA9IHtcclxuICAgICAgaWQ6IHV1aWQoKSxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0SUQoc2V0dGluZ3MuaWQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSBpbnN0YW5jZSBpZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIHRvIHNldC5cclxuICAgKiBAcmV0dXJuIHtCYXNlRWxlbWVudH0gdGhpcy5cclxuICAgKi9cclxuICBzZXRJRChpZCkge1xyXG4gICAgdGhpcy5faWQgPSBpZDtcclxuXHJcbiAgICBpZiAodGhpcy5fZWwpIHtcclxuICAgICAgdGhpcy5fZWwuc2V0QXR0cmlidXRlKCdpZCcsIGlkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgaW5zdGFuY2UgaWQuXHJcbiAgICogQHJldHVybnMge1N0cmluZ30gVGhlIGluc3RhbmNlJ3MgaWQuXHJcbiAgICovXHJcbiAgZ2V0SUQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBEb2VzIHRoaXMgc2hvdWxkIGJlIGRlZmluZWQgaGVyZT9cclxuICAvKipcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlciBhbiBFdmVudCB0byB0aGUgQ2FudmFzJyBFdmVudEJ1cy5cclxuICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IHRoaXMuXHJcbiAgICovXHJcbiAgdHJpZ2dlcigpIHsgcmV0dXJuIHRoaXM7IH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHByb3RlY3RlZFxyXG4gICAqIEBkZXNjcmlwdGlvbiBDcmVhdGUgdGhlIEhUTUwgZm9yIHRoZSBpbnN0YW5jZS5cclxuICAgKiBAcmV0dXJucyB7QmFzZUVsZW1lbnR9IHRoaXMuXHJcbiAgICovXHJcbiAgX2NyZWF0ZUVsZW1lbnQoKSB7XHJcbiAgICB0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKCdkaWFncmFtYXgnKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBpbnN0YW5jZSdzIEhUTUwuXHJcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fSBUaGUgaW5zdGFuY2UncyBIVE1MRWxlbWVudC5cclxuICAgKi9cclxuICBnZXRFbGVtZW50KCkge1xyXG4gICAgaWYgKCF0aGlzLl9lbCkge1xyXG4gICAgICB0aGlzLl9jcmVhdGVFbGVtZW50KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5fZWw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIHRoZSBlbGVtZW50IGZyb20gRE9NLlxyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIGlmICh0aGlzLl9lbCkge1xyXG4gICAgICB0aGlzLl9lbC5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5fZWwgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQmFzZUVsZW1lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/core/BaseElement.js\n");

/***/ }),

/***/ "./src/js/core/EventBus.js":
/*!*********************************!*\
  !*** ./src/js/core/EventBus.js ***!
  \*********************************/
/*! exports provided: default, stopPropagation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stopPropagation\", function() { return stopPropagation; });\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\nconst stopPropagation = (event) => event.stopPropagation();\r\n\r\nclass EventBus {\r\n  constructor() {\r\n    this._allObject = {};\r\n    this._listeners = new Map();\r\n  }\r\n\r\n  addListener(eventName, targetOrCallback, callbackOrScope = null, scope = null) {\r\n    let listeners;\r\n    let callback;\r\n    let key;\r\n\r\n    if (this._listeners.has(eventName)) {\r\n      listeners = this._listeners.get(eventName);\r\n    } else {\r\n      listeners = new WeakMap();\r\n      this._listeners.set(eventName, listeners);\r\n    }\r\n\r\n    switch (typeof targetOrCallback) {\r\n      case 'function':\r\n        key = this._allObject;\r\n        callback = targetOrCallback;\r\n        scope = callbackOrScope;\r\n        break;\r\n      case 'object':\r\n        key = targetOrCallback;\r\n        callback = callbackOrScope;\r\n        break;\r\n      default:\r\n        _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    const callbacks = listeners.get(key) || [];\r\n\r\n    callbacks.push({\r\n      callback,\r\n      scope,\r\n    });\r\n    listeners.set(key, callbacks);\r\n\r\n    return this;\r\n  }\r\n\r\n  hasEventListener(eventName, targetOrCallback, callbackOrScope = null, scope = null) {\r\n    const listeners = this._listeners.get(eventName);\r\n    let callbacks;\r\n    let callback;\r\n    let key;\r\n\r\n    if (listeners) {\r\n      switch (typeof targetOrCallback) {\r\n        case 'function':\r\n          key = this._allObject;\r\n          callback = targetOrCallback;\r\n          scope = callbackOrScope;\r\n          break;\r\n        case 'object':\r\n          key = targetOrCallback;\r\n          callback = callbackOrScope;\r\n          break;\r\n        default:\r\n          _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].invalidParameter();\r\n      }\r\n      callbacks = listeners.get(key);\r\n\r\n      return !!(callbacks && callbacks.find((i) => i.callback === callback && i.scope === scope));\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  removeListener(eventName, targetOrCallback, callbackOrScope = null, scope = null) {\r\n    const listeners = this._listeners.get(eventName);\r\n    let callbacks;\r\n    let callback;\r\n    let key;\r\n\r\n    if (listeners) {\r\n      switch (typeof targetOrCallback) {\r\n        case 'function':\r\n          key = this._allObject;\r\n          callback = targetOrCallback;\r\n          scope = callbackOrScope;\r\n          break;\r\n        case 'object':\r\n          key = targetOrCallback;\r\n          callback = callbackOrScope;\r\n          break;\r\n        default:\r\n          _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].invalidParameter();\r\n      }\r\n      callbacks = listeners.get(key);\r\n\r\n      if (callbacks) {\r\n        callbacks = callbacks.filter((i) => !(i.callback === callback && i.scope === scope));\r\n        listeners.set(key, callbacks);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  dispatch(eventName, target, ...args) {\r\n    let listeners = this._listeners.get(eventName);\r\n\r\n    if (listeners) {\r\n      args = [{\r\n        type: eventName,\r\n        target,\r\n      }].concat(args);\r\n\r\n      listeners = (listeners.get(target) || []).concat(listeners.get(this._allObject) || []);\r\n\r\n      listeners.forEach((i) => {\r\n        i.callback.apply(i.scope || window, args);\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventBus);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29yZS9FdmVudEJ1cy5qcz8xY2VjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFpRDs7QUFFakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBWTtBQUNwQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMkRBQVk7QUFDdEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDJEQUFZO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHVFQUFRLEVBQUM7QUFDRyIsImZpbGUiOiIuL3NyYy9qcy9jb3JlL0V2ZW50QnVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEVycm9yVGhyb3dlciBmcm9tICcuLi91dGlscy9FcnJvclRocm93ZXInO1xyXG5cclxuY29uc3Qgc3RvcFByb3BhZ2F0aW9uID0gKGV2ZW50KSA9PiBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbmNsYXNzIEV2ZW50QnVzIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuX2FsbE9iamVjdCA9IHt9O1xyXG4gICAgdGhpcy5fbGlzdGVuZXJzID0gbmV3IE1hcCgpO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlzdGVuZXIoZXZlbnROYW1lLCB0YXJnZXRPckNhbGxiYWNrLCBjYWxsYmFja09yU2NvcGUgPSBudWxsLCBzY29wZSA9IG51bGwpIHtcclxuICAgIGxldCBsaXN0ZW5lcnM7XHJcbiAgICBsZXQgY2FsbGJhY2s7XHJcbiAgICBsZXQga2V5O1xyXG5cclxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMuaGFzKGV2ZW50TmFtZSkpIHtcclxuICAgICAgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKTtcclxuICAgICAgdGhpcy5fbGlzdGVuZXJzLnNldChldmVudE5hbWUsIGxpc3RlbmVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoICh0eXBlb2YgdGFyZ2V0T3JDYWxsYmFjaykge1xyXG4gICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAga2V5ID0gdGhpcy5fYWxsT2JqZWN0O1xyXG4gICAgICAgIGNhbGxiYWNrID0gdGFyZ2V0T3JDYWxsYmFjaztcclxuICAgICAgICBzY29wZSA9IGNhbGxiYWNrT3JTY29wZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICBrZXkgPSB0YXJnZXRPckNhbGxiYWNrO1xyXG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2tPclNjb3BlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIEVycm9yVGhyb3dlci5pbnZhbGlkUGFyYW1ldGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2FsbGJhY2tzID0gbGlzdGVuZXJzLmdldChrZXkpIHx8IFtdO1xyXG5cclxuICAgIGNhbGxiYWNrcy5wdXNoKHtcclxuICAgICAgY2FsbGJhY2ssXHJcbiAgICAgIHNjb3BlLFxyXG4gICAgfSk7XHJcbiAgICBsaXN0ZW5lcnMuc2V0KGtleSwgY2FsbGJhY2tzKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGhhc0V2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0YXJnZXRPckNhbGxiYWNrLCBjYWxsYmFja09yU2NvcGUgPSBudWxsLCBzY29wZSA9IG51bGwpIHtcclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgIGxldCBjYWxsYmFja3M7XHJcbiAgICBsZXQgY2FsbGJhY2s7XHJcbiAgICBsZXQga2V5O1xyXG5cclxuICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgc3dpdGNoICh0eXBlb2YgdGFyZ2V0T3JDYWxsYmFjaykge1xyXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICAgIGtleSA9IHRoaXMuX2FsbE9iamVjdDtcclxuICAgICAgICAgIGNhbGxiYWNrID0gdGFyZ2V0T3JDYWxsYmFjaztcclxuICAgICAgICAgIHNjb3BlID0gY2FsbGJhY2tPclNjb3BlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgIGtleSA9IHRhcmdldE9yQ2FsbGJhY2s7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrT3JTY29wZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgICB9XHJcbiAgICAgIGNhbGxiYWNrcyA9IGxpc3RlbmVycy5nZXQoa2V5KTtcclxuXHJcbiAgICAgIHJldHVybiAhIShjYWxsYmFja3MgJiYgY2FsbGJhY2tzLmZpbmQoKGkpID0+IGkuY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmIGkuc2NvcGUgPT09IHNjb3BlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCB0YXJnZXRPckNhbGxiYWNrLCBjYWxsYmFja09yU2NvcGUgPSBudWxsLCBzY29wZSA9IG51bGwpIHtcclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycy5nZXQoZXZlbnROYW1lKTtcclxuICAgIGxldCBjYWxsYmFja3M7XHJcbiAgICBsZXQgY2FsbGJhY2s7XHJcbiAgICBsZXQga2V5O1xyXG5cclxuICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgc3dpdGNoICh0eXBlb2YgdGFyZ2V0T3JDYWxsYmFjaykge1xyXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICAgIGtleSA9IHRoaXMuX2FsbE9iamVjdDtcclxuICAgICAgICAgIGNhbGxiYWNrID0gdGFyZ2V0T3JDYWxsYmFjaztcclxuICAgICAgICAgIHNjb3BlID0gY2FsbGJhY2tPclNjb3BlO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgIGtleSA9IHRhcmdldE9yQ2FsbGJhY2s7XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrT3JTY29wZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgICB9XHJcbiAgICAgIGNhbGxiYWNrcyA9IGxpc3RlbmVycy5nZXQoa2V5KTtcclxuXHJcbiAgICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICBjYWxsYmFja3MgPSBjYWxsYmFja3MuZmlsdGVyKChpKSA9PiAhKGkuY2FsbGJhY2sgPT09IGNhbGxiYWNrICYmIGkuc2NvcGUgPT09IHNjb3BlKSk7XHJcbiAgICAgICAgbGlzdGVuZXJzLnNldChrZXksIGNhbGxiYWNrcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGRpc3BhdGNoKGV2ZW50TmFtZSwgdGFyZ2V0LCAuLi5hcmdzKSB7XHJcbiAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzLmdldChldmVudE5hbWUpO1xyXG5cclxuICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgYXJncyA9IFt7XHJcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxyXG4gICAgICAgIHRhcmdldCxcclxuICAgICAgfV0uY29uY2F0KGFyZ3MpO1xyXG5cclxuICAgICAgbGlzdGVuZXJzID0gKGxpc3RlbmVycy5nZXQodGFyZ2V0KSB8fCBbXSkuY29uY2F0KGxpc3RlbmVycy5nZXQodGhpcy5fYWxsT2JqZWN0KSB8fCBbXSk7XHJcblxyXG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoaSkgPT4ge1xyXG4gICAgICAgIGkuY2FsbGJhY2suYXBwbHkoaS5zY29wZSB8fCB3aW5kb3csIGFyZ3MpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV2ZW50QnVzO1xyXG5leHBvcnQgeyBzdG9wUHJvcGFnYXRpb24gfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/core/EventBus.js\n");

/***/ }),

/***/ "./src/js/core/Factory.js":
/*!********************************!*\
  !*** ./src/js/core/Factory.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Repository */ \"./src/js/core/Repository.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\nclass Factory extends _Repository__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  create(key, ...args) {\r\n    if (!this._products[key]) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__[\"default\"].custom(`Product '${key}' is not registered.`);\r\n    }\r\n\r\n    const Klass = this._products[key];\r\n\r\n    return new Klass(...args);\r\n  }\r\n\r\n  hasProductKey(key) {\r\n    return !!this._products[key];\r\n  }\r\n\r\n  getProductKey(product) {\r\n    let found;\r\n\r\n    if (typeof product === 'function') {\r\n      found = Object.entries(this._products).find(([value]) => value === product);\r\n    } else {\r\n      found = Object.entries(this._products).find(([value]) => value.constructor === value);\r\n    }\r\n\r\n    return found ? found[0] : null;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Factory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29yZS9GYWN0b3J5LmpzP2ZjYmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ1c7O0FBRWpELHNCQUFzQixtREFBVTtBQUNoQztBQUNBO0FBQ0EsTUFBTSwyREFBWSxvQkFBb0IsSUFBSTtBQUMxQzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9jb3JlL0ZhY3RvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVwb3NpdG9yeSBmcm9tICcuL1JlcG9zaXRvcnknO1xyXG5pbXBvcnQgRXJyb3JUaHJvd2VyIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG5jbGFzcyBGYWN0b3J5IGV4dGVuZHMgUmVwb3NpdG9yeSB7XHJcbiAgY3JlYXRlKGtleSwgLi4uYXJncykge1xyXG4gICAgaWYgKCF0aGlzLl9wcm9kdWN0c1trZXldKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5jdXN0b20oYFByb2R1Y3QgJyR7a2V5fScgaXMgbm90IHJlZ2lzdGVyZWQuYCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgS2xhc3MgPSB0aGlzLl9wcm9kdWN0c1trZXldO1xyXG5cclxuICAgIHJldHVybiBuZXcgS2xhc3MoLi4uYXJncyk7XHJcbiAgfVxyXG5cclxuICBoYXNQcm9kdWN0S2V5KGtleSkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5fcHJvZHVjdHNba2V5XTtcclxuICB9XHJcblxyXG4gIGdldFByb2R1Y3RLZXkocHJvZHVjdCkge1xyXG4gICAgbGV0IGZvdW5kO1xyXG5cclxuICAgIGlmICh0eXBlb2YgcHJvZHVjdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBmb3VuZCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuX3Byb2R1Y3RzKS5maW5kKChbdmFsdWVdKSA9PiB2YWx1ZSA9PT0gcHJvZHVjdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3VuZCA9IE9iamVjdC5lbnRyaWVzKHRoaXMuX3Byb2R1Y3RzKS5maW5kKChbdmFsdWVdKSA9PiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmb3VuZCA/IGZvdW5kWzBdIDogbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZhY3Rvcnk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/core/Factory.js\n");

/***/ }),

/***/ "./src/js/core/Repository.js":
/*!***********************************!*\
  !*** ./src/js/core/Repository.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\nconst DEFAULTS = Object.freeze({\r\n  products: {},\r\n});\r\n\r\nclass Repository {\r\n  constructor(settings) {\r\n    settings = { ...DEFAULTS, ...settings };\r\n\r\n    this._products = {};\r\n\r\n    this.setProducts(settings.products);\r\n  }\r\n\r\n  addProduct(key, Klass) {\r\n    if (this._products[key]) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].custom('Product key already exists, use another key.');\r\n    }\r\n\r\n    this._products[key] = Klass;\r\n  }\r\n\r\n  setProducts(products) {\r\n    const productsArray = Object.entries(products || {});\r\n\r\n    if (!productsArray.length) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_0__[\"default\"].custom('At least one product should be produced by this repository.');\r\n    }\r\n\r\n    productsArray.forEach(([key, Klass]) => {\r\n      this.addProduct(key, Klass);\r\n    });\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Repository);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29yZS9SZXBvc2l0b3J5LmpzP2ZlMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFpRDs7QUFFakQ7QUFDQSxjQUFjO0FBQ2QsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsZ0JBQWdCOztBQUVoQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLDJEQUFZO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx1REFBdUQ7O0FBRXZEO0FBQ0EsTUFBTSwyREFBWTtBQUNsQjs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRWUseUVBQVUsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9jb3JlL1JlcG9zaXRvcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRXJyb3JUaHJvd2VyIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG5jb25zdCBERUZBVUxUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIHByb2R1Y3RzOiB7fSxcclxufSk7XHJcblxyXG5jbGFzcyBSZXBvc2l0b3J5IHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRTLCAuLi5zZXR0aW5ncyB9O1xyXG5cclxuICAgIHRoaXMuX3Byb2R1Y3RzID0ge307XHJcblxyXG4gICAgdGhpcy5zZXRQcm9kdWN0cyhzZXR0aW5ncy5wcm9kdWN0cyk7XHJcbiAgfVxyXG5cclxuICBhZGRQcm9kdWN0KGtleSwgS2xhc3MpIHtcclxuICAgIGlmICh0aGlzLl9wcm9kdWN0c1trZXldKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5jdXN0b20oJ1Byb2R1Y3Qga2V5IGFscmVhZHkgZXhpc3RzLCB1c2UgYW5vdGhlciBrZXkuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fcHJvZHVjdHNba2V5XSA9IEtsYXNzO1xyXG4gIH1cclxuXHJcbiAgc2V0UHJvZHVjdHMocHJvZHVjdHMpIHtcclxuICAgIGNvbnN0IHByb2R1Y3RzQXJyYXkgPSBPYmplY3QuZW50cmllcyhwcm9kdWN0cyB8fCB7fSk7XHJcblxyXG4gICAgaWYgKCFwcm9kdWN0c0FycmF5Lmxlbmd0aCkge1xyXG4gICAgICBFcnJvclRocm93ZXIuY3VzdG9tKCdBdCBsZWFzdCBvbmUgcHJvZHVjdCBzaG91bGQgYmUgcHJvZHVjZWQgYnkgdGhpcyByZXBvc2l0b3J5LicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2R1Y3RzQXJyYXkuZm9yRWFjaCgoW2tleSwgS2xhc3NdKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkUHJvZHVjdChrZXksIEtsYXNzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUmVwb3NpdG9yeTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/core/Repository.js\n");

/***/ }),

/***/ "./src/js/core/StrategyRepository.js":
/*!*******************************************!*\
  !*** ./src/js/core/StrategyRepository.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Repository */ \"./src/js/core/Repository.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\nclass StrategyRepository extends _Repository__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  get(key) {\r\n    if (!this._products[key]) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_1__[\"default\"].custom(`Strategy '${key}' is not registered.`);\r\n    }\r\n\r\n    return this._products[key];\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (StrategyRepository);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvY29yZS9TdHJhdGVneVJlcG9zaXRvcnkuanM/YTdjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBc0M7QUFDVzs7QUFFakQsaUNBQWlDLG1EQUFVO0FBQzNDO0FBQ0E7QUFDQSxNQUFNLDJEQUFZLHFCQUFxQixJQUFJO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTs7QUFFZSxpRkFBa0IsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9jb3JlL1N0cmF0ZWd5UmVwb3NpdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXBvc2l0b3J5IGZyb20gJy4vUmVwb3NpdG9yeSc7XHJcbmltcG9ydCBFcnJvclRocm93ZXIgZnJvbSAnLi4vdXRpbHMvRXJyb3JUaHJvd2VyJztcclxuXHJcbmNsYXNzIFN0cmF0ZWd5UmVwb3NpdG9yeSBleHRlbmRzIFJlcG9zaXRvcnkge1xyXG4gIGdldChrZXkpIHtcclxuICAgIGlmICghdGhpcy5fcHJvZHVjdHNba2V5XSkge1xyXG4gICAgICBFcnJvclRocm93ZXIuY3VzdG9tKGBTdHJhdGVneSAnJHtrZXl9JyBpcyBub3QgcmVnaXN0ZXJlZC5gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fcHJvZHVjdHNba2V5XTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0cmF0ZWd5UmVwb3NpdG9yeTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/core/StrategyRepository.js\n");

/***/ }),

/***/ "./src/js/data/Model.js":
/*!******************************!*\
  !*** ./src/js/data/Model.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Model {\r\n  constructor(data = null) {\r\n    this._attributes = new Map();\r\n\r\n    if (data) {\r\n      this.set(data);\r\n    }\r\n  }\r\n\r\n  set(...args) {\r\n    if (typeof args[0] === 'object') {\r\n      Object.entries(args[0]).forEach(([key, value]) => this._attributes.set(key, value));\r\n    } else {\r\n      this._attributes.set(...args);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  get(key) {\r\n    return this._attributes.get(key);\r\n  }\r\n\r\n  has(key) {\r\n    return this._attributes.has(key);\r\n  }\r\n\r\n  delete(key) {\r\n    return this._attributes.delete(key);\r\n  }\r\n\r\n  clear() {\r\n    this._attributes.clear();\r\n  }\r\n\r\n  toJSON() {\r\n    const json = {};\r\n\r\n    this._attributes.forEach((value, key) => {\r\n      json[key] = value;\r\n    }, json);\r\n\r\n    return json;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Model);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGF0YS9Nb2RlbC5qcz8wZDAzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVlLG9FQUFLLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvZGF0YS9Nb2RlbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIE1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhID0gbnVsbCkge1xyXG4gICAgdGhpcy5fYXR0cmlidXRlcyA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLnNldChkYXRhKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldCguLi5hcmdzKSB7XHJcbiAgICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKGFyZ3NbMF0pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gdGhpcy5fYXR0cmlidXRlcy5zZXQoa2V5LCB2YWx1ZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYXR0cmlidXRlcy5zZXQoLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBnZXQoa2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5nZXQoa2V5KTtcclxuICB9XHJcblxyXG4gIGhhcyhrZXkpIHtcclxuICAgIHJldHVybiB0aGlzLl9hdHRyaWJ1dGVzLmhhcyhrZXkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMuZGVsZXRlKGtleSk7XHJcbiAgfVxyXG5cclxuICBjbGVhcigpIHtcclxuICAgIHRoaXMuX2F0dHJpYnV0ZXMuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIHRvSlNPTigpIHtcclxuICAgIGNvbnN0IGpzb24gPSB7fTtcclxuXHJcbiAgICB0aGlzLl9hdHRyaWJ1dGVzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAganNvbltrZXldID0gdmFsdWU7XHJcbiAgICB9LCBqc29uKTtcclxuXHJcbiAgICByZXR1cm4ganNvbjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/data/Model.js\n");

/***/ }),

/***/ "./src/js/diagram/Canvas.js":
/*!**********************************!*\
  !*** ./src/js/diagram/Canvas.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _core_EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/EventBus */ \"./src/js/core/EventBus.js\");\n/* harmony import */ var _behavior_ConnectivityAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../behavior/ConnectivityAreaBehaviorFactory */ \"./src/js/behavior/ConnectivityAreaBehaviorFactory.js\");\n/* harmony import */ var _behavior_DraggingAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../behavior/DraggingAreaBehaviorFactory */ \"./src/js/behavior/DraggingAreaBehaviorFactory.js\");\n/* harmony import */ var _shape_Shape__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shape/Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _behavior_SelectionAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../behavior/SelectionAreaBehaviorFactory */ \"./src/js/behavior/SelectionAreaBehaviorFactory.js\");\n/* harmony import */ var _behavior_KeyboardControlBehaviorFactory__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../behavior/KeyboardControlBehaviorFactory */ \"./src/js/behavior/KeyboardControlBehaviorFactory.js\");\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n/* harmony import */ var _command_CommandManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../command/CommandManager */ \"./src/js/command/CommandManager.js\");\n/* harmony import */ var _DiagramElement__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DiagramElement */ \"./src/js/diagram/DiagramElement.js\");\n/* harmony import */ var _utils_Utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/Utils */ \"./src/js/utils/Utils.js\");\n/* harmony import */ var _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../behavior/ContextMenuBehaviorFactory */ \"./src/js/behavior/ContextMenuBehaviorFactory.js\");\n/* harmony import */ var _DiagramElementFactory__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DiagramElementFactory */ \"./src/js/diagram/DiagramElementFactory.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst DEFAULTS = Object.freeze({\r\n  width: 800,\r\n  height: 600,\r\n  shapes: [],\r\n  connections: [],\r\n  stackSize: 10,\r\n  onChange: _utils_Utils__WEBPACK_IMPORTED_MODULE_12__[\"noop\"],\r\n  onContextMenu: _utils_Utils__WEBPACK_IMPORTED_MODULE_12__[\"noop\"],\r\n  onElementContextMenu: _utils_Utils__WEBPACK_IMPORTED_MODULE_12__[\"noop\"],\r\n  selectionAreaBehavior: _behavior_SelectionAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__[\"PRODUCTS\"].DEFAULT,\r\n  contextMenuBehavior: _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_13__[\"PRODUCTS\"].DEFAULT,\r\n  draggingAreaBehavior: _behavior_DraggingAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"PRODUCTS\"].DEFAULT,\r\n  connectivityAreaBehavior: _behavior_ConnectivityAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_2__[\"PRODUCTS\"].DEFAULT,\r\n  keyboardControlBehavior: _behavior_KeyboardControlBehaviorFactory__WEBPACK_IMPORTED_MODULE_8__[\"PRODUCTS\"].DEFAULT,\r\n});\r\n\r\nclass Canvas extends _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  static get type() {\r\n    return 'canvas';\r\n  }\r\n\r\n  constructor(settings) {\r\n    super(settings);\r\n    settings = { ...DEFAULTS, ...settings };\r\n    this._width = null;\r\n    this._height = null;\r\n    this._shapes = new Set();\r\n    this._connections = new Set();\r\n    this._dom = {};\r\n    this._eventBus = new _core_EventBus__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    this._selectedItems = new Set();\r\n    this._onChange = settings.onChange;\r\n    this._onContextMenu = settings.onContextMenu;\r\n    this._onElementContextMenu = settings.onElementContextMenu;\r\n    this._selectionBehavior = _behavior_SelectionAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__[\"default\"].create(settings.selectionAreaBehavior, this);\r\n    this._contextMenuBehavior = _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_13__[\"default\"].create(settings.contextMenuBehavior, this);\r\n    this._draggingAreaBehavior = _behavior_DraggingAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(settings.draggingAreaBehavior, this);\r\n    this._connectivityAreaBehavior = _behavior_ConnectivityAreaBehaviorFactory__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(settings.connectivityAreaBehavior, this);\r\n    this._keyboardBehavior = _behavior_KeyboardControlBehaviorFactory__WEBPACK_IMPORTED_MODULE_8__[\"default\"].create(settings.keyboardControlBehavior, this);\r\n    this._commandManager = new _command_CommandManager__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({ size: settings.stackSize });\r\n\r\n    this.setWidth(settings.width)\r\n      .setHeight(settings.height)\r\n      .setShapes(settings.shapes)\r\n      .setConnections(settings.connections);\r\n  }\r\n\r\n  setWidth(width) {\r\n    if (typeof width !== 'number') {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__[\"default\"].invalidParameter();\r\n    }\r\n    this._width = width;\r\n\r\n    if (this._el) {\r\n      this._el.setAttribute('width', this._width);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getWidth() {\r\n    return this._width;\r\n  }\r\n\r\n  setHeight(height) {\r\n    if (typeof height !== 'number') {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__[\"default\"].invalidParameter();\r\n    }\r\n    this._height = height;\r\n\r\n    if (this._el) {\r\n      this._el.setAttribute('height', this._height);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  getHeight() {\r\n    return this._height;\r\n  }\r\n\r\n  _onElementRemove(customEvent) {\r\n    const removedElement = customEvent.target;\r\n\r\n    if (this.hasElement(removedElement)) {\r\n      if (!this._shapes.delete(removedElement)) {\r\n        this._connections.delete(removedElement);\r\n      }\r\n      this.removeListener(_DiagramElement__WEBPACK_IMPORTED_MODULE_11__[\"EVENT\"].REMOVE, removedElement, this._onElementRemove, this);\r\n    }\r\n  }\r\n\r\n  _drawElement(element) {\r\n    if (this._el) {\r\n      this._dom.componentsLayer.appendChild(element.getElement());\r\n      this._dom.uiLayer.appendChild(element.getUIHTML());\r\n    }\r\n  }\r\n\r\n  addShape(shape, ...args) {\r\n    if (!(shape instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"default\"])) {\r\n      let type;\r\n      let settings;\r\n\r\n      if (typeof shape === 'string') {\r\n        type = shape;\r\n        [settings] = args;\r\n      } else if (typeof shape === 'object') {\r\n        type = shape.type;\r\n        settings = shape;\r\n      } else {\r\n        _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__[\"default\"].invalidParameter();\r\n      }\r\n\r\n      shape = _DiagramElementFactory__WEBPACK_IMPORTED_MODULE_14__[\"default\"].create(type, settings);\r\n    }\r\n\r\n    if (shape instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"default\"] && !this._shapes.has(shape)) {\r\n      this._shapes.add(shape);\r\n\r\n      // TODO: Fix this access to protected method.\r\n      shape._setCanvas(this);\r\n      this._drawElement(shape);\r\n      this.addListener(_DiagramElement__WEBPACK_IMPORTED_MODULE_11__[\"EVENT\"].REMOVE, shape, this._onElementRemove, this);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  // TODO: should be removed? since addElement was splitted in addShape() and connect()?\r\n  hasElement(element) {\r\n    return this._shapes.has(element) || this._connections.has(element);\r\n  }\r\n\r\n  clearShapes() {\r\n    this._shapes.forEach((shape) => {\r\n      shape.remove();\r\n    });\r\n    return this;\r\n  }\r\n\r\n  setShapes(shapes) {\r\n    this.clearShapes();\r\n    shapes.forEach((shape) => this.addShape(shape));\r\n\r\n    return this;\r\n  }\r\n\r\n  clearConnections() {\r\n    this._connections.forEach((connection) => {\r\n      connection.remove();\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  setConnections(connections) {\r\n    this.clearConnections();\r\n    connections.forEach((connection) => {\r\n      const { orig: origShape, dest: destShape } = connection;\r\n\r\n      this.connect(origShape, destShape, connection);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  getConnections() {\r\n    return [...this._connections];\r\n  }\r\n\r\n  findShape(shape) {\r\n    if (typeof shape === 'string') {\r\n      return [...this._shapes].find((i) => i.getID() === shape) || null;\r\n    }\r\n\r\n    if (!(shape instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    return this._shapes.has(shape) ? shape : null;\r\n  }\r\n\r\n  findConnection(connection) {\r\n    if (typeof connection === 'string') {\r\n      return [...this._connections].find((i) => i.getID() === connection) || null;\r\n    }\r\n\r\n    if (!(connection instanceof _connection_Connection__WEBPACK_IMPORTED_MODULE_5__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_15__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    return this._connections.has(connection) ? connection : null;\r\n  }\r\n\r\n  addListener(eventName, targetOrCallback, callbackOrScope = null, scope = null) {\r\n    this._eventBus.addListener.call(this._eventBus, eventName, targetOrCallback, callbackOrScope, scope);\r\n    return this;\r\n  }\r\n\r\n  removeListener(eventName, targetOrCallback, callbackOrScope = null, scope = null) {\r\n    this._eventBus.removeListener.call(this._eventBus, eventName, targetOrCallback, callbackOrScope, scope);\r\n    return this;\r\n  }\r\n\r\n  // TODO: Make this method internal\r\n  dispatchEvent(eventName, target, ...args) {\r\n    this._eventBus.dispatch(eventName, target, ...args);\r\n    return this;\r\n  }\r\n\r\n  _addConnection(connection) {\r\n    if (!this._connections.has(connection)) {\r\n      this._connections.add(connection);\r\n      connection._setCanvas(this);\r\n\r\n      this._drawElement(connection);\r\n      this.addListener(_DiagramElement__WEBPACK_IMPORTED_MODULE_11__[\"EVENT\"].REMOVE, connection, this._onElementRemove, this);\r\n    }\r\n  }\r\n\r\n  connect(origin, destination, connection = null) {\r\n    origin = origin instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ? origin : this.findShape(origin);\r\n    destination = destination instanceof _shape_Shape__WEBPACK_IMPORTED_MODULE_4__[\"default\"] ? destination : this.findShape(destination);\r\n\r\n    if (!(connection instanceof _connection_Connection__WEBPACK_IMPORTED_MODULE_5__[\"default\"])) {\r\n      connection = _DiagramElementFactory__WEBPACK_IMPORTED_MODULE_14__[\"default\"].create(_DiagramElementFactory__WEBPACK_IMPORTED_MODULE_14__[\"PRODUCTS\"].CONNECTION, connection);\r\n    }\r\n\r\n    // TODO: connection's connect() method should be set the canvas.\r\n    if (connection.connect(origin, destination)) {\r\n      this._addConnection(connection);\r\n\r\n      return connection;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  trigger(eventName, ...args) {\r\n    return this.dispatchEvent(eventName, this, ...args);\r\n  }\r\n\r\n  clientToCanvas(clientPosition) {\r\n    const html = this._el;\r\n\r\n    if (html) {\r\n      const rect = html.getBoundingClientRect();\r\n      const { x: clientX, y: clientY } = clientPosition;\r\n\r\n      return {\r\n        x: clientX - rect.x,\r\n        y: clientY - rect.y,\r\n      };\r\n    }\r\n\r\n    return { x: 0, y: 0 };\r\n  }\r\n\r\n  _connectToDragAreaBehavior(behavior, options = {}) {\r\n    if (this._draggingAreaBehavior) {\r\n      if (!behavior) {\r\n        this._draggingAreaBehavior.removeDragBehavior();\r\n      } else {\r\n        this._draggingAreaBehavior.setDragBehavior(behavior, options);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  setResizingShape(shape, direction) {\r\n    // TODO: find a better way to do this, _dragBehavior is protected\r\n    const behavior = shape && shape._resizeBehavior;\r\n    const options = { direction };\r\n\r\n    return this._connectToDragAreaBehavior(behavior, options);\r\n  }\r\n\r\n  setDraggingShape(shape) {\r\n    // TODO: find a better way to do this, _dragBehavior is protected\r\n    const behavior = shape && shape._dragBehavior;\r\n\r\n    return this._connectToDragAreaBehavior(behavior);\r\n  }\r\n\r\n  // TODO: this method is used for both set a connection to be dragged and to remove it.\r\n  // maybe there should be  a dedicated method for removing.\r\n  setDraggingConnection(connection, draggingPoint = null) {\r\n    // TODO: Fix access to protected member\r\n    const behavior = connection && connection._dragBehavior;\r\n    const options = { draggingPoint };\r\n\r\n    return this._connectToDragAreaBehavior(behavior, options);\r\n  }\r\n\r\n  // TODO: Does make sense to have this method?\r\n  /**\r\n   * @deprecated\r\n   */\r\n  getConnectivityAreaBehavior() {\r\n    return this._connectivityAreaBehavior;\r\n  }\r\n\r\n  startConnection(shape) {\r\n    if (this._shapes.has(shape)) {\r\n      this._connectivityAreaBehavior.start(shape);\r\n    }\r\n  }\r\n\r\n  startReconnection(connection, connectionPoint) {\r\n    let shape;\r\n\r\n    if (connectionPoint === _connection_Port__WEBPACK_IMPORTED_MODULE_6__[\"MODE\"].ORIG) {\r\n      shape = connection.getDestShape();\r\n    } else {\r\n      shape = connection.getOrigShape();\r\n    }\r\n\r\n    this._connectivityAreaBehavior.start(shape, connection, connectionPoint);\r\n  }\r\n\r\n  cancelConnection() {\r\n    this._connectivityAreaBehavior.end();\r\n  }\r\n\r\n  completeConnection(shape) {\r\n    if (this._shapes.has(shape)) {\r\n      this._connectivityAreaBehavior.complete(shape);\r\n    }\r\n  }\r\n\r\n  selectItem(item) {\r\n    // TODO: maybe selection behavior should have the methods to set a selection and to add an item\r\n    // to a current selection set.\r\n    this._selectionBehavior.clear();\r\n    this._selectionBehavior.select(item);\r\n  }\r\n\r\n  getSelection() {\r\n    return this._selectionBehavior.get();\r\n  }\r\n\r\n  onContextMenu(event) {\r\n    this._selectionBehavior.clear();\r\n    this._onContextMenu(event, this);\r\n  }\r\n\r\n  /**\r\n   * Executes a command, and add if its succesfully executed it is add to the undo/redo stack.\r\n   * @see {@link CommandManager}\r\n    */\r\n  executeCommand(...args) {\r\n    const [command] = args;\r\n    const result = this._commandManager.executeCommand(...args);\r\n\r\n    if (result) {\r\n      const commandKey = (typeof command === 'string' && command) || _command_CommandFactory__WEBPACK_IMPORTED_MODULE_9__[\"default\"].getProductKey(command);\r\n\r\n      this._onChange(this, commandKey, ...args.slice(1));\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  undo() {\r\n    this._commandManager.undo();\r\n\r\n    return this._commandManager.getSteps()[0];\r\n  }\r\n\r\n  redo() {\r\n    this._commandManager.redo();\r\n\r\n    return this._commandManager.getSteps()[1];\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      id: this.getID(),\r\n      shapes: [...this._shapes].map((shape) => shape.toJSON()),\r\n      connections: [...this._connections].map((connection) => connection.toJSON()),\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (this._el) {\r\n      return this;\r\n    }\r\n\r\n    const svg = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('svg');\r\n    const root = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const componentsLayer = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const uiLayer = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n\r\n    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n    svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n    svg.setAttribute('version', '1.1');\r\n    svg.setAttribute('class', 'canvas');\r\n    svg.style.background = '#F0F0F0';\r\n\r\n    root.setAttribute('transform', 'scale(1, 1)');\r\n    root.append(componentsLayer, uiLayer);\r\n    svg.appendChild(root);\r\n\r\n    uiLayer.addEventListener('click', _core_EventBus__WEBPACK_IMPORTED_MODULE_1__[\"stopPropagation\"], false);\r\n    uiLayer.addEventListener('dblClick', _core_EventBus__WEBPACK_IMPORTED_MODULE_1__[\"stopPropagation\"], false);\r\n    componentsLayer.addEventListener('click', _core_EventBus__WEBPACK_IMPORTED_MODULE_1__[\"stopPropagation\"], false);\r\n    componentsLayer.addEventListener('dblClick', _core_EventBus__WEBPACK_IMPORTED_MODULE_1__[\"stopPropagation\"], false);\r\n\r\n    this._dom.uiLayer = uiLayer;\r\n    this._dom.componentsLayer = componentsLayer;\r\n    this._el = svg;\r\n\r\n    this.setWidth(this._width)\r\n      .setHeight(this._height);\r\n\r\n    // TODO: When migrate to EventTarget dispatch and event an make the attachment on\r\n    // the behavior itself.\r\n    // TODO: When migrate to WebComponents attach behavior on connecting.\r\n    this._selectionBehavior.attach();\r\n    this._connectivityAreaBehavior.attach();\r\n    this._draggingAreaBehavior.attach();\r\n    this._keyboardBehavior.attach();\r\n    this._contextMenuBehavior.attach();\r\n    this._shapes.forEach((shape) => this._drawElement(shape));\r\n    this._connections.forEach((connection) => this._drawElement(connection));\r\n    this.setID(this._id);\r\n\r\n    return super._createElement();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Canvas);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGlhZ3JhbS9DYW52YXMuanM/OTZlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQThDO0FBQ2U7QUFHUjtBQUdKO0FBQ2Q7QUFDZTtBQUNLO0FBR0w7QUFHRTtBQUNHO0FBQ0E7QUFDRztBQUNwQjtBQUNpRjtBQUNqQztBQUNyQzs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrREFBSTtBQUNoQixpQkFBaUIsa0RBQUk7QUFDckIsd0JBQXdCLGtEQUFJO0FBQzVCLHlCQUF5QiwrRUFBdUI7QUFDaEQsdUJBQXVCLDhFQUFxQjtBQUM1Qyx3QkFBd0IsOEVBQXNCO0FBQzlDLDRCQUE0QixrRkFBMEI7QUFDdEQsMkJBQTJCLGlGQUF5QjtBQUNwRCxDQUFDOztBQUVELHFCQUFxQix5REFBVztBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHNEQUFRO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhFQUE0QjtBQUMxRCxnQ0FBZ0MsNkVBQTBCO0FBQzFELGlDQUFpQyw2RUFBMkI7QUFDNUQscUNBQXFDLGlGQUErQjtBQUNwRSw2QkFBNkIsZ0ZBQThCO0FBQzNELCtCQUErQixnRUFBYyxFQUFFLDJCQUEyQjs7QUFFMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSw0REFBWTtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSw0REFBWTtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNEQUFhO0FBQ3ZDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLG9EQUFLO0FBQ2hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUSw0REFBWTtBQUNwQjs7QUFFQSxjQUFjLCtEQUFxQjtBQUNuQzs7QUFFQSx5QkFBeUIsb0RBQUs7QUFDOUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNEQUFhO0FBQ3BDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUNBQW1DOztBQUVoRDtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCLG9EQUFLO0FBQ2hDLE1BQU0sNERBQVk7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0MsOERBQVU7QUFDMUMsTUFBTSw0REFBWTtBQUNsQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUIsc0RBQWE7QUFDcEM7QUFDQTs7QUFFQTtBQUNBLCtCQUErQixvREFBSztBQUNwQyx5Q0FBeUMsb0RBQUs7O0FBRTlDLGdDQUFnQyw4REFBVTtBQUMxQyxtQkFBbUIsK0RBQXFCLFFBQVEsZ0VBQVE7QUFDeEQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaOztBQUVBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7O0FBRXJCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRCQUE0QixxREFBUztBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUVBQXFFLCtEQUFjOztBQUVuRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0IseURBQVc7QUFDM0IsaUJBQWlCLHlEQUFXO0FBQzVCLDRCQUE0Qix5REFBVztBQUN2QyxvQkFBb0IseURBQVc7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNDQUFzQyw4REFBZTtBQUNyRCx5Q0FBeUMsOERBQWU7QUFDeEQsOENBQThDLDhEQUFlO0FBQzdELGlEQUFpRCw4REFBZTs7QUFFaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUscUVBQU0sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9kaWFncmFtL0NhbnZhcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi9jb3JlL0Jhc2VFbGVtZW50JztcclxuaW1wb3J0IEV2ZW50QnVzLCB7IHN0b3BQcm9wYWdhdGlvbiB9IGZyb20gJy4uL2NvcmUvRXZlbnRCdXMnO1xyXG5pbXBvcnQgQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yRmFjdG9yeSwge1xyXG4gIFBST0RVQ1RTIGFzIENPTk5FQ1RJVklUWV9BUkVBX1BST0RVQ1RTLFxyXG59IGZyb20gJy4uL2JlaGF2aW9yL0Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvckZhY3RvcnknO1xyXG5pbXBvcnQgRHJhZ2dpbmdBcmVhQmVoYXZpb3JGYWN0b3J5LCB7XHJcbiAgUFJPRFVDVFMgYXMgRFJBR0dJTkdfQVJFQV9QUk9EVUNUUyxcclxufSBmcm9tICcuLi9iZWhhdmlvci9EcmFnZ2luZ0FyZWFCZWhhdmlvckZhY3RvcnknO1xyXG5pbXBvcnQgU2hhcGUgZnJvbSAnLi4vc2hhcGUvU2hhcGUnO1xyXG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9jb25uZWN0aW9uL0Nvbm5lY3Rpb24nO1xyXG5pbXBvcnQgeyBNT0RFIGFzIFBPUlRfTU9ERSB9IGZyb20gJy4uL2Nvbm5lY3Rpb24vUG9ydCc7XHJcbmltcG9ydCBTZWxlY3Rpb25BcmVhQmVoYXZpb3JGYWN0b3J5LCB7XHJcbiAgUFJPRFVDVFMgYXMgU0VMRUNUSU9OX0FSRUFfUFJPRFVDVFMsXHJcbn0gZnJvbSAnLi4vYmVoYXZpb3IvU2VsZWN0aW9uQXJlYUJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCBLZXlib2FyZENvbnRyb2xCZWhhdmlvckZhY3RvcnksIHtcclxuICBQUk9EVUNUUyBhcyBLRVlCT0FSRF9DT05UUk9MX1BST0RVQ1RTLFxyXG59IGZyb20gJy4uL2JlaGF2aW9yL0tleWJvYXJkQ29udHJvbEJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCBDb21tYW5kRmFjdG9yeSBmcm9tICcuLi9jb21tYW5kL0NvbW1hbmRGYWN0b3J5JztcclxuaW1wb3J0IENvbW1hbmRNYW5hZ2VyIGZyb20gJy4uL2NvbW1hbmQvQ29tbWFuZE1hbmFnZXInO1xyXG5pbXBvcnQgeyBFVkVOVCBhcyBFTEVNRU5UX0VWRU5UIH0gZnJvbSAnLi9EaWFncmFtRWxlbWVudCc7XHJcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi91dGlscy9VdGlscyc7XHJcbmltcG9ydCBDb250ZXh0TWVudUJlaGF2aW9yRmFjdG9yeSwgeyBQUk9EVUNUUyBhcyBDT05URVhUX01FTlVfUFJPRFVDVFMgfSBmcm9tICcuLi9iZWhhdmlvci9Db250ZXh0TWVudUJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCBEaWFncmFtRWxlbWVudEZhY3RvcnksIHsgUFJPRFVDVFMgYXMgRUxFTUVOVFMgfSBmcm9tICcuL0RpYWdyYW1FbGVtZW50RmFjdG9yeSc7XHJcbmltcG9ydCBFcnJvclRocm93ZXIgZnJvbSAnLi4vdXRpbHMvRXJyb3JUaHJvd2VyJztcclxuXHJcbmNvbnN0IERFRkFVTFRTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgd2lkdGg6IDgwMCxcclxuICBoZWlnaHQ6IDYwMCxcclxuICBzaGFwZXM6IFtdLFxyXG4gIGNvbm5lY3Rpb25zOiBbXSxcclxuICBzdGFja1NpemU6IDEwLFxyXG4gIG9uQ2hhbmdlOiBub29wLFxyXG4gIG9uQ29udGV4dE1lbnU6IG5vb3AsXHJcbiAgb25FbGVtZW50Q29udGV4dE1lbnU6IG5vb3AsXHJcbiAgc2VsZWN0aW9uQXJlYUJlaGF2aW9yOiBTRUxFQ1RJT05fQVJFQV9QUk9EVUNUUy5ERUZBVUxULFxyXG4gIGNvbnRleHRNZW51QmVoYXZpb3I6IENPTlRFWFRfTUVOVV9QUk9EVUNUUy5ERUZBVUxULFxyXG4gIGRyYWdnaW5nQXJlYUJlaGF2aW9yOiBEUkFHR0lOR19BUkVBX1BST0RVQ1RTLkRFRkFVTFQsXHJcbiAgY29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yOiBDT05ORUNUSVZJVFlfQVJFQV9QUk9EVUNUUy5ERUZBVUxULFxyXG4gIGtleWJvYXJkQ29udHJvbEJlaGF2aW9yOiBLRVlCT0FSRF9DT05UUk9MX1BST0RVQ1RTLkRFRkFVTFQsXHJcbn0pO1xyXG5cclxuY2xhc3MgQ2FudmFzIGV4dGVuZHMgQmFzZUVsZW1lbnQge1xyXG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiAnY2FudmFzJztcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICBzdXBlcihzZXR0aW5ncyk7XHJcbiAgICBzZXR0aW5ncyA9IHsgLi4uREVGQVVMVFMsIC4uLnNldHRpbmdzIH07XHJcbiAgICB0aGlzLl93aWR0aCA9IG51bGw7XHJcbiAgICB0aGlzLl9oZWlnaHQgPSBudWxsO1xyXG4gICAgdGhpcy5fc2hhcGVzID0gbmV3IFNldCgpO1xyXG4gICAgdGhpcy5fY29ubmVjdGlvbnMgPSBuZXcgU2V0KCk7XHJcbiAgICB0aGlzLl9kb20gPSB7fTtcclxuICAgIHRoaXMuX2V2ZW50QnVzID0gbmV3IEV2ZW50QnVzKCk7XHJcbiAgICB0aGlzLl9zZWxlY3RlZEl0ZW1zID0gbmV3IFNldCgpO1xyXG4gICAgdGhpcy5fb25DaGFuZ2UgPSBzZXR0aW5ncy5vbkNoYW5nZTtcclxuICAgIHRoaXMuX29uQ29udGV4dE1lbnUgPSBzZXR0aW5ncy5vbkNvbnRleHRNZW51O1xyXG4gICAgdGhpcy5fb25FbGVtZW50Q29udGV4dE1lbnUgPSBzZXR0aW5ncy5vbkVsZW1lbnRDb250ZXh0TWVudTtcclxuICAgIHRoaXMuX3NlbGVjdGlvbkJlaGF2aW9yID0gU2VsZWN0aW9uQXJlYUJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3Muc2VsZWN0aW9uQXJlYUJlaGF2aW9yLCB0aGlzKTtcclxuICAgIHRoaXMuX2NvbnRleHRNZW51QmVoYXZpb3IgPSBDb250ZXh0TWVudUJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3MuY29udGV4dE1lbnVCZWhhdmlvciwgdGhpcyk7XHJcbiAgICB0aGlzLl9kcmFnZ2luZ0FyZWFCZWhhdmlvciA9IERyYWdnaW5nQXJlYUJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3MuZHJhZ2dpbmdBcmVhQmVoYXZpb3IsIHRoaXMpO1xyXG4gICAgdGhpcy5fY29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yID0gQ29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3MuY29ubmVjdGl2aXR5QXJlYUJlaGF2aW9yLCB0aGlzKTtcclxuICAgIHRoaXMuX2tleWJvYXJkQmVoYXZpb3IgPSBLZXlib2FyZENvbnRyb2xCZWhhdmlvckZhY3RvcnkuY3JlYXRlKHNldHRpbmdzLmtleWJvYXJkQ29udHJvbEJlaGF2aW9yLCB0aGlzKTtcclxuICAgIHRoaXMuX2NvbW1hbmRNYW5hZ2VyID0gbmV3IENvbW1hbmRNYW5hZ2VyKHsgc2l6ZTogc2V0dGluZ3Muc3RhY2tTaXplIH0pO1xyXG5cclxuICAgIHRoaXMuc2V0V2lkdGgoc2V0dGluZ3Mud2lkdGgpXHJcbiAgICAgIC5zZXRIZWlnaHQoc2V0dGluZ3MuaGVpZ2h0KVxyXG4gICAgICAuc2V0U2hhcGVzKHNldHRpbmdzLnNoYXBlcylcclxuICAgICAgLnNldENvbm5lY3Rpb25zKHNldHRpbmdzLmNvbm5lY3Rpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFdpZHRoKHdpZHRoKSB7XHJcbiAgICBpZiAodHlwZW9mIHdpZHRoICE9PSAnbnVtYmVyJykge1xyXG4gICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcclxuXHJcbiAgICBpZiAodGhpcy5fZWwpIHtcclxuICAgICAgdGhpcy5fZWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMuX3dpZHRoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xyXG4gIH1cclxuXHJcbiAgc2V0SGVpZ2h0KGhlaWdodCkge1xyXG4gICAgaWYgKHR5cGVvZiBoZWlnaHQgIT09ICdudW1iZXInKSB7XHJcbiAgICAgIEVycm9yVGhyb3dlci5pbnZhbGlkUGFyYW1ldGVyKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgaWYgKHRoaXMuX2VsKSB7XHJcbiAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5faGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGdldEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBfb25FbGVtZW50UmVtb3ZlKGN1c3RvbUV2ZW50KSB7XHJcbiAgICBjb25zdCByZW1vdmVkRWxlbWVudCA9IGN1c3RvbUV2ZW50LnRhcmdldDtcclxuXHJcbiAgICBpZiAodGhpcy5oYXNFbGVtZW50KHJlbW92ZWRFbGVtZW50KSkge1xyXG4gICAgICBpZiAoIXRoaXMuX3NoYXBlcy5kZWxldGUocmVtb3ZlZEVsZW1lbnQpKSB7XHJcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbnMuZGVsZXRlKHJlbW92ZWRFbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKEVMRU1FTlRfRVZFTlQuUkVNT1ZFLCByZW1vdmVkRWxlbWVudCwgdGhpcy5fb25FbGVtZW50UmVtb3ZlLCB0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9kcmF3RWxlbWVudChlbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5fZWwpIHtcclxuICAgICAgdGhpcy5fZG9tLmNvbXBvbmVudHNMYXllci5hcHBlbmRDaGlsZChlbGVtZW50LmdldEVsZW1lbnQoKSk7XHJcbiAgICAgIHRoaXMuX2RvbS51aUxheWVyLmFwcGVuZENoaWxkKGVsZW1lbnQuZ2V0VUlIVE1MKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkU2hhcGUoc2hhcGUsIC4uLmFyZ3MpIHtcclxuICAgIGlmICghKHNoYXBlIGluc3RhbmNlb2YgU2hhcGUpKSB7XHJcbiAgICAgIGxldCB0eXBlO1xyXG4gICAgICBsZXQgc2V0dGluZ3M7XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHNoYXBlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHR5cGUgPSBzaGFwZTtcclxuICAgICAgICBbc2V0dGluZ3NdID0gYXJncztcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2hhcGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdHlwZSA9IHNoYXBlLnR5cGU7XHJcbiAgICAgICAgc2V0dGluZ3MgPSBzaGFwZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzaGFwZSA9IERpYWdyYW1FbGVtZW50RmFjdG9yeS5jcmVhdGUodHlwZSwgc2V0dGluZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaGFwZSBpbnN0YW5jZW9mIFNoYXBlICYmICF0aGlzLl9zaGFwZXMuaGFzKHNoYXBlKSkge1xyXG4gICAgICB0aGlzLl9zaGFwZXMuYWRkKHNoYXBlKTtcclxuXHJcbiAgICAgIC8vIFRPRE86IEZpeCB0aGlzIGFjY2VzcyB0byBwcm90ZWN0ZWQgbWV0aG9kLlxyXG4gICAgICBzaGFwZS5fc2V0Q2FudmFzKHRoaXMpO1xyXG4gICAgICB0aGlzLl9kcmF3RWxlbWVudChzaGFwZSk7XHJcbiAgICAgIHRoaXMuYWRkTGlzdGVuZXIoRUxFTUVOVF9FVkVOVC5SRU1PVkUsIHNoYXBlLCB0aGlzLl9vbkVsZW1lbnRSZW1vdmUsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLy8gVE9ETzogc2hvdWxkIGJlIHJlbW92ZWQ/IHNpbmNlIGFkZEVsZW1lbnQgd2FzIHNwbGl0dGVkIGluIGFkZFNoYXBlKCkgYW5kIGNvbm5lY3QoKT9cclxuICBoYXNFbGVtZW50KGVsZW1lbnQpIHtcclxuICAgIHJldHVybiB0aGlzLl9zaGFwZXMuaGFzKGVsZW1lbnQpIHx8IHRoaXMuX2Nvbm5lY3Rpb25zLmhhcyhlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNsZWFyU2hhcGVzKCkge1xyXG4gICAgdGhpcy5fc2hhcGVzLmZvckVhY2goKHNoYXBlKSA9PiB7XHJcbiAgICAgIHNoYXBlLnJlbW92ZSgpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldFNoYXBlcyhzaGFwZXMpIHtcclxuICAgIHRoaXMuY2xlYXJTaGFwZXMoKTtcclxuICAgIHNoYXBlcy5mb3JFYWNoKChzaGFwZSkgPT4gdGhpcy5hZGRTaGFwZShzaGFwZSkpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgY2xlYXJDb25uZWN0aW9ucygpIHtcclxuICAgIHRoaXMuX2Nvbm5lY3Rpb25zLmZvckVhY2goKGNvbm5lY3Rpb24pID0+IHtcclxuICAgICAgY29ubmVjdGlvbi5yZW1vdmUoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgc2V0Q29ubmVjdGlvbnMoY29ubmVjdGlvbnMpIHtcclxuICAgIHRoaXMuY2xlYXJDb25uZWN0aW9ucygpO1xyXG4gICAgY29ubmVjdGlvbnMuZm9yRWFjaCgoY29ubmVjdGlvbikgPT4ge1xyXG4gICAgICBjb25zdCB7IG9yaWc6IG9yaWdTaGFwZSwgZGVzdDogZGVzdFNoYXBlIH0gPSBjb25uZWN0aW9uO1xyXG5cclxuICAgICAgdGhpcy5jb25uZWN0KG9yaWdTaGFwZSwgZGVzdFNoYXBlLCBjb25uZWN0aW9uKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29ubmVjdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gWy4uLnRoaXMuX2Nvbm5lY3Rpb25zXTtcclxuICB9XHJcblxyXG4gIGZpbmRTaGFwZShzaGFwZSkge1xyXG4gICAgaWYgKHR5cGVvZiBzaGFwZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIFsuLi50aGlzLl9zaGFwZXNdLmZpbmQoKGkpID0+IGkuZ2V0SUQoKSA9PT0gc2hhcGUpIHx8IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoc2hhcGUgaW5zdGFuY2VvZiBTaGFwZSkpIHtcclxuICAgICAgRXJyb3JUaHJvd2VyLmludmFsaWRQYXJhbWV0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fc2hhcGVzLmhhcyhzaGFwZSkgPyBzaGFwZSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBmaW5kQ29ubmVjdGlvbihjb25uZWN0aW9uKSB7XHJcbiAgICBpZiAodHlwZW9mIGNvbm5lY3Rpb24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiBbLi4udGhpcy5fY29ubmVjdGlvbnNdLmZpbmQoKGkpID0+IGkuZ2V0SUQoKSA9PT0gY29ubmVjdGlvbikgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjb25uZWN0aW9uIGluc3RhbmNlb2YgQ29ubmVjdGlvbikpIHtcclxuICAgICAgRXJyb3JUaHJvd2VyLmludmFsaWRQYXJhbWV0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbnMuaGFzKGNvbm5lY3Rpb24pID8gY29ubmVjdGlvbiA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBhZGRMaXN0ZW5lcihldmVudE5hbWUsIHRhcmdldE9yQ2FsbGJhY2ssIGNhbGxiYWNrT3JTY29wZSA9IG51bGwsIHNjb3BlID0gbnVsbCkge1xyXG4gICAgdGhpcy5fZXZlbnRCdXMuYWRkTGlzdGVuZXIuY2FsbCh0aGlzLl9ldmVudEJ1cywgZXZlbnROYW1lLCB0YXJnZXRPckNhbGxiYWNrLCBjYWxsYmFja09yU2NvcGUsIHNjb3BlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnROYW1lLCB0YXJnZXRPckNhbGxiYWNrLCBjYWxsYmFja09yU2NvcGUgPSBudWxsLCBzY29wZSA9IG51bGwpIHtcclxuICAgIHRoaXMuX2V2ZW50QnVzLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcy5fZXZlbnRCdXMsIGV2ZW50TmFtZSwgdGFyZ2V0T3JDYWxsYmFjaywgY2FsbGJhY2tPclNjb3BlLCBzY29wZSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IE1ha2UgdGhpcyBtZXRob2QgaW50ZXJuYWxcclxuICBkaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgdGFyZ2V0LCAuLi5hcmdzKSB7XHJcbiAgICB0aGlzLl9ldmVudEJ1cy5kaXNwYXRjaChldmVudE5hbWUsIHRhcmdldCwgLi4uYXJncyk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIF9hZGRDb25uZWN0aW9uKGNvbm5lY3Rpb24pIHtcclxuICAgIGlmICghdGhpcy5fY29ubmVjdGlvbnMuaGFzKGNvbm5lY3Rpb24pKSB7XHJcbiAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLmFkZChjb25uZWN0aW9uKTtcclxuICAgICAgY29ubmVjdGlvbi5fc2V0Q2FudmFzKHRoaXMpO1xyXG5cclxuICAgICAgdGhpcy5fZHJhd0VsZW1lbnQoY29ubmVjdGlvbik7XHJcbiAgICAgIHRoaXMuYWRkTGlzdGVuZXIoRUxFTUVOVF9FVkVOVC5SRU1PVkUsIGNvbm5lY3Rpb24sIHRoaXMuX29uRWxlbWVudFJlbW92ZSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25uZWN0KG9yaWdpbiwgZGVzdGluYXRpb24sIGNvbm5lY3Rpb24gPSBudWxsKSB7XHJcbiAgICBvcmlnaW4gPSBvcmlnaW4gaW5zdGFuY2VvZiBTaGFwZSA/IG9yaWdpbiA6IHRoaXMuZmluZFNoYXBlKG9yaWdpbik7XHJcbiAgICBkZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU2hhcGUgPyBkZXN0aW5hdGlvbiA6IHRoaXMuZmluZFNoYXBlKGRlc3RpbmF0aW9uKTtcclxuXHJcbiAgICBpZiAoIShjb25uZWN0aW9uIGluc3RhbmNlb2YgQ29ubmVjdGlvbikpIHtcclxuICAgICAgY29ubmVjdGlvbiA9IERpYWdyYW1FbGVtZW50RmFjdG9yeS5jcmVhdGUoRUxFTUVOVFMuQ09OTkVDVElPTiwgY29ubmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogY29ubmVjdGlvbidzIGNvbm5lY3QoKSBtZXRob2Qgc2hvdWxkIGJlIHNldCB0aGUgY2FudmFzLlxyXG4gICAgaWYgKGNvbm5lY3Rpb24uY29ubmVjdChvcmlnaW4sIGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICB0aGlzLl9hZGRDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xyXG5cclxuICAgICAgcmV0dXJuIGNvbm5lY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdHJpZ2dlcihldmVudE5hbWUsIC4uLmFyZ3MpIHtcclxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnROYW1lLCB0aGlzLCAuLi5hcmdzKTtcclxuICB9XHJcblxyXG4gIGNsaWVudFRvQ2FudmFzKGNsaWVudFBvc2l0aW9uKSB7XHJcbiAgICBjb25zdCBodG1sID0gdGhpcy5fZWw7XHJcblxyXG4gICAgaWYgKGh0bWwpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IGh0bWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IHsgeDogY2xpZW50WCwgeTogY2xpZW50WSB9ID0gY2xpZW50UG9zaXRpb247XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHg6IGNsaWVudFggLSByZWN0LngsXHJcbiAgICAgICAgeTogY2xpZW50WSAtIHJlY3QueSxcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwIH07XHJcbiAgfVxyXG5cclxuICBfY29ubmVjdFRvRHJhZ0FyZWFCZWhhdmlvcihiZWhhdmlvciwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBpZiAodGhpcy5fZHJhZ2dpbmdBcmVhQmVoYXZpb3IpIHtcclxuICAgICAgaWYgKCFiZWhhdmlvcikge1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nQXJlYUJlaGF2aW9yLnJlbW92ZURyYWdCZWhhdmlvcigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2RyYWdnaW5nQXJlYUJlaGF2aW9yLnNldERyYWdCZWhhdmlvcihiZWhhdmlvciwgb3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldFJlc2l6aW5nU2hhcGUoc2hhcGUsIGRpcmVjdGlvbikge1xyXG4gICAgLy8gVE9ETzogZmluZCBhIGJldHRlciB3YXkgdG8gZG8gdGhpcywgX2RyYWdCZWhhdmlvciBpcyBwcm90ZWN0ZWRcclxuICAgIGNvbnN0IGJlaGF2aW9yID0gc2hhcGUgJiYgc2hhcGUuX3Jlc2l6ZUJlaGF2aW9yO1xyXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3RUb0RyYWdBcmVhQmVoYXZpb3IoYmVoYXZpb3IsIG9wdGlvbnMpO1xyXG4gIH1cclxuXHJcbiAgc2V0RHJhZ2dpbmdTaGFwZShzaGFwZSkge1xyXG4gICAgLy8gVE9ETzogZmluZCBhIGJldHRlciB3YXkgdG8gZG8gdGhpcywgX2RyYWdCZWhhdmlvciBpcyBwcm90ZWN0ZWRcclxuICAgIGNvbnN0IGJlaGF2aW9yID0gc2hhcGUgJiYgc2hhcGUuX2RyYWdCZWhhdmlvcjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdFRvRHJhZ0FyZWFCZWhhdmlvcihiZWhhdmlvcik7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBib3RoIHNldCBhIGNvbm5lY3Rpb24gdG8gYmUgZHJhZ2dlZCBhbmQgdG8gcmVtb3ZlIGl0LlxyXG4gIC8vIG1heWJlIHRoZXJlIHNob3VsZCBiZSAgYSBkZWRpY2F0ZWQgbWV0aG9kIGZvciByZW1vdmluZy5cclxuICBzZXREcmFnZ2luZ0Nvbm5lY3Rpb24oY29ubmVjdGlvbiwgZHJhZ2dpbmdQb2ludCA9IG51bGwpIHtcclxuICAgIC8vIFRPRE86IEZpeCBhY2Nlc3MgdG8gcHJvdGVjdGVkIG1lbWJlclxyXG4gICAgY29uc3QgYmVoYXZpb3IgPSBjb25uZWN0aW9uICYmIGNvbm5lY3Rpb24uX2RyYWdCZWhhdmlvcjtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7IGRyYWdnaW5nUG9pbnQgfTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdFRvRHJhZ0FyZWFCZWhhdmlvcihiZWhhdmlvciwgb3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBEb2VzIG1ha2Ugc2Vuc2UgdG8gaGF2ZSB0aGlzIG1ldGhvZD9cclxuICAvKipcclxuICAgKiBAZGVwcmVjYXRlZFxyXG4gICAqL1xyXG4gIGdldENvbm5lY3Rpdml0eUFyZWFCZWhhdmlvcigpIHtcclxuICAgIHJldHVybiB0aGlzLl9jb25uZWN0aXZpdHlBcmVhQmVoYXZpb3I7XHJcbiAgfVxyXG5cclxuICBzdGFydENvbm5lY3Rpb24oc2hhcGUpIHtcclxuICAgIGlmICh0aGlzLl9zaGFwZXMuaGFzKHNoYXBlKSkge1xyXG4gICAgICB0aGlzLl9jb25uZWN0aXZpdHlBcmVhQmVoYXZpb3Iuc3RhcnQoc2hhcGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhcnRSZWNvbm5lY3Rpb24oY29ubmVjdGlvbiwgY29ubmVjdGlvblBvaW50KSB7XHJcbiAgICBsZXQgc2hhcGU7XHJcblxyXG4gICAgaWYgKGNvbm5lY3Rpb25Qb2ludCA9PT0gUE9SVF9NT0RFLk9SSUcpIHtcclxuICAgICAgc2hhcGUgPSBjb25uZWN0aW9uLmdldERlc3RTaGFwZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2hhcGUgPSBjb25uZWN0aW9uLmdldE9yaWdTaGFwZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5zdGFydChzaGFwZSwgY29ubmVjdGlvbiwgY29ubmVjdGlvblBvaW50KTtcclxuICB9XHJcblxyXG4gIGNhbmNlbENvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9jb25uZWN0aXZpdHlBcmVhQmVoYXZpb3IuZW5kKCk7XHJcbiAgfVxyXG5cclxuICBjb21wbGV0ZUNvbm5lY3Rpb24oc2hhcGUpIHtcclxuICAgIGlmICh0aGlzLl9zaGFwZXMuaGFzKHNoYXBlKSkge1xyXG4gICAgICB0aGlzLl9jb25uZWN0aXZpdHlBcmVhQmVoYXZpb3IuY29tcGxldGUoc2hhcGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0SXRlbShpdGVtKSB7XHJcbiAgICAvLyBUT0RPOiBtYXliZSBzZWxlY3Rpb24gYmVoYXZpb3Igc2hvdWxkIGhhdmUgdGhlIG1ldGhvZHMgdG8gc2V0IGEgc2VsZWN0aW9uIGFuZCB0byBhZGQgYW4gaXRlbVxyXG4gICAgLy8gdG8gYSBjdXJyZW50IHNlbGVjdGlvbiBzZXQuXHJcbiAgICB0aGlzLl9zZWxlY3Rpb25CZWhhdmlvci5jbGVhcigpO1xyXG4gICAgdGhpcy5fc2VsZWN0aW9uQmVoYXZpb3Iuc2VsZWN0KGl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZWN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGlvbkJlaGF2aW9yLmdldCgpO1xyXG4gIH1cclxuXHJcbiAgb25Db250ZXh0TWVudShldmVudCkge1xyXG4gICAgdGhpcy5fc2VsZWN0aW9uQmVoYXZpb3IuY2xlYXIoKTtcclxuICAgIHRoaXMuX29uQ29udGV4dE1lbnUoZXZlbnQsIHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZXMgYSBjb21tYW5kLCBhbmQgYWRkIGlmIGl0cyBzdWNjZXNmdWxseSBleGVjdXRlZCBpdCBpcyBhZGQgdG8gdGhlIHVuZG8vcmVkbyBzdGFjay5cclxuICAgKiBAc2VlIHtAbGluayBDb21tYW5kTWFuYWdlcn1cclxuICAgICovXHJcbiAgZXhlY3V0ZUNvbW1hbmQoLi4uYXJncykge1xyXG4gICAgY29uc3QgW2NvbW1hbmRdID0gYXJncztcclxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2NvbW1hbmRNYW5hZ2VyLmV4ZWN1dGVDb21tYW5kKC4uLmFyZ3MpO1xyXG5cclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgY29uc3QgY29tbWFuZEtleSA9ICh0eXBlb2YgY29tbWFuZCA9PT0gJ3N0cmluZycgJiYgY29tbWFuZCkgfHwgQ29tbWFuZEZhY3RvcnkuZ2V0UHJvZHVjdEtleShjb21tYW5kKTtcclxuXHJcbiAgICAgIHRoaXMuX29uQ2hhbmdlKHRoaXMsIGNvbW1hbmRLZXksIC4uLmFyZ3Muc2xpY2UoMSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICB1bmRvKCkge1xyXG4gICAgdGhpcy5fY29tbWFuZE1hbmFnZXIudW5kbygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jb21tYW5kTWFuYWdlci5nZXRTdGVwcygpWzBdO1xyXG4gIH1cclxuXHJcbiAgcmVkbygpIHtcclxuICAgIHRoaXMuX2NvbW1hbmRNYW5hZ2VyLnJlZG8oKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY29tbWFuZE1hbmFnZXIuZ2V0U3RlcHMoKVsxXTtcclxuICB9XHJcblxyXG4gIHRvSlNPTigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiB0aGlzLmdldElEKCksXHJcbiAgICAgIHNoYXBlczogWy4uLnRoaXMuX3NoYXBlc10ubWFwKChzaGFwZSkgPT4gc2hhcGUudG9KU09OKCkpLFxyXG4gICAgICBjb25uZWN0aW9uczogWy4uLnRoaXMuX2Nvbm5lY3Rpb25zXS5tYXAoKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24udG9KU09OKCkpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVFbGVtZW50KCkge1xyXG4gICAgaWYgKHRoaXMuX2VsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHN2ZyA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygnc3ZnJyk7XHJcbiAgICBjb25zdCByb290ID0gQmFzZUVsZW1lbnQuY3JlYXRlU1ZHKCdnJyk7XHJcbiAgICBjb25zdCBjb21wb25lbnRzTGF5ZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ2cnKTtcclxuICAgIGNvbnN0IHVpTGF5ZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ2cnKTtcclxuXHJcbiAgICBzdmcuc2V0QXR0cmlidXRlKCd4bWxucycsICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycpO1xyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgneG1sbnM6eGxpbmsnLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xyXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgndmVyc2lvbicsICcxLjEnKTtcclxuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2NhbnZhcycpO1xyXG4gICAgc3ZnLnN0eWxlLmJhY2tncm91bmQgPSAnI0YwRjBGMCc7XHJcblxyXG4gICAgcm9vdC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICdzY2FsZSgxLCAxKScpO1xyXG4gICAgcm9vdC5hcHBlbmQoY29tcG9uZW50c0xheWVyLCB1aUxheWVyKTtcclxuICAgIHN2Zy5hcHBlbmRDaGlsZChyb290KTtcclxuXHJcbiAgICB1aUxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFByb3BhZ2F0aW9uLCBmYWxzZSk7XHJcbiAgICB1aUxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RibENsaWNrJywgc3RvcFByb3BhZ2F0aW9uLCBmYWxzZSk7XHJcbiAgICBjb21wb25lbnRzTGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcGFnYXRpb24sIGZhbHNlKTtcclxuICAgIGNvbXBvbmVudHNMYXllci5hZGRFdmVudExpc3RlbmVyKCdkYmxDbGljaycsIHN0b3BQcm9wYWdhdGlvbiwgZmFsc2UpO1xyXG5cclxuICAgIHRoaXMuX2RvbS51aUxheWVyID0gdWlMYXllcjtcclxuICAgIHRoaXMuX2RvbS5jb21wb25lbnRzTGF5ZXIgPSBjb21wb25lbnRzTGF5ZXI7XHJcbiAgICB0aGlzLl9lbCA9IHN2ZztcclxuXHJcbiAgICB0aGlzLnNldFdpZHRoKHRoaXMuX3dpZHRoKVxyXG4gICAgICAuc2V0SGVpZ2h0KHRoaXMuX2hlaWdodCk7XHJcblxyXG4gICAgLy8gVE9ETzogV2hlbiBtaWdyYXRlIHRvIEV2ZW50VGFyZ2V0IGRpc3BhdGNoIGFuZCBldmVudCBhbiBtYWtlIHRoZSBhdHRhY2htZW50IG9uXHJcbiAgICAvLyB0aGUgYmVoYXZpb3IgaXRzZWxmLlxyXG4gICAgLy8gVE9ETzogV2hlbiBtaWdyYXRlIHRvIFdlYkNvbXBvbmVudHMgYXR0YWNoIGJlaGF2aW9yIG9uIGNvbm5lY3RpbmcuXHJcbiAgICB0aGlzLl9zZWxlY3Rpb25CZWhhdmlvci5hdHRhY2goKTtcclxuICAgIHRoaXMuX2Nvbm5lY3Rpdml0eUFyZWFCZWhhdmlvci5hdHRhY2goKTtcclxuICAgIHRoaXMuX2RyYWdnaW5nQXJlYUJlaGF2aW9yLmF0dGFjaCgpO1xyXG4gICAgdGhpcy5fa2V5Ym9hcmRCZWhhdmlvci5hdHRhY2goKTtcclxuICAgIHRoaXMuX2NvbnRleHRNZW51QmVoYXZpb3IuYXR0YWNoKCk7XHJcbiAgICB0aGlzLl9zaGFwZXMuZm9yRWFjaCgoc2hhcGUpID0+IHRoaXMuX2RyYXdFbGVtZW50KHNoYXBlKSk7XHJcbiAgICB0aGlzLl9jb25uZWN0aW9ucy5mb3JFYWNoKChjb25uZWN0aW9uKSA9PiB0aGlzLl9kcmF3RWxlbWVudChjb25uZWN0aW9uKSk7XHJcbiAgICB0aGlzLnNldElEKHRoaXMuX2lkKTtcclxuXHJcbiAgICByZXR1cm4gc3VwZXIuX2NyZWF0ZUVsZW1lbnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhbnZhcztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/diagram/Canvas.js\n");

/***/ }),

/***/ "./src/js/diagram/DiagramElement.js":
/*!******************************************!*\
  !*** ./src/js/diagram/DiagramElement.js ***!
  \******************************************/
/*! exports provided: default, EVENT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Canvas */ \"./src/js/diagram/Canvas.js\");\n/* harmony import */ var _DiagramText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DiagramText */ \"./src/js/diagram/DiagramText.js\");\n/* harmony import */ var _behavior_SelectBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../behavior/SelectBehaviorFactory */ \"./src/js/behavior/SelectBehaviorFactory.js\");\n/* harmony import */ var _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../behavior/ContextMenuBehaviorFactory */ \"./src/js/behavior/ContextMenuBehaviorFactory.js\");\n/* harmony import */ var _data_Model__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/Model */ \"./src/js/data/Model.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * The position of a rectangle boundary, using the top-left corner as the origin.\r\n * @typedef {Object} Bounds\r\n * @property {Number} top Units to the top from the origin.\r\n * @property {Number} right Units to the right from the origin.\r\n * @property {Number} bottom Units to the bottom from the origin.\r\n * @property {Number} left Units to the left from the origin.\r\n */\r\n\r\nconst DEFAULTS = {\r\n  canvas: null,\r\n  text: '',\r\n  data: {},\r\n  selectionBehavior: _behavior_SelectBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"PRODUCTS\"].DEFAULT,\r\n  // TODO: Canvas has also this behavior, maybe this and canvas should be inherited from same class, and all child of\r\n  // this one should be inherit of a child of the other class.\r\n  contextMenuBehavior: _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__[\"PRODUCTS\"].DEFAULT,\r\n};\r\n\r\n/**\r\n * Events DiagramElement dispatches.\r\n * @readonly\r\n * @enum {String}\r\n * @memberof DiagramElement\r\n * @property {String} REMOVE The component was removed.\r\n */\r\nconst EVENT = Object.freeze({\r\n  /** The component was removed. */\r\n  REMOVE: 'remove',\r\n});\r\n\r\n/**\r\n * @abstract\r\n * @class The base class for every component that a {@link Canvas} can contain.\r\n * @extends {BaseElement}\r\n */\r\nclass DiagramElement extends _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  static get type() {\r\n    return 'diagramElement';\r\n  }\r\n\r\n  /**\r\n   * Create an instance of DiagramElement.\r\n   * @param {Object} settings The settings.\r\n   * @param {String} [settings.id] The id for the HTML element, if not provided one will be generated.\r\n   * @param {Canvas} [settings.canvas=null] The Canvas the DiagramElement belongs to.\r\n   * @param {String} [settings.text=\"\"] The text for the DiagramElement.\r\n   */\r\n  constructor(settings) {\r\n    super(settings);\r\n\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    /**\r\n     * @protected\r\n     * @type {Canvas}\r\n     * @description The Canvas the component belongs to.\r\n     */\r\n    this._canvas = null;\r\n    /**\r\n     * @protected\r\n     * @type {DiagramText}\r\n     * @description The DiagramText for the DiagramElement.\r\n     */\r\n    this._text = new _DiagramText__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n    /**\r\n     * @protected\r\n     * @type {Object}\r\n     * @description An object literal to hold references to main DiagramElement's HTML elements.\r\n     */\r\n    this._dom = {};\r\n    /**\r\n     * @protected\r\n     * @type {Model}\r\n     * @description The data related to the element.\r\n     */\r\n    this._data = new _data_Model__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\r\n    /**\r\n     * @protected\r\n     * @type {ComponentUI}\r\n     */\r\n    this._componentUI = this._getComponentUI();\r\n    /**\r\n     * @protected\r\n     * @type {SelectBehavior}\r\n     */\r\n    this._selectBehavior = _behavior_SelectBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(settings.selectionBehavior, this);\r\n    /**\r\n     * @protected\r\n     * @type {ContextMenuBehavior}\r\n     */\r\n    this._contextMenuBehavior = _behavior_ContextMenuBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(settings.contextMenuBehavior, this);\r\n\r\n    this.setText(settings.text)\r\n      .setData(settings.data);\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @protected\r\n   * @description Return an instance of {@link ComponentUI}, which is tied to the current instance and will be used for\r\n   * holding the UI elements for manipulating the instance.\r\n   * @returns {ComponentUI}\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _getComponentUI() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_6__[\"default\"].notImplemented();\r\n  }\r\n\r\n  // TODO: make this method internal.\r\n  // TODO: in this method a call to canvas.addElement(), this method adds the shape to the canvas, so maybe this method\r\n  // should be refactored, this method shouldn't add shape to canvas\r\n  /**\r\n   * @protected\r\n   * Set the Canvas the instance will belong to.\r\n   * @param {Canvas} canvas\r\n   * @return {DiagramElement} this.\r\n   */\r\n  _setCanvas(canvas) {\r\n    if (!(canvas === null || canvas instanceof _Canvas__WEBPACK_IMPORTED_MODULE_1__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_6__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    if (this._canvas !== canvas) {\r\n      if (this._canvas) {\r\n        this.remove();\r\n      }\r\n      this._canvas = canvas;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @description Add a graphic control for manipulating the DiagramElement.\r\n   * @param {SVGElement} svgElement An SVG element to be the graphic control for the DiagramElement.\r\n   * @param {Object} events An object in which the key is an event name and its value is a function or an array of\r\n   * functions to be executed when that event occurs.\r\n   */\r\n  _addControl(svgElement, events) {\r\n    this._componentUI.addControl(svgElement, events);\r\n  }\r\n\r\n  /**\r\n   * Select the current instance.\r\n   */\r\n  select() {\r\n    this._selectBehavior.start();\r\n  }\r\n\r\n  /**\r\n   * Unselect the current instance.\r\n   */\r\n  unselect() {\r\n    this._selectBehavior.unselect();\r\n  }\r\n\r\n  /**\r\n   * If the shape is selected.\r\n   * @returns {Boolean} True is it's selected, False for unselected.\r\n   */\r\n  isSelected() {\r\n    return this._selectBehavior.isSelected();\r\n  }\r\n\r\n  /**\r\n   * Unselect and remove the instance from Canvas.\r\n   * @fires DiagramElement.REMOVE\r\n   */\r\n  remove() {\r\n    const { _canvas } = this;\r\n\r\n    if (_canvas) {\r\n      this.unselect();\r\n      this._componentUI.remove();\r\n      this._canvas = null;\r\n      super.remove();\r\n      _canvas.dispatchEvent(EVENT.REMOVE, this);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Return the Canvas the instance belongs to.\r\n   * @returns {Canvas}\r\n   */\r\n  getCanvas() {\r\n    return this._canvas;\r\n  }\r\n\r\n  /**\r\n   * Set the text for the instance.\r\n   * @param {String} text\r\n   * @returns {DiagramElement} this.\r\n   */\r\n  setText(text) {\r\n    this._text.setText(text);\r\n\r\n    if (this._dom.title) {\r\n      this._dom.title.text = text;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Return the current instance's text.\r\n   * @return {String}\r\n   */\r\n  getText() {\r\n    return this._text.getText();\r\n  }\r\n\r\n  /**\r\n   * Trigger an event to the Canvas' event bus.\r\n   * @param {DiagramElement.EVENT} eventName The name for the event.\r\n   * @param {...any} args A list of args to provide to the event's listeners.\r\n   * @returns {DiagramElement} this.\r\n   */\r\n  trigger(eventName, ...args) {\r\n    const canvas = this._canvas;\r\n\r\n    if (canvas) {\r\n      canvas.dispatchEvent(eventName, this, ...args);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @description Returns the concrete instance's HTMLElement that represent the instance itself.\r\n   * @returns {SVGElement}\r\n   */\r\n  _getMainElement() {\r\n    return this._createElement()._dom.mainElement;\r\n  }\r\n\r\n  /**\r\n   * @abstract\r\n   * @description Return the coordinates of the square boundary that correponds to the instance's SVG element. The\r\n   * coordinates are relative to the Canvas the instance belongs to.\r\n   * @return {Bounds}\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this\r\n  getBounds() { _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_6__[\"default\"].notImplemented(); }\r\n\r\n  /**\r\n   * Trigger its parent {@link Canvas._onElementContextMenu Canvas' callback for context menu event}.\r\n   * @param {Event} event The event that triggered the context menu.\r\n   */\r\n  onContextMenu(event) {\r\n    const canvas = this.getCanvas();\r\n\r\n    if (canvas) {\r\n      canvas._onElementContextMenu(event, this);\r\n    }\r\n  }\r\n\r\n  /**\r\n  * Set the data for the element.\r\n  * @param  {Object} args An object literal to be set.\r\n  * @returns {DiagramElement} this.\r\n  */\r\n  setData(...args) {\r\n    this._data.set(...args);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Add a new value to the element's data.\r\n   * @param {String} key The key for the data to set.\r\n   * @param {*} value The value to set.\r\n   * @returns {DiagramElement} this.\r\n   */\r\n  addData(key, value) {\r\n    this._data.set(key, value);\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Get the data for a specific key.\r\n   * @param {String} key The key the data will be get for.\r\n   * @returns {*} The corresponding value to the provided key.\r\n   */\r\n  getData(key) {\r\n    return this._data.get(key);\r\n  }\r\n\r\n  /**\r\n   * Return a boolean asserting whether a value has been associated to the key in the element's data or not.\r\n   * @param {String} key The key of the value to test for presence in the element's data.\r\n   * @returns {Boolean} true if a value with the specified key exists in the element's data; otherwise false.\r\n   */\r\n  hasData(key) {\r\n    return this._data.has(key);\r\n  }\r\n\r\n  /**\r\n   * Remove the specified element from a element's data by key.\r\n   * @param {String} key The key of the value to remove from the element's data.\r\n   * @returns {Boolean} true if a value in the element's data existed and has been removed, or false if the value does\r\n   * not exist.\r\n   */\r\n  deleteData(key) {\r\n    return this._data.delete(key);\r\n  }\r\n\r\n  /**\r\n   * Remove all elements from the element's data.\r\n   */\r\n  clearData() {\r\n    this._data.clear();\r\n  }\r\n\r\n  /**\r\n   * Return an object literal of the element's data.\r\n   * @returns {Object} The element's data in object literal format.\r\n   */\r\n  getAllData() {\r\n    return this._data.toJSON();\r\n  }\r\n\r\n  /**\r\n   * Return the element's JSON representation.\r\n   * @returns {Object} The element's JSON representation.\r\n   */\r\n  toJSON() {\r\n    return {\r\n      id: this._id,\r\n      type: this.type,\r\n      text: this.getText(),\r\n      data: this._data.toJSON(),\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Creates the instance's HTML.\r\n   * @returns {DiagramElement} this.\r\n   */\r\n  _createElement() {\r\n    if (this._el) {\r\n      return this;\r\n    }\r\n\r\n    const wrapper = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const mainElement = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n    const title = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create('title');\r\n\r\n    title.textContent = this._text.getText();\r\n    // TODO: This can be set in CSS?\r\n    mainElement.setAttribute('cursor', 'pointer');\r\n    mainElement.classList.add('main-element');\r\n    wrapper.classList.add('element');\r\n    wrapper.setAttribute('focusable', false);\r\n    wrapper.append(mainElement);\r\n    wrapper.append(title);\r\n    wrapper.append(this._text.getElement());\r\n\r\n    this._dom.mainElement = mainElement;\r\n    this._dom.title = title;\r\n    this._el = wrapper;\r\n    this._selectBehavior.attach();\r\n    this._contextMenuBehavior.attach();\r\n    this.setID(this._id);\r\n\r\n    return super._createElement();\r\n  }\r\n\r\n  /**\r\n   * Returns the HTML for the instance UI layer.\r\n   * @returns {SVGElement}\r\n   */\r\n  getUIHTML() {\r\n    return this._componentUI.getElement();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DiagramElement);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGlhZ3JhbS9EaWFncmFtRWxlbWVudC5qcz9lODEyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUE4QztBQUNoQjtBQUNVO0FBQytEO0FBQ2dCO0FBQ3JGO0FBQ2U7O0FBRWpEO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixxQkFBcUIsd0VBQWU7QUFDcEM7QUFDQTtBQUNBLHVCQUF1Qiw2RUFBcUI7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EscURBQXFELGFBQWE7QUFDbEUsYUFBYTtBQUNiO0FBQ0EsNkJBQTZCLHlEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLHFCQUFxQixvREFBVztBQUNoQztBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLHFCQUFxQixtREFBSztBQUMxQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsMkJBQTJCLHVFQUFxQjtBQUNoRDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsZ0NBQWdDLDRFQUEwQjs7QUFFMUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxrQkFBa0I7QUFDM0Q7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsSUFBSSwyREFBWTtBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxlQUFlO0FBQzdCO0FBQ0E7QUFDQSwrQ0FBK0MsK0NBQU07QUFDckQsTUFBTSwyREFBWTtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxlQUFlLENBQUMsMkRBQVksa0JBQWtCOztBQUU5QztBQUNBLHlCQUF5QiwyRUFBMkU7QUFDcEcsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsZUFBZTtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsRUFBRTtBQUNmLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsRUFBRTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsUUFBUSxxRUFBcUU7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHlEQUFXO0FBQy9CLHdCQUF3Qix5REFBVztBQUNuQyxrQkFBa0IseURBQVc7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsNkVBQWMsRUFBQztBQUNiIiwiZmlsZSI6Ii4vc3JjL2pzL2RpYWdyYW0vRGlhZ3JhbUVsZW1lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vY29yZS9CYXNlRWxlbWVudCc7XHJcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9DYW52YXMnO1xyXG5pbXBvcnQgRGlhZ3JhbVRleHQgZnJvbSAnLi9EaWFncmFtVGV4dCc7XHJcbmltcG9ydCBTZWxlY3RCZWhhdmlvckZhY3RvcnksIHsgUFJPRFVDVFMgYXMgU0VMRUNUX1BST0RVQ1RTIH0gZnJvbSAnLi4vYmVoYXZpb3IvU2VsZWN0QmVoYXZpb3JGYWN0b3J5JztcclxuaW1wb3J0IENvbnRleHRNZW51QmVoYXZpb3JGYWN0b3J5LCB7IFBST0RVQ1RTIGFzIENPTlRFWFRfTUVOVV9QUk9EVUNUUyB9IGZyb20gJy4uL2JlaGF2aW9yL0NvbnRleHRNZW51QmVoYXZpb3JGYWN0b3J5JztcclxuaW1wb3J0IE1vZGVsIGZyb20gJy4uL2RhdGEvTW9kZWwnO1xyXG5pbXBvcnQgRXJyb3JUaHJvd2VyIGZyb20gJy4uL3V0aWxzL0Vycm9yVGhyb3dlcic7XHJcblxyXG4vKipcclxuICogVGhlIHBvc2l0aW9uIG9mIGEgcmVjdGFuZ2xlIGJvdW5kYXJ5LCB1c2luZyB0aGUgdG9wLWxlZnQgY29ybmVyIGFzIHRoZSBvcmlnaW4uXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEJvdW5kc1xyXG4gKiBAcHJvcGVydHkge051bWJlcn0gdG9wIFVuaXRzIHRvIHRoZSB0b3AgZnJvbSB0aGUgb3JpZ2luLlxyXG4gKiBAcHJvcGVydHkge051bWJlcn0gcmlnaHQgVW5pdHMgdG8gdGhlIHJpZ2h0IGZyb20gdGhlIG9yaWdpbi5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGJvdHRvbSBVbml0cyB0byB0aGUgYm90dG9tIGZyb20gdGhlIG9yaWdpbi5cclxuICogQHByb3BlcnR5IHtOdW1iZXJ9IGxlZnQgVW5pdHMgdG8gdGhlIGxlZnQgZnJvbSB0aGUgb3JpZ2luLlxyXG4gKi9cclxuXHJcbmNvbnN0IERFRkFVTFRTID0ge1xyXG4gIGNhbnZhczogbnVsbCxcclxuICB0ZXh0OiAnJyxcclxuICBkYXRhOiB7fSxcclxuICBzZWxlY3Rpb25CZWhhdmlvcjogU0VMRUNUX1BST0RVQ1RTLkRFRkFVTFQsXHJcbiAgLy8gVE9ETzogQ2FudmFzIGhhcyBhbHNvIHRoaXMgYmVoYXZpb3IsIG1heWJlIHRoaXMgYW5kIGNhbnZhcyBzaG91bGQgYmUgaW5oZXJpdGVkIGZyb20gc2FtZSBjbGFzcywgYW5kIGFsbCBjaGlsZCBvZlxyXG4gIC8vIHRoaXMgb25lIHNob3VsZCBiZSBpbmhlcml0IG9mIGEgY2hpbGQgb2YgdGhlIG90aGVyIGNsYXNzLlxyXG4gIGNvbnRleHRNZW51QmVoYXZpb3I6IENPTlRFWFRfTUVOVV9QUk9EVUNUUy5ERUZBVUxULFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEV2ZW50cyBEaWFncmFtRWxlbWVudCBkaXNwYXRjaGVzLlxyXG4gKiBAcmVhZG9ubHlcclxuICogQGVudW0ge1N0cmluZ31cclxuICogQG1lbWJlcm9mIERpYWdyYW1FbGVtZW50XHJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBSRU1PVkUgVGhlIGNvbXBvbmVudCB3YXMgcmVtb3ZlZC5cclxuICovXHJcbmNvbnN0IEVWRU5UID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgLyoqIFRoZSBjb21wb25lbnQgd2FzIHJlbW92ZWQuICovXHJcbiAgUkVNT1ZFOiAncmVtb3ZlJyxcclxufSk7XHJcblxyXG4vKipcclxuICogQGFic3RyYWN0XHJcbiAqIEBjbGFzcyBUaGUgYmFzZSBjbGFzcyBmb3IgZXZlcnkgY29tcG9uZW50IHRoYXQgYSB7QGxpbmsgQ2FudmFzfSBjYW4gY29udGFpbi5cclxuICogQGV4dGVuZHMge0Jhc2VFbGVtZW50fVxyXG4gKi9cclxuY2xhc3MgRGlhZ3JhbUVsZW1lbnQgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XHJcbiAgLyoqXHJcbiAgICogQGluaGVyaXRkb2NcclxuICAgKi9cclxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ2RpYWdyYW1FbGVtZW50JztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBEaWFncmFtRWxlbWVudC5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3MgVGhlIHNldHRpbmdzLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2V0dGluZ3MuaWRdIFRoZSBpZCBmb3IgdGhlIEhUTUwgZWxlbWVudCwgaWYgbm90IHByb3ZpZGVkIG9uZSB3aWxsIGJlIGdlbmVyYXRlZC5cclxuICAgKiBAcGFyYW0ge0NhbnZhc30gW3NldHRpbmdzLmNhbnZhcz1udWxsXSBUaGUgQ2FudmFzIHRoZSBEaWFncmFtRWxlbWVudCBiZWxvbmdzIHRvLlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbc2V0dGluZ3MudGV4dD1cIlwiXSBUaGUgdGV4dCBmb3IgdGhlIERpYWdyYW1FbGVtZW50LlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICBzdXBlcihzZXR0aW5ncyk7XHJcblxyXG4gICAgc2V0dGluZ3MgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRTLFxyXG4gICAgICAuLi5zZXR0aW5ncyxcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAdHlwZSB7Q2FudmFzfVxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSBDYW52YXMgdGhlIGNvbXBvbmVudCBiZWxvbmdzIHRvLlxyXG4gICAgICovXHJcbiAgICB0aGlzLl9jYW52YXMgPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAdHlwZSB7RGlhZ3JhbVRleHR9XHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlIERpYWdyYW1UZXh0IGZvciB0aGUgRGlhZ3JhbUVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX3RleHQgPSBuZXcgRGlhZ3JhbVRleHQoKTtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqIEBkZXNjcmlwdGlvbiBBbiBvYmplY3QgbGl0ZXJhbCB0byBob2xkIHJlZmVyZW5jZXMgdG8gbWFpbiBEaWFncmFtRWxlbWVudCdzIEhUTUwgZWxlbWVudHMuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2RvbSA9IHt9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAdHlwZSB7TW9kZWx9XHJcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlIGRhdGEgcmVsYXRlZCB0byB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgdGhpcy5fZGF0YSA9IG5ldyBNb2RlbCgpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAdHlwZSB7Q29tcG9uZW50VUl9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2NvbXBvbmVudFVJID0gdGhpcy5fZ2V0Q29tcG9uZW50VUkoKTtcclxuICAgIC8qKlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHR5cGUge1NlbGVjdEJlaGF2aW9yfVxyXG4gICAgICovXHJcbiAgICB0aGlzLl9zZWxlY3RCZWhhdmlvciA9IFNlbGVjdEJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3Muc2VsZWN0aW9uQmVoYXZpb3IsIHRoaXMpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAdHlwZSB7Q29udGV4dE1lbnVCZWhhdmlvcn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5fY29udGV4dE1lbnVCZWhhdmlvciA9IENvbnRleHRNZW51QmVoYXZpb3JGYWN0b3J5LmNyZWF0ZShzZXR0aW5ncy5jb250ZXh0TWVudUJlaGF2aW9yLCB0aGlzKTtcclxuXHJcbiAgICB0aGlzLnNldFRleHQoc2V0dGluZ3MudGV4dClcclxuICAgICAgLnNldERhdGEoc2V0dGluZ3MuZGF0YSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybiBhbiBpbnN0YW5jZSBvZiB7QGxpbmsgQ29tcG9uZW50VUl9LCB3aGljaCBpcyB0aWVkIHRvIHRoZSBjdXJyZW50IGluc3RhbmNlIGFuZCB3aWxsIGJlIHVzZWQgZm9yXHJcbiAgICogaG9sZGluZyB0aGUgVUkgZWxlbWVudHMgZm9yIG1hbmlwdWxhdGluZyB0aGUgaW5zdGFuY2UuXHJcbiAgICogQHJldHVybnMge0NvbXBvbmVudFVJfVxyXG4gICAqL1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgX2dldENvbXBvbmVudFVJKCkge1xyXG4gICAgRXJyb3JUaHJvd2VyLm5vdEltcGxlbWVudGVkKCk7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBtYWtlIHRoaXMgbWV0aG9kIGludGVybmFsLlxyXG4gIC8vIFRPRE86IGluIHRoaXMgbWV0aG9kIGEgY2FsbCB0byBjYW52YXMuYWRkRWxlbWVudCgpLCB0aGlzIG1ldGhvZCBhZGRzIHRoZSBzaGFwZSB0byB0aGUgY2FudmFzLCBzbyBtYXliZSB0aGlzIG1ldGhvZFxyXG4gIC8vIHNob3VsZCBiZSByZWZhY3RvcmVkLCB0aGlzIG1ldGhvZCBzaG91bGRuJ3QgYWRkIHNoYXBlIHRvIGNhbnZhc1xyXG4gIC8qKlxyXG4gICAqIEBwcm90ZWN0ZWRcclxuICAgKiBTZXQgdGhlIENhbnZhcyB0aGUgaW5zdGFuY2Ugd2lsbCBiZWxvbmcgdG8uXHJcbiAgICogQHBhcmFtIHtDYW52YXN9IGNhbnZhc1xyXG4gICAqIEByZXR1cm4ge0RpYWdyYW1FbGVtZW50fSB0aGlzLlxyXG4gICAqL1xyXG4gIF9zZXRDYW52YXMoY2FudmFzKSB7XHJcbiAgICBpZiAoIShjYW52YXMgPT09IG51bGwgfHwgY2FudmFzIGluc3RhbmNlb2YgQ2FudmFzKSkge1xyXG4gICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLl9jYW52YXMgIT09IGNhbnZhcykge1xyXG4gICAgICBpZiAodGhpcy5fY2FudmFzKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmUoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIEFkZCBhIGdyYXBoaWMgY29udHJvbCBmb3IgbWFuaXB1bGF0aW5nIHRoZSBEaWFncmFtRWxlbWVudC5cclxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IHN2Z0VsZW1lbnQgQW4gU1ZHIGVsZW1lbnQgdG8gYmUgdGhlIGdyYXBoaWMgY29udHJvbCBmb3IgdGhlIERpYWdyYW1FbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudHMgQW4gb2JqZWN0IGluIHdoaWNoIHRoZSBrZXkgaXMgYW4gZXZlbnQgbmFtZSBhbmQgaXRzIHZhbHVlIGlzIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2ZcclxuICAgKiBmdW5jdGlvbnMgdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGF0IGV2ZW50IG9jY3Vycy5cclxuICAgKi9cclxuICBfYWRkQ29udHJvbChzdmdFbGVtZW50LCBldmVudHMpIHtcclxuICAgIHRoaXMuX2NvbXBvbmVudFVJLmFkZENvbnRyb2woc3ZnRWxlbWVudCwgZXZlbnRzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlbGVjdCB0aGUgY3VycmVudCBpbnN0YW5jZS5cclxuICAgKi9cclxuICBzZWxlY3QoKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RCZWhhdmlvci5zdGFydCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVW5zZWxlY3QgdGhlIGN1cnJlbnQgaW5zdGFuY2UuXHJcbiAgICovXHJcbiAgdW5zZWxlY3QoKSB7XHJcbiAgICB0aGlzLl9zZWxlY3RCZWhhdmlvci51bnNlbGVjdCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSWYgdGhlIHNoYXBlIGlzIHNlbGVjdGVkLlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlzIGl0J3Mgc2VsZWN0ZWQsIEZhbHNlIGZvciB1bnNlbGVjdGVkLlxyXG4gICAqL1xyXG4gIGlzU2VsZWN0ZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0QmVoYXZpb3IuaXNTZWxlY3RlZCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVW5zZWxlY3QgYW5kIHJlbW92ZSB0aGUgaW5zdGFuY2UgZnJvbSBDYW52YXMuXHJcbiAgICogQGZpcmVzIERpYWdyYW1FbGVtZW50LlJFTU9WRVxyXG4gICAqL1xyXG4gIHJlbW92ZSgpIHtcclxuICAgIGNvbnN0IHsgX2NhbnZhcyB9ID0gdGhpcztcclxuXHJcbiAgICBpZiAoX2NhbnZhcykge1xyXG4gICAgICB0aGlzLnVuc2VsZWN0KCk7XHJcbiAgICAgIHRoaXMuX2NvbXBvbmVudFVJLnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLl9jYW52YXMgPSBudWxsO1xyXG4gICAgICBzdXBlci5yZW1vdmUoKTtcclxuICAgICAgX2NhbnZhcy5kaXNwYXRjaEV2ZW50KEVWRU5ULlJFTU9WRSwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm4gdGhlIENhbnZhcyB0aGUgaW5zdGFuY2UgYmVsb25ncyB0by5cclxuICAgKiBAcmV0dXJucyB7Q2FudmFzfVxyXG4gICAqL1xyXG4gIGdldENhbnZhcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9jYW52YXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHRleHQgZm9yIHRoZSBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxyXG4gICAqIEByZXR1cm5zIHtEaWFncmFtRWxlbWVudH0gdGhpcy5cclxuICAgKi9cclxuICBzZXRUZXh0KHRleHQpIHtcclxuICAgIHRoaXMuX3RleHQuc2V0VGV4dCh0ZXh0KTtcclxuXHJcbiAgICBpZiAodGhpcy5fZG9tLnRpdGxlKSB7XHJcbiAgICAgIHRoaXMuX2RvbS50aXRsZS50ZXh0ID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBpbnN0YW5jZSdzIHRleHQuXHJcbiAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldFRleHQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGV4dC5nZXRUZXh0KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmlnZ2VyIGFuIGV2ZW50IHRvIHRoZSBDYW52YXMnIGV2ZW50IGJ1cy5cclxuICAgKiBAcGFyYW0ge0RpYWdyYW1FbGVtZW50LkVWRU5UfSBldmVudE5hbWUgVGhlIG5hbWUgZm9yIHRoZSBldmVudC5cclxuICAgKiBAcGFyYW0gey4uLmFueX0gYXJncyBBIGxpc3Qgb2YgYXJncyB0byBwcm92aWRlIHRvIHRoZSBldmVudCdzIGxpc3RlbmVycy5cclxuICAgKiBAcmV0dXJucyB7RGlhZ3JhbUVsZW1lbnR9IHRoaXMuXHJcbiAgICovXHJcbiAgdHJpZ2dlcihldmVudE5hbWUsIC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX2NhbnZhcztcclxuXHJcbiAgICBpZiAoY2FudmFzKSB7XHJcbiAgICAgIGNhbnZhcy5kaXNwYXRjaEV2ZW50KGV2ZW50TmFtZSwgdGhpcywgLi4uYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcHJvdGVjdGVkXHJcbiAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGNvbmNyZXRlIGluc3RhbmNlJ3MgSFRNTEVsZW1lbnQgdGhhdCByZXByZXNlbnQgdGhlIGluc3RhbmNlIGl0c2VsZi5cclxuICAgKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cclxuICAgKi9cclxuICBfZ2V0TWFpbkVsZW1lbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlRWxlbWVudCgpLl9kb20ubWFpbkVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAYWJzdHJhY3RcclxuICAgKiBAZGVzY3JpcHRpb24gUmV0dXJuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgc3F1YXJlIGJvdW5kYXJ5IHRoYXQgY29ycmVwb25kcyB0byB0aGUgaW5zdGFuY2UncyBTVkcgZWxlbWVudC4gVGhlXHJcbiAgICogY29vcmRpbmF0ZXMgYXJlIHJlbGF0aXZlIHRvIHRoZSBDYW52YXMgdGhlIGluc3RhbmNlIGJlbG9uZ3MgdG8uXHJcbiAgICogQHJldHVybiB7Qm91bmRzfVxyXG4gICAqL1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgZ2V0Qm91bmRzKCkgeyBFcnJvclRocm93ZXIubm90SW1wbGVtZW50ZWQoKTsgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmlnZ2VyIGl0cyBwYXJlbnQge0BsaW5rIENhbnZhcy5fb25FbGVtZW50Q29udGV4dE1lbnUgQ2FudmFzJyBjYWxsYmFjayBmb3IgY29udGV4dCBtZW51IGV2ZW50fS5cclxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIGNvbnRleHQgbWVudS5cclxuICAgKi9cclxuICBvbkNvbnRleHRNZW51KGV2ZW50KSB7XHJcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldENhbnZhcygpO1xyXG5cclxuICAgIGlmIChjYW52YXMpIHtcclxuICAgICAgY2FudmFzLl9vbkVsZW1lbnRDb250ZXh0TWVudShldmVudCwgdGhpcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAqIFNldCB0aGUgZGF0YSBmb3IgdGhlIGVsZW1lbnQuXHJcbiAgKiBAcGFyYW0gIHtPYmplY3R9IGFyZ3MgQW4gb2JqZWN0IGxpdGVyYWwgdG8gYmUgc2V0LlxyXG4gICogQHJldHVybnMge0RpYWdyYW1FbGVtZW50fSB0aGlzLlxyXG4gICovXHJcbiAgc2V0RGF0YSguLi5hcmdzKSB7XHJcbiAgICB0aGlzLl9kYXRhLnNldCguLi5hcmdzKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIG5ldyB2YWx1ZSB0byB0aGUgZWxlbWVudCdzIGRhdGEuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgZGF0YSB0byBzZXQuXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxyXG4gICAqIEByZXR1cm5zIHtEaWFncmFtRWxlbWVudH0gdGhpcy5cclxuICAgKi9cclxuICBhZGREYXRhKGtleSwgdmFsdWUpIHtcclxuICAgIHRoaXMuX2RhdGEuc2V0KGtleSwgdmFsdWUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBkYXRhIGZvciBhIHNwZWNpZmljIGtleS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgdGhlIGRhdGEgd2lsbCBiZSBnZXQgZm9yLlxyXG4gICAqIEByZXR1cm5zIHsqfSBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSB0byB0aGUgcHJvdmlkZWQga2V5LlxyXG4gICAqL1xyXG4gIGdldERhdGEoa2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5nZXQoa2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiBhIGJvb2xlYW4gYXNzZXJ0aW5nIHdoZXRoZXIgYSB2YWx1ZSBoYXMgYmVlbiBhc3NvY2lhdGVkIHRvIHRoZSBrZXkgaW4gdGhlIGVsZW1lbnQncyBkYXRhIG9yIG5vdC5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHRlc3QgZm9yIHByZXNlbmNlIGluIHRoZSBlbGVtZW50J3MgZGF0YS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBhIHZhbHVlIHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZXhpc3RzIGluIHRoZSBlbGVtZW50J3MgZGF0YTsgb3RoZXJ3aXNlIGZhbHNlLlxyXG4gICAqL1xyXG4gIGhhc0RhdGEoa2V5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5oYXMoa2V5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZSB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgZnJvbSBhIGVsZW1lbnQncyBkYXRhIGJ5IGtleS5cclxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZSBmcm9tIHRoZSBlbGVtZW50J3MgZGF0YS5cclxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBhIHZhbHVlIGluIHRoZSBlbGVtZW50J3MgZGF0YSBleGlzdGVkIGFuZCBoYXMgYmVlbiByZW1vdmVkLCBvciBmYWxzZSBpZiB0aGUgdmFsdWUgZG9lc1xyXG4gICAqIG5vdCBleGlzdC5cclxuICAgKi9cclxuICBkZWxldGVEYXRhKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuZGVsZXRlKGtleSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYWxsIGVsZW1lbnRzIGZyb20gdGhlIGVsZW1lbnQncyBkYXRhLlxyXG4gICAqL1xyXG4gIGNsZWFyRGF0YSgpIHtcclxuICAgIHRoaXMuX2RhdGEuY2xlYXIoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiBhbiBvYmplY3QgbGl0ZXJhbCBvZiB0aGUgZWxlbWVudCdzIGRhdGEuXHJcbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIGVsZW1lbnQncyBkYXRhIGluIG9iamVjdCBsaXRlcmFsIGZvcm1hdC5cclxuICAgKi9cclxuICBnZXRBbGxEYXRhKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGEudG9KU09OKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm4gdGhlIGVsZW1lbnQncyBKU09OIHJlcHJlc2VudGF0aW9uLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBlbGVtZW50J3MgSlNPTiByZXByZXNlbnRhdGlvbi5cclxuICAgKi9cclxuICB0b0pTT04oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpZDogdGhpcy5faWQsXHJcbiAgICAgIHR5cGU6IHRoaXMudHlwZSxcclxuICAgICAgdGV4dDogdGhpcy5nZXRUZXh0KCksXHJcbiAgICAgIGRhdGE6IHRoaXMuX2RhdGEudG9KU09OKCksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyB0aGUgaW5zdGFuY2UncyBIVE1MLlxyXG4gICAqIEByZXR1cm5zIHtEaWFncmFtRWxlbWVudH0gdGhpcy5cclxuICAgKi9cclxuICBfY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIGlmICh0aGlzLl9lbCkge1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB3cmFwcGVyID0gQmFzZUVsZW1lbnQuY3JlYXRlU1ZHKCdnJyk7XHJcbiAgICBjb25zdCBtYWluRWxlbWVudCA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygnZycpO1xyXG4gICAgY29uc3QgdGl0bGUgPSBCYXNlRWxlbWVudC5jcmVhdGUoJ3RpdGxlJyk7XHJcblxyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0LmdldFRleHQoKTtcclxuICAgIC8vIFRPRE86IFRoaXMgY2FuIGJlIHNldCBpbiBDU1M/XHJcbiAgICBtYWluRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2N1cnNvcicsICdwb2ludGVyJyk7XHJcbiAgICBtYWluRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYWluLWVsZW1lbnQnKTtcclxuICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZWxlbWVudCcpO1xyXG4gICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2ZvY3VzYWJsZScsIGZhbHNlKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kKG1haW5FbGVtZW50KTtcclxuICAgIHdyYXBwZXIuYXBwZW5kKHRpdGxlKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kKHRoaXMuX3RleHQuZ2V0RWxlbWVudCgpKTtcclxuXHJcbiAgICB0aGlzLl9kb20ubWFpbkVsZW1lbnQgPSBtYWluRWxlbWVudDtcclxuICAgIHRoaXMuX2RvbS50aXRsZSA9IHRpdGxlO1xyXG4gICAgdGhpcy5fZWwgPSB3cmFwcGVyO1xyXG4gICAgdGhpcy5fc2VsZWN0QmVoYXZpb3IuYXR0YWNoKCk7XHJcbiAgICB0aGlzLl9jb250ZXh0TWVudUJlaGF2aW9yLmF0dGFjaCgpO1xyXG4gICAgdGhpcy5zZXRJRCh0aGlzLl9pZCk7XHJcblxyXG4gICAgcmV0dXJuIHN1cGVyLl9jcmVhdGVFbGVtZW50KCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBIVE1MIGZvciB0aGUgaW5zdGFuY2UgVUkgbGF5ZXIuXHJcbiAgICogQHJldHVybnMge1NWR0VsZW1lbnR9XHJcbiAgICovXHJcbiAgZ2V0VUlIVE1MKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudFVJLmdldEVsZW1lbnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERpYWdyYW1FbGVtZW50O1xyXG5leHBvcnQgeyBFVkVOVCB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/diagram/DiagramElement.js\n");

/***/ }),

/***/ "./src/js/diagram/DiagramElementFactory.js":
/*!*************************************************!*\
  !*** ./src/js/diagram/DiagramElementFactory.js ***!
  \*************************************************/
/*! exports provided: default, PRODUCTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PRODUCTS\", function() { return PRODUCTS; });\n/* harmony import */ var _core_Factory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Factory */ \"./src/js/core/Factory.js\");\n/* harmony import */ var _shape_Circle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shape/Circle */ \"./src/js/shape/Circle.js\");\n/* harmony import */ var _shape_Ellipse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shape/Ellipse */ \"./src/js/shape/Ellipse.js\");\n/* harmony import */ var _shape_Triangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shape/Triangle */ \"./src/js/shape/Triangle.js\");\n/* harmony import */ var _shape_Rectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shape/Rectangle */ \"./src/js/shape/Rectangle.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst PRODUCTS = Object.freeze({\r\n  CIRCLE: _shape_Circle__WEBPACK_IMPORTED_MODULE_1__[\"default\"].type,\r\n  ELLIPSE: _shape_Ellipse__WEBPACK_IMPORTED_MODULE_2__[\"default\"].type,\r\n  TRIANGLE: _shape_Triangle__WEBPACK_IMPORTED_MODULE_3__[\"default\"].type,\r\n  RECTANGLE: _shape_Rectangle__WEBPACK_IMPORTED_MODULE_4__[\"default\"].type,\r\n  CONNECTION: _connection_Connection__WEBPACK_IMPORTED_MODULE_5__[\"default\"].type,\r\n});\r\n\r\nconst ShapeFactory = new _core_Factory__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n  products: {\r\n    [PRODUCTS.CIRCLE]: _shape_Circle__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\r\n    [PRODUCTS.ELLIPSE]: _shape_Ellipse__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\r\n    [PRODUCTS.TRIANGLE]: _shape_Triangle__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\r\n    [PRODUCTS.RECTANGLE]: _shape_Rectangle__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\r\n    [PRODUCTS.CONNECTION]: _connection_Connection__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n  },\r\n});\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeFactory);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGlhZ3JhbS9EaWFncmFtRWxlbWVudEZhY3RvcnkuanM/NDhlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ0Q7QUFDRTtBQUNFO0FBQ0U7QUFDTzs7QUFFbEQ7QUFDQSxVQUFVLHFEQUFNO0FBQ2hCLFdBQVcsc0RBQU87QUFDbEIsWUFBWSx1REFBUTtBQUNwQixhQUFhLHdEQUFTO0FBQ3RCLGNBQWMsOERBQVU7QUFDeEIsQ0FBQzs7QUFFRCx5QkFBeUIscURBQU87QUFDaEM7QUFDQSx1QkFBdUIscURBQU07QUFDN0Isd0JBQXdCLHNEQUFPO0FBQy9CLHlCQUF5Qix1REFBUTtBQUNqQywwQkFBMEIsd0RBQVM7QUFDbkMsMkJBQTJCLDhEQUFVO0FBQ3JDLEdBQUc7QUFDSCxDQUFDOztBQUVjLDJFQUFZLEVBQUM7QUFDUiIsImZpbGUiOiIuL3NyYy9qcy9kaWFncmFtL0RpYWdyYW1FbGVtZW50RmFjdG9yeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGYWN0b3J5IGZyb20gJy4uL2NvcmUvRmFjdG9yeSc7XHJcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi4vc2hhcGUvQ2lyY2xlJztcclxuaW1wb3J0IEVsbGlwc2UgZnJvbSAnLi4vc2hhcGUvRWxsaXBzZSc7XHJcbmltcG9ydCBUcmlhbmdsZSBmcm9tICcuLi9zaGFwZS9UcmlhbmdsZSc7XHJcbmltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi4vc2hhcGUvUmVjdGFuZ2xlJztcclxuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi4vY29ubmVjdGlvbi9Db25uZWN0aW9uJztcclxuXHJcbmNvbnN0IFBST0RVQ1RTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgQ0lSQ0xFOiBDaXJjbGUudHlwZSxcclxuICBFTExJUFNFOiBFbGxpcHNlLnR5cGUsXHJcbiAgVFJJQU5HTEU6IFRyaWFuZ2xlLnR5cGUsXHJcbiAgUkVDVEFOR0xFOiBSZWN0YW5nbGUudHlwZSxcclxuICBDT05ORUNUSU9OOiBDb25uZWN0aW9uLnR5cGUsXHJcbn0pO1xyXG5cclxuY29uc3QgU2hhcGVGYWN0b3J5ID0gbmV3IEZhY3Rvcnkoe1xyXG4gIHByb2R1Y3RzOiB7XHJcbiAgICBbUFJPRFVDVFMuQ0lSQ0xFXTogQ2lyY2xlLFxyXG4gICAgW1BST0RVQ1RTLkVMTElQU0VdOiBFbGxpcHNlLFxyXG4gICAgW1BST0RVQ1RTLlRSSUFOR0xFXTogVHJpYW5nbGUsXHJcbiAgICBbUFJPRFVDVFMuUkVDVEFOR0xFXTogUmVjdGFuZ2xlLFxyXG4gICAgW1BST0RVQ1RTLkNPTk5FQ1RJT05dOiBDb25uZWN0aW9uLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hhcGVGYWN0b3J5O1xyXG5leHBvcnQgeyBQUk9EVUNUUyB9O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/diagram/DiagramElementFactory.js\n");

/***/ }),

/***/ "./src/js/diagram/DiagramText.js":
/*!***************************************!*\
  !*** ./src/js/diagram/DiagramText.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n\r\n\r\nconst DEFAULTS = {\r\n  text: '',\r\n};\r\n\r\nclass DiagramText extends _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  static get type() {\r\n    return 'diagramText';\r\n  }\r\n\r\n  constructor(settings) {\r\n    super(settings);\r\n\r\n    this._text = '';\r\n    this._dom = {};\r\n\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    this.setText(settings.text);\r\n  }\r\n\r\n  /**\r\n   * Sets the text to the DiagramText\r\n   * @param {String} text The text to set.\r\n   */\r\n  setText(text) {\r\n    this._text = text.toString().trim();\r\n\r\n    if (this._dom.textContainer) {\r\n      const { textContainer } = this._dom;\r\n\r\n      if (this._text) {\r\n        textContainer.textContent = text;\r\n      } else {\r\n        textContainer.innerHTML = '';\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the object's text.\r\n   * @returns {String}\r\n   */\r\n  getText() {\r\n    return this._text;\r\n  }\r\n\r\n  /**\r\n   * @inheritdoc\r\n   */\r\n  _createElement() {\r\n    const text = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('text');\r\n    const tspan = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('tspan');\r\n\r\n    text.classList.add('text');\r\n    tspan.classList.add('text-container');\r\n    text.appendChild(tspan);\r\n\r\n    this._dom.textContainer = tspan;\r\n    this.setText(this._text);\r\n    this._el = text;\r\n\r\n    return super._createElement();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DiagramText);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGlhZ3JhbS9EaWFncmFtVGV4dC5qcz81NzU1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBOEM7O0FBRTlDO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIseURBQVc7QUFDckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxnQkFBZ0I7O0FBRTdCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5REFBVztBQUM1QixrQkFBa0IseURBQVc7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLDBFQUFXLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvZGlhZ3JhbS9EaWFncmFtVGV4dC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi9jb3JlL0Jhc2VFbGVtZW50JztcclxuXHJcbmNvbnN0IERFRkFVTFRTID0ge1xyXG4gIHRleHQ6ICcnLFxyXG59O1xyXG5cclxuY2xhc3MgRGlhZ3JhbVRleHQgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XHJcbiAgc3RhdGljIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdkaWFncmFtVGV4dCc7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc3VwZXIoc2V0dGluZ3MpO1xyXG5cclxuICAgIHRoaXMuX3RleHQgPSAnJztcclxuICAgIHRoaXMuX2RvbSA9IHt9O1xyXG5cclxuICAgIHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUUyxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2V0VGV4dChzZXR0aW5ncy50ZXh0KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIHRleHQgdG8gdGhlIERpYWdyYW1UZXh0XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gc2V0LlxyXG4gICAqL1xyXG4gIHNldFRleHQodGV4dCkge1xyXG4gICAgdGhpcy5fdGV4dCA9IHRleHQudG9TdHJpbmcoKS50cmltKCk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2RvbS50ZXh0Q29udGFpbmVyKSB7XHJcbiAgICAgIGNvbnN0IHsgdGV4dENvbnRhaW5lciB9ID0gdGhpcy5fZG9tO1xyXG5cclxuICAgICAgaWYgKHRoaXMuX3RleHQpIHtcclxuICAgICAgICB0ZXh0Q29udGFpbmVyLnRleHRDb250ZW50ID0gdGV4dDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0ZXh0Q29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIHRoZSBvYmplY3QncyB0ZXh0LlxyXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAgICovXHJcbiAgZ2V0VGV4dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl90ZXh0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQGluaGVyaXRkb2NcclxuICAgKi9cclxuICBfY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIGNvbnN0IHRleHQgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ3RleHQnKTtcclxuICAgIGNvbnN0IHRzcGFuID0gQmFzZUVsZW1lbnQuY3JlYXRlU1ZHKCd0c3BhbicpO1xyXG5cclxuICAgIHRleHQuY2xhc3NMaXN0LmFkZCgndGV4dCcpO1xyXG4gICAgdHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1jb250YWluZXInKTtcclxuICAgIHRleHQuYXBwZW5kQ2hpbGQodHNwYW4pO1xyXG5cclxuICAgIHRoaXMuX2RvbS50ZXh0Q29udGFpbmVyID0gdHNwYW47XHJcbiAgICB0aGlzLnNldFRleHQodGhpcy5fdGV4dCk7XHJcbiAgICB0aGlzLl9lbCA9IHRleHQ7XHJcblxyXG4gICAgcmV0dXJuIHN1cGVyLl9jcmVhdGVFbGVtZW50KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEaWFncmFtVGV4dDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/diagram/DiagramText.js\n");

/***/ }),

/***/ "./src/js/diagram/DiagramUI.js":
/*!*************************************!*\
  !*** ./src/js/diagram/DiagramUI.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n\r\n\r\nclass DiagramUI extends _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  static get type() {\r\n    return 'diagramUI';\r\n  }\r\n\r\n  constructor(target) {\r\n    super();\r\n\r\n    this._target = target || null;\r\n    this._events = new Map();\r\n    this._handleEvent = this._handleEvent.bind(this);\r\n  }\r\n\r\n  _handleEvent(event) {\r\n    const { target, type } = event;\r\n    const eventMap = this._events.get(type);\r\n    const listeners = eventMap.get(target);\r\n\r\n    if (listeners) {\r\n      event.stopPropagation();\r\n      listeners.forEach((listener) => listener(event));\r\n    }\r\n  }\r\n\r\n  _createEventMap(event) {\r\n    let eventMap = this._events.get(event);\r\n\r\n    if (!eventMap) {\r\n      eventMap = new WeakMap();\r\n      this._events.set(event, eventMap);\r\n      this.getElement().addEventListener(event, this._handleEvent, false);\r\n    }\r\n  }\r\n\r\n  _getListenersSet(event, svgElement) {\r\n    this._createEventMap(event);\r\n\r\n    const eventMap = this._events.get(event);\r\n    let listenersSet = eventMap.get(svgElement);\r\n\r\n    if (!listenersSet) {\r\n      listenersSet = new Set();\r\n      eventMap.set(svgElement, listenersSet);\r\n    }\r\n\r\n    return listenersSet;\r\n  }\r\n\r\n  addControl(svgElement, events) {\r\n    if (events) {\r\n      Object.entries(events).forEach(([event, listeners]) => {\r\n        const listenersArray = Array.isArray(listeners) ? listeners.slice(0) : [listeners];\r\n        const listenersSet = this._getListenersSet(event, svgElement);\r\n\r\n        listenersArray.forEach((listener) => listenersSet.add(listener));\r\n      });\r\n    }\r\n\r\n    this.getElement().appendChild(svgElement);\r\n  }\r\n\r\n  /**\r\n   * By default this element is only visible on hovering on it's parent Shape. This method will\r\n   * allow to make it permanently visible until it's called again with a 'false' parameter.\r\n   * @param {Boolean} [active = true] If the layer will be permanently visible.\r\n   */\r\n  setActive(active = true) {\r\n    const activeClass = 'active';\r\n\r\n    if (active) {\r\n      this._el.classList.add(activeClass);\r\n    } else {\r\n      this._el.classList.remove(activeClass);\r\n    }\r\n  }\r\n\r\n  _createElement() {\r\n    const layer = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('g');\r\n\r\n    layer.classList.add('ui-layer');\r\n    this._el = layer;\r\n\r\n    return super._createElement();\r\n  }\r\n\r\n  remove() {\r\n    this._events.clear();\r\n    super.remove();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (DiagramUI);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvZGlhZ3JhbS9EaWFncmFtVUkuanM/MGViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQThDOztBQUU5Qyx3QkFBd0IseURBQVc7QUFDbkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHlEQUFXOztBQUU3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSx3RUFBUyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL2RpYWdyYW0vRGlhZ3JhbVVJLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uL2NvcmUvQmFzZUVsZW1lbnQnO1xyXG5cclxuY2xhc3MgRGlhZ3JhbVVJIGV4dGVuZHMgQmFzZUVsZW1lbnQge1xyXG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiAnZGlhZ3JhbVVJJztcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRhcmdldCkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXQgfHwgbnVsbDtcclxuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMuX2hhbmRsZUV2ZW50ID0gdGhpcy5faGFuZGxlRXZlbnQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFdmVudChldmVudCkge1xyXG4gICAgY29uc3QgeyB0YXJnZXQsIHR5cGUgfSA9IGV2ZW50O1xyXG4gICAgY29uc3QgZXZlbnRNYXAgPSB0aGlzLl9ldmVudHMuZ2V0KHR5cGUpO1xyXG4gICAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRNYXAuZ2V0KHRhcmdldCk7XHJcblxyXG4gICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihldmVudCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUV2ZW50TWFwKGV2ZW50KSB7XHJcbiAgICBsZXQgZXZlbnRNYXAgPSB0aGlzLl9ldmVudHMuZ2V0KGV2ZW50KTtcclxuXHJcbiAgICBpZiAoIWV2ZW50TWFwKSB7XHJcbiAgICAgIGV2ZW50TWFwID0gbmV3IFdlYWtNYXAoKTtcclxuICAgICAgdGhpcy5fZXZlbnRzLnNldChldmVudCwgZXZlbnRNYXApO1xyXG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLl9oYW5kbGVFdmVudCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2dldExpc3RlbmVyc1NldChldmVudCwgc3ZnRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY3JlYXRlRXZlbnRNYXAoZXZlbnQpO1xyXG5cclxuICAgIGNvbnN0IGV2ZW50TWFwID0gdGhpcy5fZXZlbnRzLmdldChldmVudCk7XHJcbiAgICBsZXQgbGlzdGVuZXJzU2V0ID0gZXZlbnRNYXAuZ2V0KHN2Z0VsZW1lbnQpO1xyXG5cclxuICAgIGlmICghbGlzdGVuZXJzU2V0KSB7XHJcbiAgICAgIGxpc3RlbmVyc1NldCA9IG5ldyBTZXQoKTtcclxuICAgICAgZXZlbnRNYXAuc2V0KHN2Z0VsZW1lbnQsIGxpc3RlbmVyc1NldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpc3RlbmVyc1NldDtcclxuICB9XHJcblxyXG4gIGFkZENvbnRyb2woc3ZnRWxlbWVudCwgZXZlbnRzKSB7XHJcbiAgICBpZiAoZXZlbnRzKSB7XHJcbiAgICAgIE9iamVjdC5lbnRyaWVzKGV2ZW50cykuZm9yRWFjaCgoW2V2ZW50LCBsaXN0ZW5lcnNdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzQXJyYXkgPSBBcnJheS5pc0FycmF5KGxpc3RlbmVycykgPyBsaXN0ZW5lcnMuc2xpY2UoMCkgOiBbbGlzdGVuZXJzXTtcclxuICAgICAgICBjb25zdCBsaXN0ZW5lcnNTZXQgPSB0aGlzLl9nZXRMaXN0ZW5lcnNTZXQoZXZlbnQsIHN2Z0VsZW1lbnQpO1xyXG5cclxuICAgICAgICBsaXN0ZW5lcnNBcnJheS5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXJzU2V0LmFkZChsaXN0ZW5lcikpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmdldEVsZW1lbnQoKS5hcHBlbmRDaGlsZChzdmdFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ5IGRlZmF1bHQgdGhpcyBlbGVtZW50IGlzIG9ubHkgdmlzaWJsZSBvbiBob3ZlcmluZyBvbiBpdCdzIHBhcmVudCBTaGFwZS4gVGhpcyBtZXRob2Qgd2lsbFxyXG4gICAqIGFsbG93IHRvIG1ha2UgaXQgcGVybWFuZW50bHkgdmlzaWJsZSB1bnRpbCBpdCdzIGNhbGxlZCBhZ2FpbiB3aXRoIGEgJ2ZhbHNlJyBwYXJhbWV0ZXIuXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbYWN0aXZlID0gdHJ1ZV0gSWYgdGhlIGxheWVyIHdpbGwgYmUgcGVybWFuZW50bHkgdmlzaWJsZS5cclxuICAgKi9cclxuICBzZXRBY3RpdmUoYWN0aXZlID0gdHJ1ZSkge1xyXG4gICAgY29uc3QgYWN0aXZlQ2xhc3MgPSAnYWN0aXZlJztcclxuXHJcbiAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgIHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIGNvbnN0IGxheWVyID0gQmFzZUVsZW1lbnQuY3JlYXRlU1ZHKCdnJyk7XHJcblxyXG4gICAgbGF5ZXIuY2xhc3NMaXN0LmFkZCgndWktbGF5ZXInKTtcclxuICAgIHRoaXMuX2VsID0gbGF5ZXI7XHJcblxyXG4gICAgcmV0dXJuIHN1cGVyLl9jcmVhdGVFbGVtZW50KCk7XHJcbiAgfVxyXG5cclxuICByZW1vdmUoKSB7XHJcbiAgICB0aGlzLl9ldmVudHMuY2xlYXIoKTtcclxuICAgIHN1cGVyLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGlhZ3JhbVVJO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/diagram/DiagramUI.js\n");

/***/ }),

/***/ "./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! exports provided: Canvas, Rectangle, Circle, Triangle, Ellipse, COMMANDS, VERSION */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VERSION\", function() { return VERSION; });\n/* harmony import */ var _diagram_Canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diagram/Canvas */ \"./src/js/diagram/Canvas.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Canvas\", function() { return _diagram_Canvas__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _shape_Rectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shape/Rectangle */ \"./src/js/shape/Rectangle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Rectangle\", function() { return _shape_Rectangle__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _shape_Circle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shape/Circle */ \"./src/js/shape/Circle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Circle\", function() { return _shape_Circle__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _shape_Triangle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shape/Triangle */ \"./src/js/shape/Triangle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Triangle\", function() { return _shape_Triangle__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _shape_Ellipse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shape/Ellipse */ \"./src/js/shape/Ellipse.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Ellipse\", function() { return _shape_Ellipse__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _command_CommandFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./command/CommandFactory */ \"./src/js/command/CommandFactory.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"COMMANDS\", function() { return _command_CommandFactory__WEBPACK_IMPORTED_MODULE_5__[\"PRODUCTS\"]; });\n\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// eslint-disable-next-line no-undef\r\nconst VERSION = \"0.1.0\";\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvaW5kZXguanM/N2JhNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ0k7QUFDTjtBQUNJO0FBQ0Y7QUFDMEI7O0FBRWhFO0FBQ0EsZ0JBQWdCLE9BQVc7O0FBVXpCIiwiZmlsZSI6Ii4vc3JjL2pzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhbnZhcyBmcm9tICcuL2RpYWdyYW0vQ2FudmFzJztcclxuaW1wb3J0IFJlY3RhbmdsZSBmcm9tICcuL3NoYXBlL1JlY3RhbmdsZSc7XHJcbmltcG9ydCBDaXJjbGUgZnJvbSAnLi9zaGFwZS9DaXJjbGUnO1xyXG5pbXBvcnQgVHJpYW5nbGUgZnJvbSAnLi9zaGFwZS9UcmlhbmdsZSc7XHJcbmltcG9ydCBFbGxpcHNlIGZyb20gJy4vc2hhcGUvRWxsaXBzZSc7XHJcbmltcG9ydCB7IFBST0RVQ1RTIGFzIENPTU1BTkRTIH0gZnJvbSAnLi9jb21tYW5kL0NvbW1hbmRGYWN0b3J5JztcclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG5jb25zdCBWRVJTSU9OID0gX19WRVJTSU9OX187XHJcblxyXG5leHBvcnQge1xyXG4gIENhbnZhcyxcclxuICBSZWN0YW5nbGUsXHJcbiAgQ2lyY2xlLFxyXG4gIFRyaWFuZ2xlLFxyXG4gIEVsbGlwc2UsXHJcbiAgQ09NTUFORFMsXHJcbiAgVkVSU0lPTixcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/index.js\n");

/***/ }),

/***/ "./src/js/shape/Circle.js":
/*!********************************!*\
  !*** ./src/js/shape/Circle.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shape */ \"./src/js/shape/Shape.js\");\n\r\n\r\n\r\nconst DEFAULTS = Object.freeze({\r\n  radius: 30,\r\n});\r\n\r\nclass Circle extends _Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'circle';\r\n  }\r\n\r\n  constructor(settings) {\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    super(settings);\r\n\r\n    this._radius = null;\r\n\r\n    this.setRadius(settings.radius);\r\n  }\r\n\r\n  _updateSize(width, height) {\r\n    const { circle } = this._dom;\r\n    const diameter = Math.min(width, height);\r\n\r\n    if (circle) {\r\n      circle.setAttribute('r', diameter / 2);\r\n    }\r\n\r\n    super._updateSize(diameter, diameter);\r\n  }\r\n\r\n  _updateWidth(width) {\r\n    this._updateSize(width, width);\r\n  }\r\n\r\n  _updateHeight(height) {\r\n    this._updateSize(height, height);\r\n  }\r\n\r\n  setRadius(radius) {\r\n    const diameter = radius * 2;\r\n\r\n    return this.setSize(diameter, diameter);\r\n  }\r\n\r\n  setWidth(width) {\r\n    return this.setSize(width, width);\r\n  }\r\n\r\n  setHeight(height) {\r\n    return this.setSize(height, height);\r\n  }\r\n\r\n  getRadius() {\r\n    return this._radius;\r\n  }\r\n\r\n  _mapSize(width, height) {\r\n    this._radius = Math.min(width, height) / 2;\r\n  }\r\n\r\n  getBounds() {\r\n    const { _x: x, _y: y, _radius: radius } = this;\r\n\r\n    return {\r\n      top: y - radius,\r\n      right: x + radius,\r\n      bottom: y + radius,\r\n      left: x - radius,\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (!this._el) {\r\n      const circle = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('circle');\r\n\r\n      super._createElement();\r\n\r\n      circle.setAttribute('cx', 0);\r\n      circle.setAttribute('cy', 0);\r\n\r\n      this._dom.circle = circle;\r\n      this._getMainElement().append(circle);\r\n      this.setRadius(this._radius);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Circle);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvQ2lyY2xlLmpzP2U4NTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThDO0FBQ2xCOztBQUU1QjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxxQkFBcUIsOENBQUs7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGdDQUFnQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQix5REFBVzs7QUFFaEM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUscUVBQU0sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9zaGFwZS9DaXJjbGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZUVsZW1lbnQgZnJvbSAnLi4vY29yZS9CYXNlRWxlbWVudCc7XHJcbmltcG9ydCBTaGFwZSBmcm9tICcuL1NoYXBlJztcclxuXHJcbmNvbnN0IERFRkFVTFRTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgcmFkaXVzOiAzMCxcclxufSk7XHJcblxyXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgc3RhdGljIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdjaXJjbGUnO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcclxuICAgIHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUUyxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHN1cGVyKHNldHRpbmdzKTtcclxuXHJcbiAgICB0aGlzLl9yYWRpdXMgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuc2V0UmFkaXVzKHNldHRpbmdzLnJhZGl1cyk7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICBjb25zdCB7IGNpcmNsZSB9ID0gdGhpcy5fZG9tO1xyXG4gICAgY29uc3QgZGlhbWV0ZXIgPSBNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICBpZiAoY2lyY2xlKSB7XHJcbiAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoJ3InLCBkaWFtZXRlciAvIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyLl91cGRhdGVTaXplKGRpYW1ldGVyLCBkaWFtZXRlcik7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlV2lkdGgod2lkdGgpIHtcclxuICAgIHRoaXMuX3VwZGF0ZVNpemUod2lkdGgsIHdpZHRoKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVIZWlnaHQoaGVpZ2h0KSB7XHJcbiAgICB0aGlzLl91cGRhdGVTaXplKGhlaWdodCwgaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIHNldFJhZGl1cyhyYWRpdXMpIHtcclxuICAgIGNvbnN0IGRpYW1ldGVyID0gcmFkaXVzICogMjtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5zZXRTaXplKGRpYW1ldGVyLCBkaWFtZXRlcik7XHJcbiAgfVxyXG5cclxuICBzZXRXaWR0aCh3aWR0aCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0U2l6ZSh3aWR0aCwgd2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgc2V0SGVpZ2h0KGhlaWdodCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0U2l6ZShoZWlnaHQsIGhlaWdodCk7XHJcbiAgfVxyXG5cclxuICBnZXRSYWRpdXMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmFkaXVzO1xyXG4gIH1cclxuXHJcbiAgX21hcFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5fcmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyO1xyXG4gIH1cclxuXHJcbiAgZ2V0Qm91bmRzKCkge1xyXG4gICAgY29uc3QgeyBfeDogeCwgX3k6IHksIF9yYWRpdXM6IHJhZGl1cyB9ID0gdGhpcztcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IHkgLSByYWRpdXMsXHJcbiAgICAgIHJpZ2h0OiB4ICsgcmFkaXVzLFxyXG4gICAgICBib3R0b206IHkgKyByYWRpdXMsXHJcbiAgICAgIGxlZnQ6IHggLSByYWRpdXMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUVsZW1lbnQoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2VsKSB7XHJcbiAgICAgIGNvbnN0IGNpcmNsZSA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygnY2lyY2xlJyk7XHJcblxyXG4gICAgICBzdXBlci5fY3JlYXRlRWxlbWVudCgpO1xyXG5cclxuICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3gnLCAwKTtcclxuICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZSgnY3knLCAwKTtcclxuXHJcbiAgICAgIHRoaXMuX2RvbS5jaXJjbGUgPSBjaXJjbGU7XHJcbiAgICAgIHRoaXMuX2dldE1haW5FbGVtZW50KCkuYXBwZW5kKGNpcmNsZSk7XHJcbiAgICAgIHRoaXMuc2V0UmFkaXVzKHRoaXMuX3JhZGl1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDaXJjbGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/shape/Circle.js\n");

/***/ }),

/***/ "./src/js/shape/Ellipse.js":
/*!*********************************!*\
  !*** ./src/js/shape/Ellipse.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shape */ \"./src/js/shape/Shape.js\");\n\r\n\r\n\r\nconst DEFAULTS = {\r\n  radiusX: 50,\r\n  radiusY: 40,\r\n};\r\n\r\nclass Ellipse extends _Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'ellipse';\r\n  }\r\n\r\n  constructor(settings) {\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    super(settings);\r\n\r\n    this._radiusX = null;\r\n    this._radiusY = null;\r\n\r\n    this.setSize(settings.radiusX, settings.radiusY);\r\n  }\r\n\r\n  _updateSize(width, height) {\r\n    const { ellipse } = this._dom;\r\n\r\n    this._cWidth = width;\r\n    this._cHeight = height;\r\n\r\n    if (ellipse) {\r\n      ellipse.setAttribute('rx', this._cWidth / 2);\r\n      ellipse.setAttribute('ry', this._cHeight / 2);\r\n    }\r\n  }\r\n\r\n  // TODO: this method is pretty similar to the one in Rectangle, Triangle\r\n  setRadiusX(radiusX) {\r\n    const height = this.getHeight();\r\n\r\n    return this.setSize(radiusX * 2, height);\r\n  }\r\n\r\n  getRadiusX() {\r\n    return this._radiusX;\r\n  }\r\n\r\n  setWidth(width) {\r\n    return this.setRadiusX(width / 2);\r\n  }\r\n\r\n  // TODO: this method is pretty similar to the one in Rectangle, Triangle\r\n  setRadiusY(radiusY) {\r\n    const width = this.getWidth();\r\n\r\n    return this.setSize(width, radiusY * 2);\r\n  }\r\n\r\n  getRadiusY() {\r\n    return this._radiusY;\r\n  }\r\n\r\n  setHeight(height) {\r\n    return this.setRadiusY(height / 2);\r\n  }\r\n\r\n  _mapSize(width, height) {\r\n    this._radiusX = width / 2;\r\n    this._radiusY = height / 2;\r\n  }\r\n\r\n  getBounds() {\r\n    const {\r\n      _x: x, _y: y, _radiusX, _radiusY,\r\n    } = this;\r\n\r\n    return {\r\n      top: y - _radiusY,\r\n      right: x + _radiusX,\r\n      bottom: y + _radiusY,\r\n      left: x - _radiusX,\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (!this._el) {\r\n      const ellipse = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('ellipse');\r\n\r\n      super._createElement();\r\n\r\n      ellipse.setAttribute('cx', 0);\r\n      ellipse.setAttribute('cy', 0);\r\n\r\n      this._dom.ellipse = ellipse;\r\n      this._getMainElement().append(ellipse);\r\n      this.setSize(this._radiusX * 2, this._radiusY * 2);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Ellipse);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvRWxsaXBzZS5qcz80YjM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUE4QztBQUNsQjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLDhDQUFLO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsVUFBVTs7QUFFckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IseURBQVc7O0FBRWpDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLHNFQUFPLEVBQUMiLCJmaWxlIjoiLi9zcmMvanMvc2hhcGUvRWxsaXBzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi9jb3JlL0Jhc2VFbGVtZW50JztcclxuaW1wb3J0IFNoYXBlIGZyb20gJy4vU2hhcGUnO1xyXG5cclxuY29uc3QgREVGQVVMVFMgPSB7XHJcbiAgcmFkaXVzWDogNTAsXHJcbiAgcmFkaXVzWTogNDAsXHJcbn07XHJcblxyXG5jbGFzcyBFbGxpcHNlIGV4dGVuZHMgU2hhcGUge1xyXG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiAnZWxsaXBzZSc7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSB7XHJcbiAgICAgIC4uLkRFRkFVTFRTLFxyXG4gICAgICAuLi5zZXR0aW5ncyxcclxuICAgIH07XHJcblxyXG4gICAgc3VwZXIoc2V0dGluZ3MpO1xyXG5cclxuICAgIHRoaXMuX3JhZGl1c1ggPSBudWxsO1xyXG4gICAgdGhpcy5fcmFkaXVzWSA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5zZXRTaXplKHNldHRpbmdzLnJhZGl1c1gsIHNldHRpbmdzLnJhZGl1c1kpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgY29uc3QgeyBlbGxpcHNlIH0gPSB0aGlzLl9kb207XHJcblxyXG4gICAgdGhpcy5fY1dpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLl9jSGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgIGlmIChlbGxpcHNlKSB7XHJcbiAgICAgIGVsbGlwc2Uuc2V0QXR0cmlidXRlKCdyeCcsIHRoaXMuX2NXaWR0aCAvIDIpO1xyXG4gICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZSgncnknLCB0aGlzLl9jSGVpZ2h0IC8gMik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiB0aGlzIG1ldGhvZCBpcyBwcmV0dHkgc2ltaWxhciB0byB0aGUgb25lIGluIFJlY3RhbmdsZSwgVHJpYW5nbGVcclxuICBzZXRSYWRpdXNYKHJhZGl1c1gpIHtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc2V0U2l6ZShyYWRpdXNYICogMiwgaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldFJhZGl1c1goKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmFkaXVzWDtcclxuICB9XHJcblxyXG4gIHNldFdpZHRoKHdpZHRoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXRSYWRpdXNYKHdpZHRoIC8gMik7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiB0aGlzIG1ldGhvZCBpcyBwcmV0dHkgc2ltaWxhciB0byB0aGUgb25lIGluIFJlY3RhbmdsZSwgVHJpYW5nbGVcclxuICBzZXRSYWRpdXNZKHJhZGl1c1kpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnNldFNpemUod2lkdGgsIHJhZGl1c1kgKiAyKTtcclxuICB9XHJcblxyXG4gIGdldFJhZGl1c1koKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmFkaXVzWTtcclxuICB9XHJcblxyXG4gIHNldEhlaWdodChoZWlnaHQpIHtcclxuICAgIHJldHVybiB0aGlzLnNldFJhZGl1c1koaGVpZ2h0IC8gMik7XHJcbiAgfVxyXG5cclxuICBfbWFwU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB0aGlzLl9yYWRpdXNYID0gd2lkdGggLyAyO1xyXG4gICAgdGhpcy5fcmFkaXVzWSA9IGhlaWdodCAvIDI7XHJcbiAgfVxyXG5cclxuICBnZXRCb3VuZHMoKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIF94OiB4LCBfeTogeSwgX3JhZGl1c1gsIF9yYWRpdXNZLFxyXG4gICAgfSA9IHRoaXM7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG9wOiB5IC0gX3JhZGl1c1ksXHJcbiAgICAgIHJpZ2h0OiB4ICsgX3JhZGl1c1gsXHJcbiAgICAgIGJvdHRvbTogeSArIF9yYWRpdXNZLFxyXG4gICAgICBsZWZ0OiB4IC0gX3JhZGl1c1gsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX2NyZWF0ZUVsZW1lbnQoKSB7XHJcbiAgICBpZiAoIXRoaXMuX2VsKSB7XHJcbiAgICAgIGNvbnN0IGVsbGlwc2UgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ2VsbGlwc2UnKTtcclxuXHJcbiAgICAgIHN1cGVyLl9jcmVhdGVFbGVtZW50KCk7XHJcblxyXG4gICAgICBlbGxpcHNlLnNldEF0dHJpYnV0ZSgnY3gnLCAwKTtcclxuICAgICAgZWxsaXBzZS5zZXRBdHRyaWJ1dGUoJ2N5JywgMCk7XHJcblxyXG4gICAgICB0aGlzLl9kb20uZWxsaXBzZSA9IGVsbGlwc2U7XHJcbiAgICAgIHRoaXMuX2dldE1haW5FbGVtZW50KCkuYXBwZW5kKGVsbGlwc2UpO1xyXG4gICAgICB0aGlzLnNldFNpemUodGhpcy5fcmFkaXVzWCAqIDIsIHRoaXMuX3JhZGl1c1kgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEVsbGlwc2U7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/shape/Ellipse.js\n");

/***/ }),

/***/ "./src/js/shape/Polygon.js":
/*!*********************************!*\
  !*** ./src/js/shape/Polygon.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n// TODO: doc this as abstract\r\nclass Polygon extends _Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'polygon';\r\n  }\r\n\r\n  static toPointsString(points) {\r\n    return points.map(({ x, y }) => `${x},${y}`).join(' ');\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  _getPoints() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_2__[\"default\"].notImplemented();\r\n  }\r\n\r\n  _updateSize(width, height) {\r\n    const { polygon } = this._dom;\r\n\r\n    super._updateSize(width, height);\r\n\r\n    if (polygon) {\r\n      polygon.setAttribute('points', Polygon.toPointsString(this._getPoints()));\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  _createElement() {\r\n    if (!this._el) {\r\n      const polygon = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('polygon');\r\n\r\n      super._createElement();\r\n\r\n      this._dom.polygon = polygon;\r\n      this._getMainElement().append(polygon);\r\n      this.setSize(this._base, this._height);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Polygon);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvUG9seWdvbi5qcz8zZTA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQThDO0FBQ2xCO0FBQ3FCOztBQUVqRDtBQUNBLHNCQUFzQiw4Q0FBSztBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsT0FBTyxRQUFRLEVBQUUsR0FBRyxFQUFFO0FBQzlDOztBQUVBO0FBQ0E7QUFDQSxJQUFJLDJEQUFZO0FBQ2hCOztBQUVBO0FBQ0EsV0FBVyxVQUFVOztBQUVyQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0JBQXNCLHlEQUFXOztBQUVqQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9zaGFwZS9Qb2x5Z29uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uL2NvcmUvQmFzZUVsZW1lbnQnO1xyXG5pbXBvcnQgU2hhcGUgZnJvbSAnLi9TaGFwZSc7XHJcbmltcG9ydCBFcnJvclRocm93ZXIgZnJvbSAnLi4vdXRpbHMvRXJyb3JUaHJvd2VyJztcclxuXHJcbi8vIFRPRE86IGRvYyB0aGlzIGFzIGFic3RyYWN0XHJcbmNsYXNzIFBvbHlnb24gZXh0ZW5kcyBTaGFwZSB7XHJcbiAgc3RhdGljIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdwb2x5Z29uJztcclxuICB9XHJcblxyXG4gIHN0YXRpYyB0b1BvaW50c1N0cmluZyhwb2ludHMpIHtcclxuICAgIHJldHVybiBwb2ludHMubWFwKCh7IHgsIHkgfSkgPT4gYCR7eH0sJHt5fWApLmpvaW4oJyAnKTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgX2dldFBvaW50cygpIHtcclxuICAgIEVycm9yVGhyb3dlci5ub3RJbXBsZW1lbnRlZCgpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgY29uc3QgeyBwb2x5Z29uIH0gPSB0aGlzLl9kb207XHJcblxyXG4gICAgc3VwZXIuX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgaWYgKHBvbHlnb24pIHtcclxuICAgICAgcG9seWdvbi5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIFBvbHlnb24udG9Qb2ludHNTdHJpbmcodGhpcy5fZ2V0UG9pbnRzKCkpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIF9jcmVhdGVFbGVtZW50KCkge1xyXG4gICAgaWYgKCF0aGlzLl9lbCkge1xyXG4gICAgICBjb25zdCBwb2x5Z29uID0gQmFzZUVsZW1lbnQuY3JlYXRlU1ZHKCdwb2x5Z29uJyk7XHJcblxyXG4gICAgICBzdXBlci5fY3JlYXRlRWxlbWVudCgpO1xyXG5cclxuICAgICAgdGhpcy5fZG9tLnBvbHlnb24gPSBwb2x5Z29uO1xyXG4gICAgICB0aGlzLl9nZXRNYWluRWxlbWVudCgpLmFwcGVuZChwb2x5Z29uKTtcclxuICAgICAgdGhpcy5zZXRTaXplKHRoaXMuX2Jhc2UsIHRoaXMuX2hlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQb2x5Z29uO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/shape/Polygon.js\n");

/***/ }),

/***/ "./src/js/shape/Rectangle.js":
/*!***********************************!*\
  !*** ./src/js/shape/Rectangle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shape */ \"./src/js/shape/Shape.js\");\n\r\n\r\n\r\nconst DEFAULTS = {\r\n  width: 80,\r\n  height: 80,\r\n};\r\n\r\nclass Rectangle extends _Shape__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'rectangle';\r\n  }\r\n\r\n  constructor(settings) {\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    super(settings);\r\n    this._width = null;\r\n    this._height = null;\r\n\r\n    this.setSize(settings.width, settings.height);\r\n  }\r\n\r\n  _updateSize(width, height) {\r\n    const { rect } = this._dom;\r\n\r\n    super._updateSize(width, height);\r\n\r\n    if (rect) {\r\n      rect.setAttribute('width', width);\r\n      rect.setAttribute('x', width * -0.5);\r\n      rect.setAttribute('height', height);\r\n      rect.setAttribute('y', height * -0.5);\r\n    }\r\n  }\r\n\r\n  setWidth(width) {\r\n    const height = this.getHeight();\r\n\r\n    return this.setSize(width, height);\r\n  }\r\n\r\n  getWidth() {\r\n    return this._width;\r\n  }\r\n\r\n  setHeight(height) {\r\n    const width = this.getWidth();\r\n\r\n    return this.setSize(width, height);\r\n  }\r\n\r\n  getHeight() {\r\n    return this._height;\r\n  }\r\n\r\n  getSize() {\r\n    return {\r\n      width: this._width,\r\n      height: this._height,\r\n    };\r\n  }\r\n\r\n  _mapSize(width, height) {\r\n    this._width = width;\r\n    this._height = height;\r\n  }\r\n\r\n  getBounds() {\r\n    const { _x: x, _y: y } = this;\r\n    const halfWidth = this._width / 2;\r\n    const halfHeight = this._height / 2;\r\n\r\n    return {\r\n      top: y - halfHeight,\r\n      right: x + halfWidth,\r\n      bottom: y + halfHeight,\r\n      left: x - halfWidth,\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (!this._el) {\r\n      const rect = _core_BaseElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createSVG('rect');\r\n\r\n      super._createElement();\r\n\r\n      this._dom.rect = rect;\r\n      this._getMainElement().append(rect);\r\n      this.setSize(this._width, this._height);\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Rectangle);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvUmVjdGFuZ2xlLmpzPzAwNzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQThDO0FBQ2xCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsOENBQUs7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLE9BQU87O0FBRWxCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGVBQWU7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFXOztBQUU5Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDZSx3RUFBUyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL3NoYXBlL1JlY3RhbmdsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCYXNlRWxlbWVudCBmcm9tICcuLi9jb3JlL0Jhc2VFbGVtZW50JztcclxuaW1wb3J0IFNoYXBlIGZyb20gJy4vU2hhcGUnO1xyXG5cclxuY29uc3QgREVGQVVMVFMgPSB7XHJcbiAgd2lkdGg6IDgwLFxyXG4gIGhlaWdodDogODAsXHJcbn07XHJcblxyXG5jbGFzcyBSZWN0YW5nbGUgZXh0ZW5kcyBTaGFwZSB7XHJcbiAgc3RhdGljIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdyZWN0YW5nbGUnO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcclxuICAgIHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUUyxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHN1cGVyKHNldHRpbmdzKTtcclxuICAgIHRoaXMuX3dpZHRoID0gbnVsbDtcclxuICAgIHRoaXMuX2hlaWdodCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5zZXRTaXplKHNldHRpbmdzLndpZHRoLCBzZXR0aW5ncy5oZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgY29uc3QgeyByZWN0IH0gPSB0aGlzLl9kb207XHJcblxyXG4gICAgc3VwZXIuX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgaWYgKHJlY3QpIHtcclxuICAgICAgcmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgd2lkdGgpO1xyXG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgneCcsIHdpZHRoICogLTAuNSk7XHJcbiAgICAgIHJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBoZWlnaHQpO1xyXG4gICAgICByZWN0LnNldEF0dHJpYnV0ZSgneScsIGhlaWdodCAqIC0wLjUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0V2lkdGgod2lkdGgpIHtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldFdpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xyXG4gIH1cclxuXHJcbiAgc2V0SGVpZ2h0KGhlaWdodCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBnZXRTaXplKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IHRoaXMuX3dpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHRoaXMuX2hlaWdodCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfbWFwU2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xyXG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgZ2V0Qm91bmRzKCkge1xyXG4gICAgY29uc3QgeyBfeDogeCwgX3k6IHkgfSA9IHRoaXM7XHJcbiAgICBjb25zdCBoYWxmV2lkdGggPSB0aGlzLl93aWR0aCAvIDI7XHJcbiAgICBjb25zdCBoYWxmSGVpZ2h0ID0gdGhpcy5faGVpZ2h0IC8gMjtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IHkgLSBoYWxmSGVpZ2h0LFxyXG4gICAgICByaWdodDogeCArIGhhbGZXaWR0aCxcclxuICAgICAgYm90dG9tOiB5ICsgaGFsZkhlaWdodCxcclxuICAgICAgbGVmdDogeCAtIGhhbGZXaWR0aCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBfY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIGlmICghdGhpcy5fZWwpIHtcclxuICAgICAgY29uc3QgcmVjdCA9IEJhc2VFbGVtZW50LmNyZWF0ZVNWRygncmVjdCcpO1xyXG5cclxuICAgICAgc3VwZXIuX2NyZWF0ZUVsZW1lbnQoKTtcclxuXHJcbiAgICAgIHRoaXMuX2RvbS5yZWN0ID0gcmVjdDtcclxuICAgICAgdGhpcy5fZ2V0TWFpbkVsZW1lbnQoKS5hcHBlbmQocmVjdCk7XHJcbiAgICAgIHRoaXMuc2V0U2l6ZSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgUmVjdGFuZ2xlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/shape/Rectangle.js\n");

/***/ }),

/***/ "./src/js/shape/Shape.js":
/*!*******************************!*\
  !*** ./src/js/shape/Shape.js ***!
  \*******************************/
/*! exports provided: default, EVENT */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return EVENT; });\n/* harmony import */ var _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../diagram/DiagramElement */ \"./src/js/diagram/DiagramElement.js\");\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n/* harmony import */ var _behavior_EditableTextBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../behavior/EditableTextBehaviorFactory */ \"./src/js/behavior/EditableTextBehaviorFactory.js\");\n/* harmony import */ var _behavior_DraggableShapeBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../behavior/DraggableShapeBehaviorFactory */ \"./src/js/behavior/DraggableShapeBehaviorFactory.js\");\n/* harmony import */ var _behavior_ConnectivityBehaviorFactory__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../behavior/ConnectivityBehaviorFactory */ \"./src/js/behavior/ConnectivityBehaviorFactory.js\");\n/* harmony import */ var _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../behavior/ResizeBehavior */ \"./src/js/behavior/ResizeBehavior.js\");\n/* harmony import */ var _behavior_ResizeBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../behavior/ResizeBehaviorFactory */ \"./src/js/behavior/ResizeBehaviorFactory.js\");\n/* harmony import */ var _utils_Geometry__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/Geometry */ \"./src/js/utils/Geometry.js\");\n/* harmony import */ var _ShapeUI__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ShapeUI */ \"./src/js/shape/ShapeUI.js\");\n/* harmony import */ var _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/ErrorThrower */ \"./src/js/utils/ErrorThrower.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n * Returns and array with the port indexes sorted in priority order for elegibility based on a primary orientation.\r\n * @param {Number} mainOrientation The orientation index that will be the assumed as the prioritized one.\r\n * @param {Object} Object containing the relative position, x and y respect to destination in respective axis.\r\n * @returns {Array}\r\n */\r\nfunction getPortPriorityOrder(mainOrientation, { x, y }) {\r\n  const crossOrientation = mainOrientation === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X\r\n    ? _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y : _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X;\r\n  const mainPorts = _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getPriority(mainOrientation, mainOrientation === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X\r\n    ? x : y);\r\n  const crossPorts = _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getPriority(crossOrientation, crossOrientation === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X\r\n    ? x : y);\r\n\r\n  mainPorts.splice(1, 0, ...crossPorts);\r\n\r\n  return mainPorts;\r\n}\r\n\r\nconst DEFAULTS = {\r\n  x: 0,\r\n  y: 0,\r\n  resizeBehavior: _behavior_ResizeBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__[\"PRODUCTS\"].DEFAULT,\r\n  connectivityBehavior: _behavior_ConnectivityBehaviorFactory__WEBPACK_IMPORTED_MODULE_5__[\"PRODUCTS\"].DEFAULT,\r\n  dragBehavior: _behavior_DraggableShapeBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__[\"PRODUCTS\"].DEFAULT,\r\n  textEditBehavior: _behavior_EditableTextBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"PRODUCTS\"].DEFAULT,\r\n};\r\n\r\nconst EVENT = Object.freeze({\r\n  DRAG_START: 'drag:start',\r\n  DRAG: 'drag',\r\n  DRAG_END: 'drag:end',\r\n  POSITION_CHANGE: 'position:change',\r\n  SHAPE_CONNECT: 'shape:connect',\r\n  SHAPE_DISCONNECT: 'shape:disconnect',\r\n});\r\n\r\nclass Shape extends _diagram_DiagramElement__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  static get type() {\r\n    return 'shape';\r\n  }\r\n\r\n  constructor(settings) {\r\n    super(settings);\r\n\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    this._x = null;\r\n    this._y = null;\r\n    this._cx = null;\r\n    this._cy = null;\r\n    this._cWidth = null;\r\n    this._cHeight = null;\r\n    this._connections = new Set();\r\n    this._ports = [];\r\n    // TODO: component's text is defined in DiagramElement, so this behavior should be defined in that class.\r\n    this._editableBehavior = _behavior_EditableTextBehaviorFactory__WEBPACK_IMPORTED_MODULE_3__[\"default\"].create(settings.textEditBehavior, this);\r\n    this._dragBehavior = _behavior_DraggableShapeBehaviorFactory__WEBPACK_IMPORTED_MODULE_4__[\"default\"].create(settings.dragBehavior, this);\r\n    this._connectivityBehavior = _behavior_ConnectivityBehaviorFactory__WEBPACK_IMPORTED_MODULE_5__[\"default\"].create(settings.connectivityBehavior, this);\r\n    this._resizeBehavior = _behavior_ResizeBehaviorFactory__WEBPACK_IMPORTED_MODULE_7__[\"default\"].create(settings.resizeBehavior, this);\r\n\r\n    this._initPorts()\r\n      .setPosition(settings.x, settings.y);\r\n  }\r\n\r\n  _setCanvas(canvas) {\r\n    if (this._canvas !== canvas) {\r\n      super._setCanvas(canvas);\r\n      canvas.addShape(this);\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  _getComponentUI() {\r\n    return new _ShapeUI__WEBPACK_IMPORTED_MODULE_9__[\"default\"](this);\r\n  }\r\n\r\n  _initPorts() {\r\n    Object.values(_connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"POSITION\"]).forEach((position) => {\r\n      if (typeof position !== 'number') return;\r\n\r\n      this._ports[position] = new _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n        shape: this,\r\n        position,\r\n      });\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  _updatePosition(x, y) {\r\n    this._cx = x;\r\n    this._cy = y;\r\n\r\n    if (this._el) {\r\n      this._el.setAttribute('transform', `translate(${x}, ${y})`);\r\n      // TODO: Connections should be drawn from Connection itself at listening Shape's drag and position change event.\r\n      this._drawConnections();\r\n    }\r\n  }\r\n\r\n  setX(x) {\r\n    this.setPosition(x, this._y);\r\n  }\r\n\r\n  getX() {\r\n    return this._x;\r\n  }\r\n\r\n  setY(y) {\r\n    this.setPosition(this._x, y);\r\n  }\r\n\r\n  getY() {\r\n    return this._y;\r\n  }\r\n\r\n  getCurrentPosition() {\r\n    return { x: this._cx, y: this._cy };\r\n  }\r\n\r\n  /**\r\n   * Set's the shape's position.\r\n   * @param {Number} x The x coordinate.\r\n   * @param {Number} y The y coordinate.\r\n   *//**\r\n   * Set's the shape's position.\r\n   * @param {Point} point An object containing Number values in its x and y properties.\r\n   */\r\n  setPosition(...args) {\r\n    const canvas = this.getCanvas();\r\n    const oldPosition = this.getPosition();\r\n    let [x, y] = args;\r\n\r\n    if (args.length === 1) {\r\n      x = args[0].x;\r\n      y = args[0].y;\r\n    }\r\n\r\n    this._x = x;\r\n    this._y = y;\r\n    this._updatePosition(x, y);\r\n\r\n    if (canvas && (oldPosition.x !== x || oldPosition.y !== y)) {\r\n      canvas.dispatchEvent(EVENT.POSITION_CHANGE, this, this.getPosition(), oldPosition);\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    return {\r\n      x: this._x,\r\n      y: this._y,\r\n    };\r\n  }\r\n\r\n  _updateSize(width, height) {\r\n    this._cWidth = width;\r\n    this._cHeight = height;\r\n\r\n    return this._drawConnections();\r\n  }\r\n\r\n  _updateWidth(width) {\r\n    const { height } = this.getCurrentSize();\r\n\r\n    this._updateSize(width, height);\r\n  }\r\n\r\n  _updateHeight(height) {\r\n    const { width } = this.getCurrentSize();\r\n\r\n    this._updateSize(width, height);\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars, class-methods-use-this\r\n  setWidth(width, keepProportion = false) {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__[\"default\"].notImplemented();\r\n  }\r\n\r\n  getWidth() {\r\n    return this.getSize().width;\r\n  }\r\n\r\n  // eslint-disable-next-line no-unused-vars, class-methods-use-this\r\n  setHeight(height, keepProportion = false) {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__[\"default\"].notImplemented();\r\n  }\r\n\r\n  getHeight() {\r\n    return this.getSize().height;\r\n  }\r\n\r\n  // TODO: is this useful?\r\n  getRatio() {\r\n    return this.getWidth() / this.getHeight();\r\n  }\r\n\r\n  _mapSize(width, height) {\r\n    this._width = width;\r\n    this._height = height;\r\n  }\r\n\r\n  setSize(...args) {\r\n    const oldSize = this.getSize();\r\n    let [width, height] = args;\r\n\r\n    if (args.length === 1) {\r\n      width = args[0].width;\r\n      height = args[0].height;\r\n    }\r\n\r\n    this._mapSize(width, height);\r\n    this._updateSize(width, height);\r\n\r\n    const canvas = this.getCanvas();\r\n\r\n    if (canvas && (width !== oldSize.width || height !== oldSize.height)) {\r\n      canvas.dispatchEvent(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"EVENT\"].SIZE_CHANGE, this, {\r\n        previous: oldSize,\r\n        current: { width, height },\r\n        position: this.getPosition(),\r\n      });\r\n    }\r\n  }\r\n\r\n  getCurrentSize() {\r\n    return {\r\n      width: this._cWidth,\r\n      height: this._cHeight,\r\n    };\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  getBounds() {\r\n    _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__[\"default\"].notImplemented();\r\n  }\r\n\r\n  getSize() {\r\n    const {\r\n      top,\r\n      right,\r\n      bottom,\r\n      left,\r\n    } = this.getBounds();\r\n    const width = right - left;\r\n    const height = bottom - top;\r\n\r\n    return { width, height };\r\n  }\r\n\r\n  /**\r\n   * If the current shape can be connected with other shape.\r\n   * @param {Port.MODE} mode The connection mode.\r\n   * @param {Shape} [otherShape = null] The shape to be connected with. If it's not provided the evaluation will be\r\n   * made based on the direction for any kind of Shape.\r\n   */\r\n  // eslint-disable-next-line class-methods-use-this, no-unused-vars\r\n  canAcceptConnection(mode, shape = null) {\r\n    return true;\r\n  }\r\n\r\n  getPortPoint(position) {\r\n    const { x, y } = this.getCurrentPosition();\r\n    const { orientation, direction } = Object(_connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"getPositionProps\"])(position);\r\n    const { width, height } = this.getCurrentSize();\r\n    const xOffset = orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X ? width / 2 : 0;\r\n    const yOffset = orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y ? height / 2 : 0;\r\n\r\n    return {\r\n      x: x + (xOffset * direction),\r\n      y: y + (yOffset * direction),\r\n    };\r\n  }\r\n\r\n  getPort(position) {\r\n    return this._ports[position];\r\n  }\r\n\r\n  addOutgoingConnection(connection) {\r\n    if (!(connection instanceof _connection_Connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    const otherShape = connection.getDestShape();\r\n    let result = false;\r\n\r\n    if (this.canAcceptConnection(_connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG, otherShape)) {\r\n      result = connection.getOrigShape() !== this ? connection.connect(this, otherShape) : true;\r\n\r\n      if (result) {\r\n        this._connections.add(connection);\r\n        this.getCanvas().dispatchEvent(EVENT.SHAPE_CONNECT, this, {\r\n          otherShape,\r\n          connection,\r\n          mode: _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].DEST,\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getOutgoingConnections() {\r\n    return new Set([...this._connections].filter((i) => i.getOrigShape() === this));\r\n  }\r\n\r\n  addIncomingConnection(connection) {\r\n    if (!(connection instanceof _connection_Connection__WEBPACK_IMPORTED_MODULE_2__[\"default\"])) {\r\n      _utils_ErrorThrower__WEBPACK_IMPORTED_MODULE_10__[\"default\"].invalidParameter();\r\n    }\r\n\r\n    const otherShape = connection.getOrigShape();\r\n    let result = false;\r\n\r\n    if (this.canAcceptConnection(_connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].DEST, otherShape)) {\r\n      result = connection.getDestShape() !== this ? connection.connect(otherShape, this) : true;\r\n\r\n      if (result) {\r\n        this._connections.add(connection);\r\n        this.getCanvas().dispatchEvent(EVENT.SHAPE_CONNECT, this, {\r\n          otherShape,\r\n          connection,\r\n          mode: _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG,\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getIncomingConnections() {\r\n    return new Set([...this._connections].filter((i) => i.getDestShape() === this));\r\n  }\r\n\r\n  getConnectedShapes() {\r\n    const connectedShapes = new Set();\r\n\r\n    this._connections.forEach((connection) => {\r\n      const origShape = connection.getOrigShape();\r\n      const isOrigShape = this === origShape;\r\n      const otherShape = isOrigShape ? connection.getDestShape() : origShape;\r\n\r\n      connectedShapes.add([\r\n        otherShape,\r\n        isOrigShape ? _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].DEST : _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG,\r\n      ]);\r\n    });\r\n\r\n    return connectedShapes;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Connection} connection The connection to remove from Shape's ports or port.\r\n   * @param {Port.MODE} [mode] The mode for the ports the connection will be removed from. If not specified, all ports\r\n   * will be considered.\r\n   * @returns {Boolean} If all connection references were removed. When no supplying `mode` parameter this will always\r\n   * be true.\r\n   */\r\n  _removeFromPorts(connection, mode = null) {\r\n    let stillExists = false;\r\n\r\n    this._ports.forEach((port) => {\r\n      if (port.hasConnection(connection)) {\r\n        if ((mode === null || port.mode === mode)) {\r\n          port.removeConnection(connection);\r\n        } else {\r\n          stillExists = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    return !stillExists;\r\n  }\r\n\r\n  removeConnection(connection, mode = null) {\r\n    if (this._connections.has(connection)) {\r\n      const destShape = connection.getDestShape();\r\n      const otherShape = destShape === this ? connection.getOrigShape() : destShape;\r\n      const allRemoved = this._removeFromPorts(connection, mode);\r\n\r\n      if (allRemoved) {\r\n        this._connections.delete(connection);\r\n\r\n        if (connection.isConnectedWith(this)) {\r\n          connection.disconnect();\r\n        }\r\n\r\n        this.getCanvas().dispatchEvent(EVENT.SHAPE_DISCONNECT, this, {\r\n          connection,\r\n          otherShape,\r\n          mode,\r\n        });\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n\r\n  removeConnections() {\r\n    this._connections.forEach((connection) => {\r\n      this.removeConnection(connection);\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  assignConnectionToPort(connection, portIndex, mode) {\r\n    this._removeFromPorts(connection, mode);\r\n    this._ports[portIndex].addConnection(connection, mode);\r\n\r\n    return this;\r\n  }\r\n\r\n  isUsingConnection(connection) {\r\n    return this._connections.has(connection);\r\n  }\r\n\r\n  isBeingDragged() {\r\n    return this._dragBehavior.isDragging();\r\n  }\r\n\r\n  isBeingResized() {\r\n    return this._resizeBehavior.isDragging();\r\n  }\r\n\r\n  remove() {\r\n    const { _canvas } = this;\r\n\r\n    if (_canvas) {\r\n      this.removeConnections();\r\n      super.remove();\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  hasAvailablePortFor(portIndex, mode) {\r\n    const selectedPort = this._ports[portIndex];\r\n\r\n    if (selectedPort) {\r\n      if (selectedPort.mode === null) {\r\n        const portsInMode = this._ports.filter((port) => port.mode === mode);\r\n\r\n        return portsInMode.length < 3;\r\n      }\r\n\r\n      // TODO: the validationcan be performed here and isAvailableFor() could be removed, unless it\r\n      // is used somewhere else.\r\n      return selectedPort.isAvailableFor(mode);\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Aligns the Shape inside the specified boundary.\r\n   * @param {Object} boundary A boundary object inside the Shape will be aligned to.\r\n   * @param {ResizeBehavior.DIRECTION} alignment The direction to align the Shape to.\r\n   */\r\n  align(boundary, alignment = null) {\r\n    const { width, height } = this.getCurrentSize();\r\n    let { x, y } = _utils_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getBoundSizeAndPos(boundary);\r\n\r\n    switch (alignment) {\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].W:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].NW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].SW:\r\n        x = boundary.left + (width / 2);\r\n        break;\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].E:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].NE:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].SE:\r\n        x = boundary.right - (width / 2);\r\n      default:\r\n    }\r\n\r\n    switch (alignment) {\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].N:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].NW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].NE:\r\n        y = boundary.top + (height / 2);\r\n        break;\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].S:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].SW:\r\n      case _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_6__[\"DIRECTION\"].SE:\r\n        y = boundary.bottom - (height / 2);\r\n        break;\r\n      default:\r\n    }\r\n\r\n    this._updatePosition(x, y);\r\n  }\r\n\r\n  getConnectionPort(target, mode) {\r\n    const isShape = target instanceof Shape;\r\n    const otherPosition = isShape ? target.getPosition() : target.point;\r\n    const bounds = this.getBounds();\r\n    const position = this.getCurrentPosition();\r\n    let relativePosition = _utils_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getNormalizedPosition(\r\n      mode === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG ? position : otherPosition,\r\n      mode === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG ? otherPosition : position,\r\n    );\r\n    let overlapX = false;\r\n    let overlapY = false;\r\n    let orientation;\r\n\r\n    if (isShape) {\r\n      const overlap = _utils_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"default\"].getOverlappedDimensions(\r\n        bounds,\r\n        target.getBounds(),\r\n      );\r\n\r\n      overlapX = overlap.x;\r\n      overlapY = overlap.y;\r\n    } else {\r\n      if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"default\"].isInBetween(target.point.x, bounds.left, bounds.right)) {\r\n        overlapX = true;\r\n      }\r\n\r\n      if (_utils_Geometry__WEBPACK_IMPORTED_MODULE_8__[\"default\"].isInBetween(target.point.y, bounds.top, bounds.bottom)) {\r\n        overlapY = true;\r\n      }\r\n    }\r\n\r\n    if (overlapX && overlapY) {\r\n      orientation = mode === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG ? _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X : _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y;\r\n    } else {\r\n      if (mode === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].DEST) {\r\n        relativePosition = {\r\n          x: relativePosition.x * -1,\r\n          y: relativePosition.y * -1,\r\n        };\r\n      }\r\n\r\n      if (overlapX === overlapY) {\r\n        orientation = mode === _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"MODE\"].ORIG ? _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y : _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X;\r\n      } else if (relativePosition.x === 0) {\r\n        orientation = _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y;\r\n      } else if (relativePosition.y === 0) {\r\n        orientation = _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X;\r\n      } else {\r\n        orientation = overlapX ? _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].Y : _connection_Port__WEBPACK_IMPORTED_MODULE_1__[\"ORIENTATION\"].X;\r\n      }\r\n    }\r\n\r\n    const ports = getPortPriorityOrder(orientation, relativePosition);\r\n    const portIndex = ports.find((port) => this.hasAvailablePortFor(port, mode));\r\n\r\n    return portIndex !== null ? this.getPort(portIndex) : null;\r\n  }\r\n\r\n  _resetPorts() {\r\n    this._ports.forEach((port) => {\r\n      port.clearConnections();\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  _drawConnections() {\r\n    this._resetPorts();\r\n\r\n    this._connections.forEach((connection) => {\r\n      connection.make();\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      ...super.toJSON(),\r\n      x: this._x,\r\n      y: this._y,\r\n      width: this.getWidth(),\r\n      height: this.getHeight(),\r\n    };\r\n  }\r\n\r\n  _createElement() {\r\n    if (this._el) {\r\n      return this;\r\n    }\r\n\r\n    super._createElement();\r\n\r\n    this._el.classList.add('shape');\r\n    this._el.setAttribute('transform', `translate(${this._x}, ${this._y})`);\r\n\r\n    this._connectivityBehavior.attach();\r\n    this._dragBehavior.attach();\r\n    this._resizeBehavior.attach();\r\n    this._editableBehavior.attach();\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Shape);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvU2hhcGUuanM/MTZjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUcxQjtBQUNzQjtBQUdEO0FBR0U7QUFHRjtBQUM2QjtBQUN5QjtBQUM5RDtBQUNUO0FBQ2lCOztBQUVqRDtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQSxnREFBZ0QsT0FBTztBQUN2RCwrQ0FBK0MsNERBQWdCO0FBQy9ELE1BQU0sNERBQWdCLEtBQUssNERBQWdCO0FBQzNDLG9CQUFvQix3REFBSSxrREFBa0QsNERBQWdCO0FBQzFGO0FBQ0EscUJBQXFCLHdEQUFJLG9EQUFvRCw0REFBZ0I7QUFDN0Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isd0VBQWU7QUFDakMsd0JBQXdCLDhFQUFxQjtBQUM3QyxnQkFBZ0IsZ0ZBQWtCO0FBQ2xDLG9CQUFvQiw4RUFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELG9CQUFvQiwrREFBYTtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkVBQTJCO0FBQ3hELHlCQUF5QiwrRUFBNkI7QUFDdEQsaUNBQWlDLDZFQUEyQjtBQUM1RCwyQkFBMkIsdUVBQXFCOztBQUVoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxnREFBTztBQUN0Qjs7QUFFQTtBQUNBLGtCQUFrQix5REFBYTtBQUMvQjs7QUFFQSxrQ0FBa0Msd0RBQUk7QUFDdEM7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0RBQXNELEVBQUUsSUFBSSxFQUFFO0FBQzlEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0EsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUzs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBLFdBQVcsUUFBUTs7QUFFbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSw0REFBWTtBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUksNERBQVk7QUFDaEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsMkJBQTJCLDhEQUFZO0FBQ3ZDO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSw0REFBWTtBQUNoQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcseUJBQXlCLEdBQUcseUVBQWdCO0FBQ3ZELFdBQVcsZ0JBQWdCO0FBQzNCLG9DQUFvQyw0REFBZ0I7QUFDcEQsb0NBQW9DLDREQUFnQjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0MsOERBQVU7QUFDMUMsTUFBTSw0REFBWTtBQUNsQjs7QUFFQTtBQUNBOztBQUVBLGlDQUFpQyxxREFBUztBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFEQUFTO0FBQ3pCLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0NBQWdDLDhEQUFVO0FBQzFDLE1BQU0sNERBQVk7QUFDbEI7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUMscURBQVM7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBUztBQUN6QixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IscURBQVMsUUFBUSxxREFBUztBQUNoRDtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCLGFBQWEsVUFBVTtBQUN2QjtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFVBQVU7O0FBRXJCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFNBQVMsT0FBTyxHQUFHLHVEQUFROztBQUUzQjtBQUNBLFdBQVcsa0VBQVM7QUFDcEIsV0FBVyxrRUFBUztBQUNwQixXQUFXLGtFQUFTO0FBQ3BCO0FBQ0E7QUFDQSxXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEIsV0FBVyxrRUFBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEIsV0FBVyxrRUFBUztBQUNwQjtBQUNBO0FBQ0EsV0FBVyxrRUFBUztBQUNwQixXQUFXLGtFQUFTO0FBQ3BCLFdBQVcsa0VBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVEQUFRO0FBQ25DLGVBQWUscURBQVM7QUFDeEIsZUFBZSxxREFBUztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix1REFBUTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTCxVQUFVLHVEQUFRO0FBQ2xCO0FBQ0E7O0FBRUEsVUFBVSx1REFBUTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2QkFBNkIscURBQVMsUUFBUSw0REFBZ0IsS0FBSyw0REFBZ0I7QUFDbkYsS0FBSztBQUNMLG1CQUFtQixxREFBUztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLHFEQUFTLFFBQVEsNERBQVcsS0FBSyw0REFBVztBQUMzRSxPQUFPO0FBQ1Asc0JBQXNCLDREQUFnQjtBQUN0QyxPQUFPO0FBQ1Asc0JBQXNCLDREQUFnQjtBQUN0QyxPQUFPO0FBQ1AsaUNBQWlDLDREQUFnQixLQUFLLDREQUFnQjtBQUN0RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLG9EQUFvRCxRQUFRLElBQUksUUFBUTs7QUFFeEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVlLG9FQUFLLEVBQUM7QUFDSiIsImZpbGUiOiIuL3NyYy9qcy9zaGFwZS9TaGFwZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEaWFncmFFbGVtZW50IGZyb20gJy4uL2RpYWdyYW0vRGlhZ3JhbUVsZW1lbnQnO1xyXG5pbXBvcnQgUG9ydCwge1xyXG4gIGdldFBvc2l0aW9uUHJvcHMsIE1PREUgYXMgUE9SVF9NT0RFLCBPUklFTlRBVElPTiBhcyBQT1JUX09SSUVOVEFUSU9OLCBQT1NJVElPTiBhcyBQT1JUX1BPU0lUSU9OLCBPUklFTlRBVElPTixcclxufSBmcm9tICcuLi9jb25uZWN0aW9uL1BvcnQnO1xyXG5pbXBvcnQgQ29ubmVjdGlvbiBmcm9tICcuLi9jb25uZWN0aW9uL0Nvbm5lY3Rpb24nO1xyXG5pbXBvcnQgRWRpdGFibGVUZXh0QmVoYXZpb3JGYWN0b3J5LCB7XHJcbiAgUFJPRFVDVFMgYXMgRURJVEFCTEVfVEVYVF9QUk9EVUNUUyxcclxufSBmcm9tICcuLi9iZWhhdmlvci9FZGl0YWJsZVRleHRCZWhhdmlvckZhY3RvcnknO1xyXG5pbXBvcnQgRHJhZ2dhYmxlU2hhcGVCZWhhdmlvckZhY3RvcnksIHtcclxuICBQUk9EVUNUUyBhcyBEUkFHR0FCTEVfUFJPRFVDVFMsXHJcbn0gZnJvbSAnLi4vYmVoYXZpb3IvRHJhZ2dhYmxlU2hhcGVCZWhhdmlvckZhY3RvcnknO1xyXG5pbXBvcnQgQ29ubmVjdGl2aXR5QmVoYXZpb3JGYWN0b3J5LCB7XHJcbiAgUFJPRFVDVFMgYXMgQ09OTkVDVElWSVRZX1BST0RVQ1RTLFxyXG59IGZyb20gJy4uL2JlaGF2aW9yL0Nvbm5lY3Rpdml0eUJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCB7IEVWRU5UIGFzIFJFU0laRV9FVkVOVCwgRElSRUNUSU9OIH0gZnJvbSAnLi4vYmVoYXZpb3IvUmVzaXplQmVoYXZpb3InO1xyXG5pbXBvcnQgUmVzaXplQmVoYXZpb3JGYWN0b3J5LCB7IFBST0RVQ1RTIGFzIFJFU0laRV9QUk9EVUNUUyB9IGZyb20gJy4uL2JlaGF2aW9yL1Jlc2l6ZUJlaGF2aW9yRmFjdG9yeSc7XHJcbmltcG9ydCBHZW9tZXRyeSBmcm9tICcuLi91dGlscy9HZW9tZXRyeSc7XHJcbmltcG9ydCBTaGFwZVVJIGZyb20gJy4vU2hhcGVVSSc7XHJcbmltcG9ydCBFcnJvclRocm93ZXIgZnJvbSAnLi4vdXRpbHMvRXJyb3JUaHJvd2VyJztcclxuXHJcbi8qXHJcbiAqIFJldHVybnMgYW5kIGFycmF5IHdpdGggdGhlIHBvcnQgaW5kZXhlcyBzb3J0ZWQgaW4gcHJpb3JpdHkgb3JkZXIgZm9yIGVsZWdpYmlsaXR5IGJhc2VkIG9uIGEgcHJpbWFyeSBvcmllbnRhdGlvbi5cclxuICogQHBhcmFtIHtOdW1iZXJ9IG1haW5PcmllbnRhdGlvbiBUaGUgb3JpZW50YXRpb24gaW5kZXggdGhhdCB3aWxsIGJlIHRoZSBhc3N1bWVkIGFzIHRoZSBwcmlvcml0aXplZCBvbmUuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgcmVsYXRpdmUgcG9zaXRpb24sIHggYW5kIHkgcmVzcGVjdCB0byBkZXN0aW5hdGlvbiBpbiByZXNwZWN0aXZlIGF4aXMuXHJcbiAqIEByZXR1cm5zIHtBcnJheX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFBvcnRQcmlvcml0eU9yZGVyKG1haW5PcmllbnRhdGlvbiwgeyB4LCB5IH0pIHtcclxuICBjb25zdCBjcm9zc09yaWVudGF0aW9uID0gbWFpbk9yaWVudGF0aW9uID09PSBQT1JUX09SSUVOVEFUSU9OLlhcclxuICAgID8gUE9SVF9PUklFTlRBVElPTi5ZIDogUE9SVF9PUklFTlRBVElPTi5YO1xyXG4gIGNvbnN0IG1haW5Qb3J0cyA9IFBvcnQuZ2V0UHJpb3JpdHkobWFpbk9yaWVudGF0aW9uLCBtYWluT3JpZW50YXRpb24gPT09IFBPUlRfT1JJRU5UQVRJT04uWFxyXG4gICAgPyB4IDogeSk7XHJcbiAgY29uc3QgY3Jvc3NQb3J0cyA9IFBvcnQuZ2V0UHJpb3JpdHkoY3Jvc3NPcmllbnRhdGlvbiwgY3Jvc3NPcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5YXHJcbiAgICA/IHggOiB5KTtcclxuXHJcbiAgbWFpblBvcnRzLnNwbGljZSgxLCAwLCAuLi5jcm9zc1BvcnRzKTtcclxuXHJcbiAgcmV0dXJuIG1haW5Qb3J0cztcclxufVxyXG5cclxuY29uc3QgREVGQVVMVFMgPSB7XHJcbiAgeDogMCxcclxuICB5OiAwLFxyXG4gIHJlc2l6ZUJlaGF2aW9yOiBSRVNJWkVfUFJPRFVDVFMuREVGQVVMVCxcclxuICBjb25uZWN0aXZpdHlCZWhhdmlvcjogQ09OTkVDVElWSVRZX1BST0RVQ1RTLkRFRkFVTFQsXHJcbiAgZHJhZ0JlaGF2aW9yOiBEUkFHR0FCTEVfUFJPRFVDVFMuREVGQVVMVCxcclxuICB0ZXh0RWRpdEJlaGF2aW9yOiBFRElUQUJMRV9URVhUX1BST0RVQ1RTLkRFRkFVTFQsXHJcbn07XHJcblxyXG5jb25zdCBFVkVOVCA9IE9iamVjdC5mcmVlemUoe1xyXG4gIERSQUdfU1RBUlQ6ICdkcmFnOnN0YXJ0JyxcclxuICBEUkFHOiAnZHJhZycsXHJcbiAgRFJBR19FTkQ6ICdkcmFnOmVuZCcsXHJcbiAgUE9TSVRJT05fQ0hBTkdFOiAncG9zaXRpb246Y2hhbmdlJyxcclxuICBTSEFQRV9DT05ORUNUOiAnc2hhcGU6Y29ubmVjdCcsXHJcbiAgU0hBUEVfRElTQ09OTkVDVDogJ3NoYXBlOmRpc2Nvbm5lY3QnLFxyXG59KTtcclxuXHJcbmNsYXNzIFNoYXBlIGV4dGVuZHMgRGlhZ3JhRWxlbWVudCB7XHJcbiAgc3RhdGljIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuICdzaGFwZSc7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc3VwZXIoc2V0dGluZ3MpO1xyXG5cclxuICAgIHNldHRpbmdzID0ge1xyXG4gICAgICAuLi5ERUZBVUxUUyxcclxuICAgICAgLi4uc2V0dGluZ3MsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuX3ggPSBudWxsO1xyXG4gICAgdGhpcy5feSA9IG51bGw7XHJcbiAgICB0aGlzLl9jeCA9IG51bGw7XHJcbiAgICB0aGlzLl9jeSA9IG51bGw7XHJcbiAgICB0aGlzLl9jV2lkdGggPSBudWxsO1xyXG4gICAgdGhpcy5fY0hlaWdodCA9IG51bGw7XHJcbiAgICB0aGlzLl9jb25uZWN0aW9ucyA9IG5ldyBTZXQoKTtcclxuICAgIHRoaXMuX3BvcnRzID0gW107XHJcbiAgICAvLyBUT0RPOiBjb21wb25lbnQncyB0ZXh0IGlzIGRlZmluZWQgaW4gRGlhZ3JhbUVsZW1lbnQsIHNvIHRoaXMgYmVoYXZpb3Igc2hvdWxkIGJlIGRlZmluZWQgaW4gdGhhdCBjbGFzcy5cclxuICAgIHRoaXMuX2VkaXRhYmxlQmVoYXZpb3IgPSBFZGl0YWJsZVRleHRCZWhhdmlvckZhY3RvcnkuY3JlYXRlKHNldHRpbmdzLnRleHRFZGl0QmVoYXZpb3IsIHRoaXMpO1xyXG4gICAgdGhpcy5fZHJhZ0JlaGF2aW9yID0gRHJhZ2dhYmxlU2hhcGVCZWhhdmlvckZhY3RvcnkuY3JlYXRlKHNldHRpbmdzLmRyYWdCZWhhdmlvciwgdGhpcyk7XHJcbiAgICB0aGlzLl9jb25uZWN0aXZpdHlCZWhhdmlvciA9IENvbm5lY3Rpdml0eUJlaGF2aW9yRmFjdG9yeS5jcmVhdGUoc2V0dGluZ3MuY29ubmVjdGl2aXR5QmVoYXZpb3IsIHRoaXMpO1xyXG4gICAgdGhpcy5fcmVzaXplQmVoYXZpb3IgPSBSZXNpemVCZWhhdmlvckZhY3RvcnkuY3JlYXRlKHNldHRpbmdzLnJlc2l6ZUJlaGF2aW9yLCB0aGlzKTtcclxuXHJcbiAgICB0aGlzLl9pbml0UG9ydHMoKVxyXG4gICAgICAuc2V0UG9zaXRpb24oc2V0dGluZ3MueCwgc2V0dGluZ3MueSk7XHJcbiAgfVxyXG5cclxuICBfc2V0Q2FudmFzKGNhbnZhcykge1xyXG4gICAgaWYgKHRoaXMuX2NhbnZhcyAhPT0gY2FudmFzKSB7XHJcbiAgICAgIHN1cGVyLl9zZXRDYW52YXMoY2FudmFzKTtcclxuICAgICAgY2FudmFzLmFkZFNoYXBlKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgX2dldENvbXBvbmVudFVJKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTaGFwZVVJKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2luaXRQb3J0cygpIHtcclxuICAgIE9iamVjdC52YWx1ZXMoUE9SVF9QT1NJVElPTikuZm9yRWFjaCgocG9zaXRpb24pID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiAhPT0gJ251bWJlcicpIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuX3BvcnRzW3Bvc2l0aW9uXSA9IG5ldyBQb3J0KHtcclxuICAgICAgICBzaGFwZTogdGhpcyxcclxuICAgICAgICBwb3NpdGlvbixcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIF91cGRhdGVQb3NpdGlvbih4LCB5KSB7XHJcbiAgICB0aGlzLl9jeCA9IHg7XHJcbiAgICB0aGlzLl9jeSA9IHk7XHJcblxyXG4gICAgaWYgKHRoaXMuX2VsKSB7XHJcbiAgICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3h9LCAke3l9KWApO1xyXG4gICAgICAvLyBUT0RPOiBDb25uZWN0aW9ucyBzaG91bGQgYmUgZHJhd24gZnJvbSBDb25uZWN0aW9uIGl0c2VsZiBhdCBsaXN0ZW5pbmcgU2hhcGUncyBkcmFnIGFuZCBwb3NpdGlvbiBjaGFuZ2UgZXZlbnQuXHJcbiAgICAgIHRoaXMuX2RyYXdDb25uZWN0aW9ucygpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0WCh4KSB7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uKHgsIHRoaXMuX3kpO1xyXG4gIH1cclxuXHJcbiAgZ2V0WCgpIHtcclxuICAgIHJldHVybiB0aGlzLl94O1xyXG4gIH1cclxuXHJcbiAgc2V0WSh5KSB7XHJcbiAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuX3gsIHkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0WSgpIHtcclxuICAgIHJldHVybiB0aGlzLl95O1xyXG4gIH1cclxuXHJcbiAgZ2V0Q3VycmVudFBvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIHsgeDogdGhpcy5fY3gsIHk6IHRoaXMuX2N5IH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQncyB0aGUgc2hhcGUncyBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgeCBjb29yZGluYXRlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB5IGNvb3JkaW5hdGUuXHJcbiAgICovLyoqXHJcbiAgICogU2V0J3MgdGhlIHNoYXBlJ3MgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIHtQb2ludH0gcG9pbnQgQW4gb2JqZWN0IGNvbnRhaW5pbmcgTnVtYmVyIHZhbHVlcyBpbiBpdHMgeCBhbmQgeSBwcm9wZXJ0aWVzLlxyXG4gICAqL1xyXG4gIHNldFBvc2l0aW9uKC4uLmFyZ3MpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZ2V0Q2FudmFzKCk7XHJcbiAgICBjb25zdCBvbGRQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcclxuICAgIGxldCBbeCwgeV0gPSBhcmdzO1xyXG5cclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICB4ID0gYXJnc1swXS54O1xyXG4gICAgICB5ID0gYXJnc1swXS55O1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX3ggPSB4O1xyXG4gICAgdGhpcy5feSA9IHk7XHJcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbih4LCB5KTtcclxuXHJcbiAgICBpZiAoY2FudmFzICYmIChvbGRQb3NpdGlvbi54ICE9PSB4IHx8IG9sZFBvc2l0aW9uLnkgIT09IHkpKSB7XHJcbiAgICAgIGNhbnZhcy5kaXNwYXRjaEV2ZW50KEVWRU5ULlBPU0lUSU9OX0NIQU5HRSwgdGhpcywgdGhpcy5nZXRQb3NpdGlvbigpLCBvbGRQb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRoaXMuX3gsXHJcbiAgICAgIHk6IHRoaXMuX3ksXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5fY1dpZHRoID0gd2lkdGg7XHJcbiAgICB0aGlzLl9jSGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9kcmF3Q29ubmVjdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIF91cGRhdGVXaWR0aCh3aWR0aCkge1xyXG4gICAgY29uc3QgeyBoZWlnaHQgfSA9IHRoaXMuZ2V0Q3VycmVudFNpemUoKTtcclxuXHJcbiAgICB0aGlzLl91cGRhdGVTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgX3VwZGF0ZUhlaWdodChoZWlnaHQpIHtcclxuICAgIGNvbnN0IHsgd2lkdGggfSA9IHRoaXMuZ2V0Q3VycmVudFNpemUoKTtcclxuXHJcbiAgICB0aGlzLl91cGRhdGVTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzLCBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgc2V0V2lkdGgod2lkdGgsIGtlZXBQcm9wb3J0aW9uID0gZmFsc2UpIHtcclxuICAgIEVycm9yVGhyb3dlci5ub3RJbXBsZW1lbnRlZCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0V2lkdGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRTaXplKCkud2lkdGg7XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMsIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcclxuICBzZXRIZWlnaHQoaGVpZ2h0LCBrZWVwUHJvcG9ydGlvbiA9IGZhbHNlKSB7XHJcbiAgICBFcnJvclRocm93ZXIubm90SW1wbGVtZW50ZWQoKTtcclxuICB9XHJcblxyXG4gIGdldEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFNpemUoKS5oZWlnaHQ7XHJcbiAgfVxyXG5cclxuICAvLyBUT0RPOiBpcyB0aGlzIHVzZWZ1bD9cclxuICBnZXRSYXRpbygpIHtcclxuICAgIHJldHVybiB0aGlzLmdldFdpZHRoKCkgLyB0aGlzLmdldEhlaWdodCgpO1xyXG4gIH1cclxuXHJcbiAgX21hcFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcclxuICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcclxuICB9XHJcblxyXG4gIHNldFNpemUoLi4uYXJncykge1xyXG4gICAgY29uc3Qgb2xkU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpO1xyXG4gICAgbGV0IFt3aWR0aCwgaGVpZ2h0XSA9IGFyZ3M7XHJcblxyXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHdpZHRoID0gYXJnc1swXS53aWR0aDtcclxuICAgICAgaGVpZ2h0ID0gYXJnc1swXS5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fbWFwU2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHRoaXMuX3VwZGF0ZVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5nZXRDYW52YXMoKTtcclxuXHJcbiAgICBpZiAoY2FudmFzICYmICh3aWR0aCAhPT0gb2xkU2l6ZS53aWR0aCB8fCBoZWlnaHQgIT09IG9sZFNpemUuaGVpZ2h0KSkge1xyXG4gICAgICBjYW52YXMuZGlzcGF0Y2hFdmVudChSRVNJWkVfRVZFTlQuU0laRV9DSEFOR0UsIHRoaXMsIHtcclxuICAgICAgICBwcmV2aW91czogb2xkU2l6ZSxcclxuICAgICAgICBjdXJyZW50OiB7IHdpZHRoLCBoZWlnaHQgfSxcclxuICAgICAgICBwb3NpdGlvbjogdGhpcy5nZXRQb3NpdGlvbigpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRTaXplKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IHRoaXMuX2NXaWR0aCxcclxuICAgICAgaGVpZ2h0OiB0aGlzLl9jSGVpZ2h0LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXHJcbiAgZ2V0Qm91bmRzKCkge1xyXG4gICAgRXJyb3JUaHJvd2VyLm5vdEltcGxlbWVudGVkKCk7XHJcbiAgfVxyXG5cclxuICBnZXRTaXplKCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICB0b3AsXHJcbiAgICAgIHJpZ2h0LFxyXG4gICAgICBib3R0b20sXHJcbiAgICAgIGxlZnQsXHJcbiAgICB9ID0gdGhpcy5nZXRCb3VuZHMoKTtcclxuICAgIGNvbnN0IHdpZHRoID0gcmlnaHQgLSBsZWZ0O1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gYm90dG9tIC0gdG9wO1xyXG5cclxuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHRoZSBjdXJyZW50IHNoYXBlIGNhbiBiZSBjb25uZWN0ZWQgd2l0aCBvdGhlciBzaGFwZS5cclxuICAgKiBAcGFyYW0ge1BvcnQuTU9ERX0gbW9kZSBUaGUgY29ubmVjdGlvbiBtb2RlLlxyXG4gICAqIEBwYXJhbSB7U2hhcGV9IFtvdGhlclNoYXBlID0gbnVsbF0gVGhlIHNoYXBlIHRvIGJlIGNvbm5lY3RlZCB3aXRoLiBJZiBpdCdzIG5vdCBwcm92aWRlZCB0aGUgZXZhbHVhdGlvbiB3aWxsIGJlXHJcbiAgICogbWFkZSBiYXNlZCBvbiB0aGUgZGlyZWN0aW9uIGZvciBhbnkga2luZCBvZiBTaGFwZS5cclxuICAgKi9cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpcywgbm8tdW51c2VkLXZhcnNcclxuICBjYW5BY2NlcHRDb25uZWN0aW9uKG1vZGUsIHNoYXBlID0gbnVsbCkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBnZXRQb3J0UG9pbnQocG9zaXRpb24pIHtcclxuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5nZXRDdXJyZW50UG9zaXRpb24oKTtcclxuICAgIGNvbnN0IHsgb3JpZW50YXRpb24sIGRpcmVjdGlvbiB9ID0gZ2V0UG9zaXRpb25Qcm9wcyhwb3NpdGlvbik7XHJcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuZ2V0Q3VycmVudFNpemUoKTtcclxuICAgIGNvbnN0IHhPZmZzZXQgPSBvcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5YID8gd2lkdGggLyAyIDogMDtcclxuICAgIGNvbnN0IHlPZmZzZXQgPSBvcmllbnRhdGlvbiA9PT0gUE9SVF9PUklFTlRBVElPTi5ZID8gaGVpZ2h0IC8gMiA6IDA7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogeCArICh4T2Zmc2V0ICogZGlyZWN0aW9uKSxcclxuICAgICAgeTogeSArICh5T2Zmc2V0ICogZGlyZWN0aW9uKSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBnZXRQb3J0KHBvc2l0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcG9ydHNbcG9zaXRpb25dO1xyXG4gIH1cclxuXHJcbiAgYWRkT3V0Z29pbmdDb25uZWN0aW9uKGNvbm5lY3Rpb24pIHtcclxuICAgIGlmICghKGNvbm5lY3Rpb24gaW5zdGFuY2VvZiBDb25uZWN0aW9uKSkge1xyXG4gICAgICBFcnJvclRocm93ZXIuaW52YWxpZFBhcmFtZXRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG90aGVyU2hhcGUgPSBjb25uZWN0aW9uLmdldERlc3RTaGFwZSgpO1xyXG4gICAgbGV0IHJlc3VsdCA9IGZhbHNlO1xyXG5cclxuICAgIGlmICh0aGlzLmNhbkFjY2VwdENvbm5lY3Rpb24oUE9SVF9NT0RFLk9SSUcsIG90aGVyU2hhcGUpKSB7XHJcbiAgICAgIHJlc3VsdCA9IGNvbm5lY3Rpb24uZ2V0T3JpZ1NoYXBlKCkgIT09IHRoaXMgPyBjb25uZWN0aW9uLmNvbm5lY3QodGhpcywgb3RoZXJTaGFwZSkgOiB0cnVlO1xyXG5cclxuICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb25zLmFkZChjb25uZWN0aW9uKTtcclxuICAgICAgICB0aGlzLmdldENhbnZhcygpLmRpc3BhdGNoRXZlbnQoRVZFTlQuU0hBUEVfQ09OTkVDVCwgdGhpcywge1xyXG4gICAgICAgICAgb3RoZXJTaGFwZSxcclxuICAgICAgICAgIGNvbm5lY3Rpb24sXHJcbiAgICAgICAgICBtb2RlOiBQT1JUX01PREUuREVTVCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBnZXRPdXRnb2luZ0Nvbm5lY3Rpb25zKCkge1xyXG4gICAgcmV0dXJuIG5ldyBTZXQoWy4uLnRoaXMuX2Nvbm5lY3Rpb25zXS5maWx0ZXIoKGkpID0+IGkuZ2V0T3JpZ1NoYXBlKCkgPT09IHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGFkZEluY29taW5nQ29ubmVjdGlvbihjb25uZWN0aW9uKSB7XHJcbiAgICBpZiAoIShjb25uZWN0aW9uIGluc3RhbmNlb2YgQ29ubmVjdGlvbikpIHtcclxuICAgICAgRXJyb3JUaHJvd2VyLmludmFsaWRQYXJhbWV0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBvdGhlclNoYXBlID0gY29ubmVjdGlvbi5nZXRPcmlnU2hhcGUoKTtcclxuICAgIGxldCByZXN1bHQgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAodGhpcy5jYW5BY2NlcHRDb25uZWN0aW9uKFBPUlRfTU9ERS5ERVNULCBvdGhlclNoYXBlKSkge1xyXG4gICAgICByZXN1bHQgPSBjb25uZWN0aW9uLmdldERlc3RTaGFwZSgpICE9PSB0aGlzID8gY29ubmVjdGlvbi5jb25uZWN0KG90aGVyU2hhcGUsIHRoaXMpIDogdHJ1ZTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9ucy5hZGQoY29ubmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5nZXRDYW52YXMoKS5kaXNwYXRjaEV2ZW50KEVWRU5ULlNIQVBFX0NPTk5FQ1QsIHRoaXMsIHtcclxuICAgICAgICAgIG90aGVyU2hhcGUsXHJcbiAgICAgICAgICBjb25uZWN0aW9uLFxyXG4gICAgICAgICAgbW9kZTogUE9SVF9NT0RFLk9SSUcsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5jb21pbmdDb25uZWN0aW9ucygpIHtcclxuICAgIHJldHVybiBuZXcgU2V0KFsuLi50aGlzLl9jb25uZWN0aW9uc10uZmlsdGVyKChpKSA9PiBpLmdldERlc3RTaGFwZSgpID09PSB0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBnZXRDb25uZWN0ZWRTaGFwZXMoKSB7XHJcbiAgICBjb25zdCBjb25uZWN0ZWRTaGFwZXMgPSBuZXcgU2V0KCk7XHJcblxyXG4gICAgdGhpcy5fY29ubmVjdGlvbnMuZm9yRWFjaCgoY29ubmVjdGlvbikgPT4ge1xyXG4gICAgICBjb25zdCBvcmlnU2hhcGUgPSBjb25uZWN0aW9uLmdldE9yaWdTaGFwZSgpO1xyXG4gICAgICBjb25zdCBpc09yaWdTaGFwZSA9IHRoaXMgPT09IG9yaWdTaGFwZTtcclxuICAgICAgY29uc3Qgb3RoZXJTaGFwZSA9IGlzT3JpZ1NoYXBlID8gY29ubmVjdGlvbi5nZXREZXN0U2hhcGUoKSA6IG9yaWdTaGFwZTtcclxuXHJcbiAgICAgIGNvbm5lY3RlZFNoYXBlcy5hZGQoW1xyXG4gICAgICAgIG90aGVyU2hhcGUsXHJcbiAgICAgICAgaXNPcmlnU2hhcGUgPyBQT1JUX01PREUuREVTVCA6IFBPUlRfTU9ERS5PUklHLFxyXG4gICAgICBdKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBjb25uZWN0ZWRTaGFwZXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Q29ubmVjdGlvbn0gY29ubmVjdGlvbiBUaGUgY29ubmVjdGlvbiB0byByZW1vdmUgZnJvbSBTaGFwZSdzIHBvcnRzIG9yIHBvcnQuXHJcbiAgICogQHBhcmFtIHtQb3J0Lk1PREV9IFttb2RlXSBUaGUgbW9kZSBmb3IgdGhlIHBvcnRzIHRoZSBjb25uZWN0aW9uIHdpbGwgYmUgcmVtb3ZlZCBmcm9tLiBJZiBub3Qgc3BlY2lmaWVkLCBhbGwgcG9ydHNcclxuICAgKiB3aWxsIGJlIGNvbnNpZGVyZWQuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59IElmIGFsbCBjb25uZWN0aW9uIHJlZmVyZW5jZXMgd2VyZSByZW1vdmVkLiBXaGVuIG5vIHN1cHBseWluZyBgbW9kZWAgcGFyYW1ldGVyIHRoaXMgd2lsbCBhbHdheXNcclxuICAgKiBiZSB0cnVlLlxyXG4gICAqL1xyXG4gIF9yZW1vdmVGcm9tUG9ydHMoY29ubmVjdGlvbiwgbW9kZSA9IG51bGwpIHtcclxuICAgIGxldCBzdGlsbEV4aXN0cyA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuX3BvcnRzLmZvckVhY2goKHBvcnQpID0+IHtcclxuICAgICAgaWYgKHBvcnQuaGFzQ29ubmVjdGlvbihjb25uZWN0aW9uKSkge1xyXG4gICAgICAgIGlmICgobW9kZSA9PT0gbnVsbCB8fCBwb3J0Lm1vZGUgPT09IG1vZGUpKSB7XHJcbiAgICAgICAgICBwb3J0LnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0aWxsRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiAhc3RpbGxFeGlzdHM7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDb25uZWN0aW9uKGNvbm5lY3Rpb24sIG1vZGUgPSBudWxsKSB7XHJcbiAgICBpZiAodGhpcy5fY29ubmVjdGlvbnMuaGFzKGNvbm5lY3Rpb24pKSB7XHJcbiAgICAgIGNvbnN0IGRlc3RTaGFwZSA9IGNvbm5lY3Rpb24uZ2V0RGVzdFNoYXBlKCk7XHJcbiAgICAgIGNvbnN0IG90aGVyU2hhcGUgPSBkZXN0U2hhcGUgPT09IHRoaXMgPyBjb25uZWN0aW9uLmdldE9yaWdTaGFwZSgpIDogZGVzdFNoYXBlO1xyXG4gICAgICBjb25zdCBhbGxSZW1vdmVkID0gdGhpcy5fcmVtb3ZlRnJvbVBvcnRzKGNvbm5lY3Rpb24sIG1vZGUpO1xyXG5cclxuICAgICAgaWYgKGFsbFJlbW92ZWQpIHtcclxuICAgICAgICB0aGlzLl9jb25uZWN0aW9ucy5kZWxldGUoY29ubmVjdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkV2l0aCh0aGlzKSkge1xyXG4gICAgICAgICAgY29ubmVjdGlvbi5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdldENhbnZhcygpLmRpc3BhdGNoRXZlbnQoRVZFTlQuU0hBUEVfRElTQ09OTkVDVCwgdGhpcywge1xyXG4gICAgICAgICAgY29ubmVjdGlvbixcclxuICAgICAgICAgIG90aGVyU2hhcGUsXHJcbiAgICAgICAgICBtb2RlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHJlbW92ZUNvbm5lY3Rpb25zKCkge1xyXG4gICAgdGhpcy5fY29ubmVjdGlvbnMuZm9yRWFjaCgoY29ubmVjdGlvbikgPT4ge1xyXG4gICAgICB0aGlzLnJlbW92ZUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGFzc2lnbkNvbm5lY3Rpb25Ub1BvcnQoY29ubmVjdGlvbiwgcG9ydEluZGV4LCBtb2RlKSB7XHJcbiAgICB0aGlzLl9yZW1vdmVGcm9tUG9ydHMoY29ubmVjdGlvbiwgbW9kZSk7XHJcbiAgICB0aGlzLl9wb3J0c1twb3J0SW5kZXhdLmFkZENvbm5lY3Rpb24oY29ubmVjdGlvbiwgbW9kZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBpc1VzaW5nQ29ubmVjdGlvbihjb25uZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGlvbnMuaGFzKGNvbm5lY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgaXNCZWluZ0RyYWdnZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZHJhZ0JlaGF2aW9yLmlzRHJhZ2dpbmcoKTtcclxuICB9XHJcblxyXG4gIGlzQmVpbmdSZXNpemVkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZUJlaGF2aW9yLmlzRHJhZ2dpbmcoKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZSgpIHtcclxuICAgIGNvbnN0IHsgX2NhbnZhcyB9ID0gdGhpcztcclxuXHJcbiAgICBpZiAoX2NhbnZhcykge1xyXG4gICAgICB0aGlzLnJlbW92ZUNvbm5lY3Rpb25zKCk7XHJcbiAgICAgIHN1cGVyLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgaGFzQXZhaWxhYmxlUG9ydEZvcihwb3J0SW5kZXgsIG1vZGUpIHtcclxuICAgIGNvbnN0IHNlbGVjdGVkUG9ydCA9IHRoaXMuX3BvcnRzW3BvcnRJbmRleF07XHJcblxyXG4gICAgaWYgKHNlbGVjdGVkUG9ydCkge1xyXG4gICAgICBpZiAoc2VsZWN0ZWRQb3J0Lm1vZGUgPT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBwb3J0c0luTW9kZSA9IHRoaXMuX3BvcnRzLmZpbHRlcigocG9ydCkgPT4gcG9ydC5tb2RlID09PSBtb2RlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHBvcnRzSW5Nb2RlLmxlbmd0aCA8IDM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRPRE86IHRoZSB2YWxpZGF0aW9uY2FuIGJlIHBlcmZvcm1lZCBoZXJlIGFuZCBpc0F2YWlsYWJsZUZvcigpIGNvdWxkIGJlIHJlbW92ZWQsIHVubGVzcyBpdFxyXG4gICAgICAvLyBpcyB1c2VkIHNvbWV3aGVyZSBlbHNlLlxyXG4gICAgICByZXR1cm4gc2VsZWN0ZWRQb3J0LmlzQXZhaWxhYmxlRm9yKG1vZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFsaWducyB0aGUgU2hhcGUgaW5zaWRlIHRoZSBzcGVjaWZpZWQgYm91bmRhcnkuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvdW5kYXJ5IEEgYm91bmRhcnkgb2JqZWN0IGluc2lkZSB0aGUgU2hhcGUgd2lsbCBiZSBhbGlnbmVkIHRvLlxyXG4gICAqIEBwYXJhbSB7UmVzaXplQmVoYXZpb3IuRElSRUNUSU9OfSBhbGlnbm1lbnQgVGhlIGRpcmVjdGlvbiB0byBhbGlnbiB0aGUgU2hhcGUgdG8uXHJcbiAgICovXHJcbiAgYWxpZ24oYm91bmRhcnksIGFsaWdubWVudCA9IG51bGwpIHtcclxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRDdXJyZW50U2l6ZSgpO1xyXG4gICAgbGV0IHsgeCwgeSB9ID0gR2VvbWV0cnkuZ2V0Qm91bmRTaXplQW5kUG9zKGJvdW5kYXJ5KTtcclxuXHJcbiAgICBzd2l0Y2ggKGFsaWdubWVudCkge1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5XOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5OVzpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uU1c6XHJcbiAgICAgICAgeCA9IGJvdW5kYXJ5LmxlZnQgKyAod2lkdGggLyAyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBESVJFQ1RJT04uRTpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uTkU6XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLlNFOlxyXG4gICAgICAgIHggPSBib3VuZGFyeS5yaWdodCAtICh3aWR0aCAvIDIpO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAoYWxpZ25tZW50KSB7XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLk46XHJcbiAgICAgIGNhc2UgRElSRUNUSU9OLk5XOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5ORTpcclxuICAgICAgICB5ID0gYm91bmRhcnkudG9wICsgKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIERJUkVDVElPTi5TOlxyXG4gICAgICBjYXNlIERJUkVDVElPTi5TVzpcclxuICAgICAgY2FzZSBESVJFQ1RJT04uU0U6XHJcbiAgICAgICAgeSA9IGJvdW5kYXJ5LmJvdHRvbSAtIChoZWlnaHQgLyAyKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl91cGRhdGVQb3NpdGlvbih4LCB5KTtcclxuICB9XHJcblxyXG4gIGdldENvbm5lY3Rpb25Qb3J0KHRhcmdldCwgbW9kZSkge1xyXG4gICAgY29uc3QgaXNTaGFwZSA9IHRhcmdldCBpbnN0YW5jZW9mIFNoYXBlO1xyXG4gICAgY29uc3Qgb3RoZXJQb3NpdGlvbiA9IGlzU2hhcGUgPyB0YXJnZXQuZ2V0UG9zaXRpb24oKSA6IHRhcmdldC5wb2ludDtcclxuICAgIGNvbnN0IGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKCk7XHJcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0Q3VycmVudFBvc2l0aW9uKCk7XHJcbiAgICBsZXQgcmVsYXRpdmVQb3NpdGlvbiA9IEdlb21ldHJ5LmdldE5vcm1hbGl6ZWRQb3NpdGlvbihcclxuICAgICAgbW9kZSA9PT0gUE9SVF9NT0RFLk9SSUcgPyBwb3NpdGlvbiA6IG90aGVyUG9zaXRpb24sXHJcbiAgICAgIG1vZGUgPT09IFBPUlRfTU9ERS5PUklHID8gb3RoZXJQb3NpdGlvbiA6IHBvc2l0aW9uLFxyXG4gICAgKTtcclxuICAgIGxldCBvdmVybGFwWCA9IGZhbHNlO1xyXG4gICAgbGV0IG92ZXJsYXBZID0gZmFsc2U7XHJcbiAgICBsZXQgb3JpZW50YXRpb247XHJcblxyXG4gICAgaWYgKGlzU2hhcGUpIHtcclxuICAgICAgY29uc3Qgb3ZlcmxhcCA9IEdlb21ldHJ5LmdldE92ZXJsYXBwZWREaW1lbnNpb25zKFxyXG4gICAgICAgIGJvdW5kcyxcclxuICAgICAgICB0YXJnZXQuZ2V0Qm91bmRzKCksXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBvdmVybGFwWCA9IG92ZXJsYXAueDtcclxuICAgICAgb3ZlcmxhcFkgPSBvdmVybGFwLnk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoR2VvbWV0cnkuaXNJbkJldHdlZW4odGFyZ2V0LnBvaW50LngsIGJvdW5kcy5sZWZ0LCBib3VuZHMucmlnaHQpKSB7XHJcbiAgICAgICAgb3ZlcmxhcFggPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoR2VvbWV0cnkuaXNJbkJldHdlZW4odGFyZ2V0LnBvaW50LnksIGJvdW5kcy50b3AsIGJvdW5kcy5ib3R0b20pKSB7XHJcbiAgICAgICAgb3ZlcmxhcFkgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG92ZXJsYXBYICYmIG92ZXJsYXBZKSB7XHJcbiAgICAgIG9yaWVudGF0aW9uID0gbW9kZSA9PT0gUE9SVF9NT0RFLk9SSUcgPyBQT1JUX09SSUVOVEFUSU9OLlggOiBQT1JUX09SSUVOVEFUSU9OLlk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobW9kZSA9PT0gUE9SVF9NT0RFLkRFU1QpIHtcclxuICAgICAgICByZWxhdGl2ZVBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgeDogcmVsYXRpdmVQb3NpdGlvbi54ICogLTEsXHJcbiAgICAgICAgICB5OiByZWxhdGl2ZVBvc2l0aW9uLnkgKiAtMSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAob3ZlcmxhcFggPT09IG92ZXJsYXBZKSB7XHJcbiAgICAgICAgb3JpZW50YXRpb24gPSBtb2RlID09PSBQT1JUX01PREUuT1JJRyA/IE9SSUVOVEFUSU9OLlkgOiBPUklFTlRBVElPTi5YO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlbGF0aXZlUG9zaXRpb24ueCA9PT0gMCkge1xyXG4gICAgICAgIG9yaWVudGF0aW9uID0gUE9SVF9PUklFTlRBVElPTi5ZO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlbGF0aXZlUG9zaXRpb24ueSA9PT0gMCkge1xyXG4gICAgICAgIG9yaWVudGF0aW9uID0gUE9SVF9PUklFTlRBVElPTi5YO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9yaWVudGF0aW9uID0gb3ZlcmxhcFggPyBQT1JUX09SSUVOVEFUSU9OLlkgOiBQT1JUX09SSUVOVEFUSU9OLlg7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwb3J0cyA9IGdldFBvcnRQcmlvcml0eU9yZGVyKG9yaWVudGF0aW9uLCByZWxhdGl2ZVBvc2l0aW9uKTtcclxuICAgIGNvbnN0IHBvcnRJbmRleCA9IHBvcnRzLmZpbmQoKHBvcnQpID0+IHRoaXMuaGFzQXZhaWxhYmxlUG9ydEZvcihwb3J0LCBtb2RlKSk7XHJcblxyXG4gICAgcmV0dXJuIHBvcnRJbmRleCAhPT0gbnVsbCA/IHRoaXMuZ2V0UG9ydChwb3J0SW5kZXgpIDogbnVsbDtcclxuICB9XHJcblxyXG4gIF9yZXNldFBvcnRzKCkge1xyXG4gICAgdGhpcy5fcG9ydHMuZm9yRWFjaCgocG9ydCkgPT4ge1xyXG4gICAgICBwb3J0LmNsZWFyQ29ubmVjdGlvbnMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgX2RyYXdDb25uZWN0aW9ucygpIHtcclxuICAgIHRoaXMuX3Jlc2V0UG9ydHMoKTtcclxuXHJcbiAgICB0aGlzLl9jb25uZWN0aW9ucy5mb3JFYWNoKChjb25uZWN0aW9uKSA9PiB7XHJcbiAgICAgIGNvbm5lY3Rpb24ubWFrZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICB0b0pTT04oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi5zdXBlci50b0pTT04oKSxcclxuICAgICAgeDogdGhpcy5feCxcclxuICAgICAgeTogdGhpcy5feSxcclxuICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcclxuICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVFbGVtZW50KCkge1xyXG4gICAgaWYgKHRoaXMuX2VsKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHN1cGVyLl9jcmVhdGVFbGVtZW50KCk7XHJcblxyXG4gICAgdGhpcy5fZWwuY2xhc3NMaXN0LmFkZCgnc2hhcGUnKTtcclxuICAgIHRoaXMuX2VsLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMuX3h9LCAke3RoaXMuX3l9KWApO1xyXG5cclxuICAgIHRoaXMuX2Nvbm5lY3Rpdml0eUJlaGF2aW9yLmF0dGFjaCgpO1xyXG4gICAgdGhpcy5fZHJhZ0JlaGF2aW9yLmF0dGFjaCgpO1xyXG4gICAgdGhpcy5fcmVzaXplQmVoYXZpb3IuYXR0YWNoKCk7XHJcbiAgICB0aGlzLl9lZGl0YWJsZUJlaGF2aW9yLmF0dGFjaCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2hhcGU7XHJcbmV4cG9ydCB7IEVWRU5UIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/shape/Shape.js\n");

/***/ }),

/***/ "./src/js/shape/ShapeUI.js":
/*!*********************************!*\
  !*** ./src/js/shape/ShapeUI.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _diagram_DiagramUI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../diagram/DiagramUI */ \"./src/js/diagram/DiagramUI.js\");\n/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shape */ \"./src/js/shape/Shape.js\");\n/* harmony import */ var _behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../behavior/ResizeBehavior */ \"./src/js/behavior/ResizeBehavior.js\");\n/* harmony import */ var _core_BaseElement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/BaseElement */ \"./src/js/core/BaseElement.js\");\n\r\n\r\n\r\n\r\n\r\nlet handler;\r\nclass ShapeUI extends _diagram_DiagramUI__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n  static get type() {\r\n    return 'shapeUI';\r\n  }\r\n\r\n  static createHandler({ classNames = [], dataset = {} } = {}) {\r\n    if (!handler) {\r\n      handler = _core_BaseElement__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createSVG('circle');\r\n      handler.classList.add('handler');\r\n    }\r\n\r\n    const newHandler = handler.cloneNode(true);\r\n\r\n    classNames = Array.isArray(classNames) ? classNames : [classNames];\r\n    classNames.forEach((className) => newHandler.classList.add(className));\r\n    Object.entries(dataset).forEach(([key, value]) => {\r\n      newHandler.dataset[key] = value;\r\n    });\r\n\r\n    return newHandler;\r\n  }\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this._handleTargetMove = this._handleTargetMove.bind(this);\r\n    this._handleTargetResize = this._handleTargetResize.bind(this);\r\n  }\r\n\r\n  _updatePosition({ x, y }) {\r\n    if (this._el) {\r\n      this._el.setAttribute('transform', `translate(${x}, ${y})`);\r\n    }\r\n  }\r\n\r\n  _handleTargetResize(event, { currentPosition }) {\r\n    this._updatePosition(currentPosition);\r\n  }\r\n\r\n  _handleTargetMove(event, position) {\r\n    this._updatePosition(position);\r\n  }\r\n\r\n  _createElement() {\r\n    super._createElement();\r\n\r\n    const { _el, _target, _handleTargetMove } = this;\r\n\r\n    _el.classList.add('shape-ui');\r\n    _target.getCanvas()._dom.uiLayer.append(this._el);\r\n    this._updatePosition(_target.getPosition());\r\n    _target.getCanvas().addListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_2__[\"EVENT\"].RESIZE, _target, this._handleTargetResize);\r\n    _target.getCanvas().addListener(_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].POSITION_CHANGE, _target, _handleTargetMove);\r\n    _target.getCanvas().addListener(_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG, _target, _handleTargetMove);\r\n\r\n    return this;\r\n  }\r\n\r\n  // TODO: Next lines were commented since this listeners are no set back at undo(), so maybe when moving to\r\n  // WebComponents it's not gonna be necessary to do this.\r\n  remove() {\r\n    const { _target, _handleTargetMove } = this;\r\n\r\n    _target.getCanvas().removeListener(_behavior_ResizeBehavior__WEBPACK_IMPORTED_MODULE_2__[\"EVENT\"].RESIZE, _target, this._handleTargetResize);\r\n    _target.getCanvas().removeListener(_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].POSITION_CHANGE, _target, _handleTargetMove);\r\n    _target.getCanvas().removeListener(_Shape__WEBPACK_IMPORTED_MODULE_1__[\"EVENT\"].DRAG, _target, _handleTargetMove);\r\n    super.remove();\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShapeUI);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvU2hhcGVVSS5qcz82NmU4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNkM7QUFDRTtBQUNvQjtBQUNyQjs7QUFFOUM7QUFDQSxzQkFBc0IsMERBQVM7QUFDL0I7QUFDQTtBQUNBOztBQUVBLHdCQUF3Qiw4QkFBOEIsRUFBRSxLQUFLO0FBQzdEO0FBQ0EsZ0JBQWdCLHlEQUFXO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLE9BQU87QUFDMUI7QUFDQSxzREFBc0QsRUFBRSxJQUFJLEVBQUU7QUFDOUQ7QUFDQTs7QUFFQSw4QkFBOEIsa0JBQWtCO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsV0FBVyxrQ0FBa0M7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw4REFBWTtBQUNoRCxvQ0FBb0MsNENBQVc7QUFDL0Msb0NBQW9DLDRDQUFXOztBQUUvQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNkJBQTZCOztBQUV4Qyx1Q0FBdUMsOERBQVk7QUFDbkQsdUNBQXVDLDRDQUFXO0FBQ2xELHVDQUF1Qyw0Q0FBVztBQUNsRDtBQUNBO0FBQ0E7O0FBRWUsc0VBQU8sRUFBQyIsImZpbGUiOiIuL3NyYy9qcy9zaGFwZS9TaGFwZVVJLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERpYWdyYW1VSSBmcm9tICcuLi9kaWFncmFtL0RpYWdyYW1VSSc7XHJcbmltcG9ydCB7IEVWRU5UIGFzIFNIQVBFX0VWRU5UIH0gZnJvbSAnLi9TaGFwZSc7XHJcbmltcG9ydCB7IEVWRU5UIGFzIFJFU0laRV9FVkVOVCB9IGZyb20gJy4uL2JlaGF2aW9yL1Jlc2l6ZUJlaGF2aW9yJztcclxuaW1wb3J0IEJhc2VFbGVtZW50IGZyb20gJy4uL2NvcmUvQmFzZUVsZW1lbnQnO1xyXG5cclxubGV0IGhhbmRsZXI7XHJcbmNsYXNzIFNoYXBlVUkgZXh0ZW5kcyBEaWFncmFtVUkge1xyXG4gIHN0YXRpYyBnZXQgdHlwZSgpIHtcclxuICAgIHJldHVybiAnc2hhcGVVSSc7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY3JlYXRlSGFuZGxlcih7IGNsYXNzTmFtZXMgPSBbXSwgZGF0YXNldCA9IHt9IH0gPSB7fSkge1xyXG4gICAgaWYgKCFoYW5kbGVyKSB7XHJcbiAgICAgIGhhbmRsZXIgPSBCYXNlRWxlbWVudC5jcmVhdGVTVkcoJ2NpcmNsZScpO1xyXG4gICAgICBoYW5kbGVyLmNsYXNzTGlzdC5hZGQoJ2hhbmRsZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdIYW5kbGVyID0gaGFuZGxlci5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgY2xhc3NOYW1lcyA9IEFycmF5LmlzQXJyYXkoY2xhc3NOYW1lcykgPyBjbGFzc05hbWVzIDogW2NsYXNzTmFtZXNdO1xyXG4gICAgY2xhc3NOYW1lcy5mb3JFYWNoKChjbGFzc05hbWUpID0+IG5ld0hhbmRsZXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpKTtcclxuICAgIE9iamVjdC5lbnRyaWVzKGRhdGFzZXQpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xyXG4gICAgICBuZXdIYW5kbGVyLmRhdGFzZXRba2V5XSA9IHZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG5ld0hhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XHJcbiAgICBzdXBlciguLi5hcmdzKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVUYXJnZXRNb3ZlID0gdGhpcy5faGFuZGxlVGFyZ2V0TW92ZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlVGFyZ2V0UmVzaXplID0gdGhpcy5faGFuZGxlVGFyZ2V0UmVzaXplLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlUG9zaXRpb24oeyB4LCB5IH0pIHtcclxuICAgIGlmICh0aGlzLl9lbCkge1xyXG4gICAgICB0aGlzLl9lbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHt4fSwgJHt5fSlgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVUYXJnZXRSZXNpemUoZXZlbnQsIHsgY3VycmVudFBvc2l0aW9uIH0pIHtcclxuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlVGFyZ2V0TW92ZShldmVudCwgcG9zaXRpb24pIHtcclxuICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVFbGVtZW50KCkge1xyXG4gICAgc3VwZXIuX2NyZWF0ZUVsZW1lbnQoKTtcclxuXHJcbiAgICBjb25zdCB7IF9lbCwgX3RhcmdldCwgX2hhbmRsZVRhcmdldE1vdmUgfSA9IHRoaXM7XHJcblxyXG4gICAgX2VsLmNsYXNzTGlzdC5hZGQoJ3NoYXBlLXVpJyk7XHJcbiAgICBfdGFyZ2V0LmdldENhbnZhcygpLl9kb20udWlMYXllci5hcHBlbmQodGhpcy5fZWwpO1xyXG4gICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oX3RhcmdldC5nZXRQb3NpdGlvbigpKTtcclxuICAgIF90YXJnZXQuZ2V0Q2FudmFzKCkuYWRkTGlzdGVuZXIoUkVTSVpFX0VWRU5ULlJFU0laRSwgX3RhcmdldCwgdGhpcy5faGFuZGxlVGFyZ2V0UmVzaXplKTtcclxuICAgIF90YXJnZXQuZ2V0Q2FudmFzKCkuYWRkTGlzdGVuZXIoU0hBUEVfRVZFTlQuUE9TSVRJT05fQ0hBTkdFLCBfdGFyZ2V0LCBfaGFuZGxlVGFyZ2V0TW92ZSk7XHJcbiAgICBfdGFyZ2V0LmdldENhbnZhcygpLmFkZExpc3RlbmVyKFNIQVBFX0VWRU5ULkRSQUcsIF90YXJnZXQsIF9oYW5kbGVUYXJnZXRNb3ZlKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIFRPRE86IE5leHQgbGluZXMgd2VyZSBjb21tZW50ZWQgc2luY2UgdGhpcyBsaXN0ZW5lcnMgYXJlIG5vIHNldCBiYWNrIGF0IHVuZG8oKSwgc28gbWF5YmUgd2hlbiBtb3ZpbmcgdG9cclxuICAvLyBXZWJDb21wb25lbnRzIGl0J3Mgbm90IGdvbm5hIGJlIG5lY2Vzc2FyeSB0byBkbyB0aGlzLlxyXG4gIHJlbW92ZSgpIHtcclxuICAgIGNvbnN0IHsgX3RhcmdldCwgX2hhbmRsZVRhcmdldE1vdmUgfSA9IHRoaXM7XHJcblxyXG4gICAgX3RhcmdldC5nZXRDYW52YXMoKS5yZW1vdmVMaXN0ZW5lcihSRVNJWkVfRVZFTlQuUkVTSVpFLCBfdGFyZ2V0LCB0aGlzLl9oYW5kbGVUYXJnZXRSZXNpemUpO1xyXG4gICAgX3RhcmdldC5nZXRDYW52YXMoKS5yZW1vdmVMaXN0ZW5lcihTSEFQRV9FVkVOVC5QT1NJVElPTl9DSEFOR0UsIF90YXJnZXQsIF9oYW5kbGVUYXJnZXRNb3ZlKTtcclxuICAgIF90YXJnZXQuZ2V0Q2FudmFzKCkucmVtb3ZlTGlzdGVuZXIoU0hBUEVfRVZFTlQuRFJBRywgX3RhcmdldCwgX2hhbmRsZVRhcmdldE1vdmUpO1xyXG4gICAgc3VwZXIucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaGFwZVVJO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/shape/ShapeUI.js\n");

/***/ }),

/***/ "./src/js/shape/Triangle.js":
/*!**********************************!*\
  !*** ./src/js/shape/Triangle.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _Polygon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Polygon */ \"./src/js/shape/Polygon.js\");\n\r\n\r\n\r\nconst DEFAULTS = Object.freeze({\r\n  base: 80,\r\n  height: 80,\r\n});\r\n\r\nclass Triangle extends _Polygon__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\r\n  static get type() {\r\n    return 'triangle';\r\n  }\r\n\r\n  constructor(settings) {\r\n    settings = {\r\n      ...DEFAULTS,\r\n      ...settings,\r\n    };\r\n\r\n    super(settings);\r\n\r\n    this._base = null;\r\n    this._height = null;\r\n\r\n    this.setSize(settings.base, settings.height);\r\n  }\r\n\r\n  setBase(base) {\r\n    const height = this.getHeight();\r\n\r\n    return this.setSize(base, height);\r\n  }\r\n\r\n  getBase() {\r\n    return this._base;\r\n  }\r\n\r\n  setHeight(height) {\r\n    const width = this.getWidth();\r\n\r\n    return this.setSize(width, height);\r\n  }\r\n\r\n  getHeight() {\r\n    return this._height;\r\n  }\r\n\r\n  setWidth(width) {\r\n    return this.setBase(width);\r\n  }\r\n\r\n  _mapSize(width, height) {\r\n    this._base = width;\r\n    this._height = height;\r\n  }\r\n\r\n  getPortPoint(position) {\r\n    const { x, y } = super.getPortPoint(position);\r\n    const { orientation, direction } = Object(_connection_Port__WEBPACK_IMPORTED_MODULE_0__[\"getPositionProps\"])(position);\r\n    const xOffset = orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].X ? this.getWidth() / 4 : 0;\r\n\r\n    return {\r\n      x: x - (xOffset * direction),\r\n      y,\r\n    };\r\n  }\r\n\r\n  _getPoints() {\r\n    const xPoints = [\r\n      this._cWidth / -2,\r\n      0,\r\n      this._cWidth / 2,\r\n    ];\r\n    const yPoints = [\r\n      this._cHeight / -2,\r\n      this._cHeight / 2,\r\n    ];\r\n\r\n    return [\r\n      {\r\n        x: xPoints[0],\r\n        y: yPoints[1],\r\n      },\r\n      {\r\n        x: xPoints[1],\r\n        y: yPoints[0],\r\n      },\r\n      {\r\n        x: xPoints[2],\r\n        y: yPoints[1],\r\n      },\r\n    ];\r\n  }\r\n\r\n  getBounds() {\r\n    const { _x, _y } = this;\r\n    const halfWidth = this._base / 2;\r\n    const halfHeight = this._height / 2;\r\n\r\n    return {\r\n      top: _y - halfHeight,\r\n      right: _x + halfWidth,\r\n      bottom: _y + halfHeight,\r\n      left: _x - halfWidth,\r\n    };\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Triangle);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvc2hhcGUvVHJpYW5nbGUuanM/ZGU3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBdUY7QUFDdkQ7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsdUJBQXVCLGdEQUFPO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcseUJBQXlCLEdBQUcseUVBQWdCO0FBQ3ZELG9DQUFvQyw0REFBZ0I7O0FBRXBEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL3NoYXBlL1RyaWFuZ2xlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT1JJRU5UQVRJT04gYXMgUE9SVF9PUklFTlRBVElPTiwgZ2V0UG9zaXRpb25Qcm9wcyB9IGZyb20gJy4uL2Nvbm5lY3Rpb24vUG9ydCc7XHJcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4vUG9seWdvbic7XHJcblxyXG5jb25zdCBERUZBVUxUUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gIGJhc2U6IDgwLFxyXG4gIGhlaWdodDogODAsXHJcbn0pO1xyXG5cclxuY2xhc3MgVHJpYW5nbGUgZXh0ZW5kcyBQb2x5Z29uIHtcclxuICBzdGF0aWMgZ2V0IHR5cGUoKSB7XHJcbiAgICByZXR1cm4gJ3RyaWFuZ2xlJztcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICBzZXR0aW5ncyA9IHtcclxuICAgICAgLi4uREVGQVVMVFMsXHJcbiAgICAgIC4uLnNldHRpbmdzLFxyXG4gICAgfTtcclxuXHJcbiAgICBzdXBlcihzZXR0aW5ncyk7XHJcblxyXG4gICAgdGhpcy5fYmFzZSA9IG51bGw7XHJcbiAgICB0aGlzLl9oZWlnaHQgPSBudWxsO1xyXG5cclxuICAgIHRoaXMuc2V0U2l6ZShzZXR0aW5ncy5iYXNlLCBzZXR0aW5ncy5oZWlnaHQpO1xyXG4gIH1cclxuXHJcbiAgc2V0QmFzZShiYXNlKSB7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnNldFNpemUoYmFzZSwgaGVpZ2h0KTtcclxuICB9XHJcblxyXG4gIGdldEJhc2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYmFzZTtcclxuICB9XHJcblxyXG4gIHNldEhlaWdodChoZWlnaHQpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgfVxyXG5cclxuICBnZXRIZWlnaHQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgc2V0V2lkdGgod2lkdGgpIHtcclxuICAgIHJldHVybiB0aGlzLnNldEJhc2Uod2lkdGgpO1xyXG4gIH1cclxuXHJcbiAgX21hcFNpemUod2lkdGgsIGhlaWdodCkge1xyXG4gICAgdGhpcy5fYmFzZSA9IHdpZHRoO1xyXG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9ydFBvaW50KHBvc2l0aW9uKSB7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHN1cGVyLmdldFBvcnRQb2ludChwb3NpdGlvbik7XHJcbiAgICBjb25zdCB7IG9yaWVudGF0aW9uLCBkaXJlY3Rpb24gfSA9IGdldFBvc2l0aW9uUHJvcHMocG9zaXRpb24pO1xyXG4gICAgY29uc3QgeE9mZnNldCA9IG9yaWVudGF0aW9uID09PSBQT1JUX09SSUVOVEFUSU9OLlggPyB0aGlzLmdldFdpZHRoKCkgLyA0IDogMDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB4IC0gKHhPZmZzZXQgKiBkaXJlY3Rpb24pLFxyXG4gICAgICB5LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIF9nZXRQb2ludHMoKSB7XHJcbiAgICBjb25zdCB4UG9pbnRzID0gW1xyXG4gICAgICB0aGlzLl9jV2lkdGggLyAtMixcclxuICAgICAgMCxcclxuICAgICAgdGhpcy5fY1dpZHRoIC8gMixcclxuICAgIF07XHJcbiAgICBjb25zdCB5UG9pbnRzID0gW1xyXG4gICAgICB0aGlzLl9jSGVpZ2h0IC8gLTIsXHJcbiAgICAgIHRoaXMuX2NIZWlnaHQgLyAyLFxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gW1xyXG4gICAgICB7XHJcbiAgICAgICAgeDogeFBvaW50c1swXSxcclxuICAgICAgICB5OiB5UG9pbnRzWzFdLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgeDogeFBvaW50c1sxXSxcclxuICAgICAgICB5OiB5UG9pbnRzWzBdLFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgeDogeFBvaW50c1syXSxcclxuICAgICAgICB5OiB5UG9pbnRzWzFdLFxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIGdldEJvdW5kcygpIHtcclxuICAgIGNvbnN0IHsgX3gsIF95IH0gPSB0aGlzO1xyXG4gICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy5fYmFzZSAvIDI7XHJcbiAgICBjb25zdCBoYWxmSGVpZ2h0ID0gdGhpcy5faGVpZ2h0IC8gMjtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3A6IF95IC0gaGFsZkhlaWdodCxcclxuICAgICAgcmlnaHQ6IF94ICsgaGFsZldpZHRoLFxyXG4gICAgICBib3R0b206IF95ICsgaGFsZkhlaWdodCxcclxuICAgICAgbGVmdDogX3ggLSBoYWxmV2lkdGgsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVHJpYW5nbGU7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/shape/Triangle.js\n");

/***/ }),

/***/ "./src/js/utils/ErrorThrower.js":
/*!**************************************!*\
  !*** ./src/js/utils/ErrorThrower.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  custom(message) {\r\n    throw new Error(message);\r\n  },\r\n\r\n  notImplemented() {\r\n    this.custom('Not implemented.');\r\n  },\r\n\r\n  invalidParameter() {\r\n    this.custom('Invalid paramameter');\r\n  },\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvdXRpbHMvRXJyb3JUaHJvd2VyLmpzP2U5NTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL3V0aWxzL0Vycm9yVGhyb3dlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcclxuICBjdXN0b20obWVzc2FnZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gIH0sXHJcblxyXG4gIG5vdEltcGxlbWVudGVkKCkge1xyXG4gICAgdGhpcy5jdXN0b20oJ05vdCBpbXBsZW1lbnRlZC4nKTtcclxuICB9LFxyXG5cclxuICBpbnZhbGlkUGFyYW1ldGVyKCkge1xyXG4gICAgdGhpcy5jdXN0b20oJ0ludmFsaWQgcGFyYW1hbWV0ZXInKTtcclxuICB9LFxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/ErrorThrower.js\n");

/***/ }),

/***/ "./src/js/utils/FunctionProxy.js":
/*!***************************************!*\
  !*** ./src/js/utils/FunctionProxy.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\r\n * This is the proxier function for this module. It will be binded to an object containing the specific configuration\r\n * for a certain call.\r\n * @param  {...any} params An spreaded object with params.\r\n */\r\n// eslint-disable-next-line consistent-return\r\nfunction proxyFunction(...params) {\r\n  const {\r\n    context, evaluator, fn, defaultValue,\r\n  } = this;\r\n  let isOK;\r\n\r\n  if (typeof evaluator === 'function') {\r\n    isOK = evaluator.call(context);\r\n  }\r\n\r\n  if (isOK) {\r\n    return fn.apply(context, params);\r\n  }\r\n\r\n  return defaultValue;\r\n}\r\n\r\n/**\r\n * Util for proxy functions. You could want to execute a function only when certain conditions are meet but you want to\r\n * keep this function separated from the evaluation logic. Use this util for that.\r\n */\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  /**\r\n   * Returns a new function that is proxying the supplied one. The proxied function will only be executed if certains\r\n   * conditions are meet.\r\n   * @param {Function} fn The function to be proxied. If last param (target) is supplied, the it will be executed in\r\n   * that context, so in that case it won't be necessary to bind it to another target.\r\n   * @param {Function} evaluator The evaluator for determine if the fn function will be executed. It will be executed\r\n   * and the value that it returns will determine the execution of the proxied function.\r\n   * @param {Object} [context=null] The context to be called the function to be proxied, and the context in which the\r\n   * evaluator will be called. Remember that if any of the functions (fn, evaluator) are binded to any other object,\r\n   * providing a context will be useful.\r\n   * @param {any} [defaultValue=null] The value to return in case the evaluation doesn't pass.\r\n   */\r\n  get: (fn, evaluator, context = null, defaultValue = null) => proxyFunction.bind({\r\n    fn,\r\n    evaluator,\r\n    context,\r\n    defaultValue,\r\n  }),\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvdXRpbHMvRnVuY3Rpb25Qcm94eS5qcz81ODQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBLGFBQWEsSUFBSTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQyxFQUFDIiwiZmlsZSI6Ii4vc3JjL2pzL3V0aWxzL0Z1bmN0aW9uUHJveHkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGhpcyBpcyB0aGUgcHJveGllciBmdW5jdGlvbiBmb3IgdGhpcyBtb2R1bGUuIEl0IHdpbGwgYmUgYmluZGVkIHRvIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzcGVjaWZpYyBjb25maWd1cmF0aW9uXHJcbiAqIGZvciBhIGNlcnRhaW4gY2FsbC5cclxuICogQHBhcmFtICB7Li4uYW55fSBwYXJhbXMgQW4gc3ByZWFkZWQgb2JqZWN0IHdpdGggcGFyYW1zLlxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXHJcbmZ1bmN0aW9uIHByb3h5RnVuY3Rpb24oLi4ucGFyYW1zKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgY29udGV4dCwgZXZhbHVhdG9yLCBmbiwgZGVmYXVsdFZhbHVlLFxyXG4gIH0gPSB0aGlzO1xyXG4gIGxldCBpc09LO1xyXG5cclxuICBpZiAodHlwZW9mIGV2YWx1YXRvciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgaXNPSyA9IGV2YWx1YXRvci5jYWxsKGNvbnRleHQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzT0spIHtcclxuICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBwYXJhbXMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFV0aWwgZm9yIHByb3h5IGZ1bmN0aW9ucy4gWW91IGNvdWxkIHdhbnQgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIG9ubHkgd2hlbiBjZXJ0YWluIGNvbmRpdGlvbnMgYXJlIG1lZXQgYnV0IHlvdSB3YW50IHRvXHJcbiAqIGtlZXAgdGhpcyBmdW5jdGlvbiBzZXBhcmF0ZWQgZnJvbSB0aGUgZXZhbHVhdGlvbiBsb2dpYy4gVXNlIHRoaXMgdXRpbCBmb3IgdGhhdC5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAvKipcclxuICAgKiBSZXR1cm5zIGEgbmV3IGZ1bmN0aW9uIHRoYXQgaXMgcHJveHlpbmcgdGhlIHN1cHBsaWVkIG9uZS4gVGhlIHByb3hpZWQgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIGlmIGNlcnRhaW5zXHJcbiAgICogY29uZGl0aW9ucyBhcmUgbWVldC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gYmUgcHJveGllZC4gSWYgbGFzdCBwYXJhbSAodGFyZ2V0KSBpcyBzdXBwbGllZCwgdGhlIGl0IHdpbGwgYmUgZXhlY3V0ZWQgaW5cclxuICAgKiB0aGF0IGNvbnRleHQsIHNvIGluIHRoYXQgY2FzZSBpdCB3b24ndCBiZSBuZWNlc3NhcnkgdG8gYmluZCBpdCB0byBhbm90aGVyIHRhcmdldC5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBldmFsdWF0b3IgVGhlIGV2YWx1YXRvciBmb3IgZGV0ZXJtaW5lIGlmIHRoZSBmbiBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkLiBJdCB3aWxsIGJlIGV4ZWN1dGVkXHJcbiAgICogYW5kIHRoZSB2YWx1ZSB0aGF0IGl0IHJldHVybnMgd2lsbCBkZXRlcm1pbmUgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgcHJveGllZCBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9bnVsbF0gVGhlIGNvbnRleHQgdG8gYmUgY2FsbGVkIHRoZSBmdW5jdGlvbiB0byBiZSBwcm94aWVkLCBhbmQgdGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlXHJcbiAgICogZXZhbHVhdG9yIHdpbGwgYmUgY2FsbGVkLiBSZW1lbWJlciB0aGF0IGlmIGFueSBvZiB0aGUgZnVuY3Rpb25zIChmbiwgZXZhbHVhdG9yKSBhcmUgYmluZGVkIHRvIGFueSBvdGhlciBvYmplY3QsXHJcbiAgICogcHJvdmlkaW5nIGEgY29udGV4dCB3aWxsIGJlIHVzZWZ1bC5cclxuICAgKiBAcGFyYW0ge2FueX0gW2RlZmF1bHRWYWx1ZT1udWxsXSBUaGUgdmFsdWUgdG8gcmV0dXJuIGluIGNhc2UgdGhlIGV2YWx1YXRpb24gZG9lc24ndCBwYXNzLlxyXG4gICAqL1xyXG4gIGdldDogKGZuLCBldmFsdWF0b3IsIGNvbnRleHQgPSBudWxsLCBkZWZhdWx0VmFsdWUgPSBudWxsKSA9PiBwcm94eUZ1bmN0aW9uLmJpbmQoe1xyXG4gICAgZm4sXHJcbiAgICBldmFsdWF0b3IsXHJcbiAgICBjb250ZXh0LFxyXG4gICAgZGVmYXVsdFZhbHVlLFxyXG4gIH0pLFxyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/FunctionProxy.js\n");

/***/ }),

/***/ "./src/js/utils/Geometry.js":
/*!**********************************!*\
  !*** ./src/js/utils/Geometry.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _connection_Port__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../connection/Port */ \"./src/js/connection/Port.js\");\n/* harmony import */ var _connection_Connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../connection/Connection */ \"./src/js/connection/Connection.js\");\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n  // TODO: this will fail for diagonal lines.\r\n  /**\r\n   * Verifies if a point belongs to a line.\r\n   * @param {Point} point The point subject of the evaluation.\r\n   * @param {Point} pointA The point that defines one of the limits of the line.\r\n   * @param {*} pointB The point that defines the other limit of the line.\r\n   */\r\n  isInLine(point, pointA, pointB) {\r\n    const { x: xA, y: yA } = pointA;\r\n    const { x: xB, y: yB } = pointB;\r\n    const { x, y } = point;\r\n\r\n    if (xA === xB && xA === x) {\r\n      return this.isInBetween(y, yA, yB);\r\n    }\r\n\r\n    return (yA === yB && yA === y) ? this.isInBetween(x, xA, xB) : false;\r\n  },\r\n  // TODO: Change this method to something more generic, like, distance between two points and use\r\n  // a generic formule in order to make it work with diagonal lines.\r\n  // TODO: Rename to something like getPointDistance\r\n  /**\r\n   * Returns the length of the sortest path between to points.\r\n   * @param {Point} pointA\r\n   * @param {Point} pointB\r\n   */\r\n  getPathLength(pointA, pointB) {\r\n    return Math.abs(pointA.y - pointB.y) + Math.abs(pointA.x - pointB.x);\r\n  },\r\n  // TODO: make this method to support digaonal directions.\r\n  // TODO: move ORIENTATION, DIRECTION from Port to here\r\n  /**\r\n   * Will take the provided point and return a new point after applying a position displacement.\r\n   * @param {Point} point The point to move.\r\n   * @param {Number} units The units in which the point will be moved.\r\n   * @param {Port.ORIENTATION} orientation The orientation in which the point will be moved.\r\n   */\r\n  movePoint(point, units, orientation) {\r\n    let { x, y } = point;\r\n\r\n    if (orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].X) {\r\n      x += units;\r\n    } else if (orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].Y) {\r\n      y += units;\r\n    }\r\n\r\n    return { x, y };\r\n  },\r\n  // TODO: rename this method to something more meangful\r\n  // TODO: There are some places in which this is required and it is implemented again,\r\n  // modify those places to use this method.\r\n  getRelativeFactor(a, b) {\r\n    if (a < b) {\r\n      return 1;\r\n    }\r\n\r\n    return a > b ? -1 : 0;\r\n  },\r\n  // TODO: Add support for diagonal lines.\r\n  getMiddlePoint(pointA, pointB) {\r\n    const length = this.getPathLength(pointA, pointB);\r\n    const orientation = _connection_Connection__WEBPACK_IMPORTED_MODULE_1__[\"default\"]._getSegmentOrientation(pointA, pointB);\r\n    let { x, y } = pointA;\r\n\r\n    if (orientation === _connection_Port__WEBPACK_IMPORTED_MODULE_0__[\"ORIENTATION\"].X) {\r\n      x += (length / 2) * this.getRelativeFactor(pointA.x, pointB.x);\r\n    } else {\r\n      // TODO: here we're assuming that is Y, but this will stop working when the line is diagonal.\r\n      y += (length / 2) * this.getRelativeFactor(pointA.y, pointB.y);\r\n    }\r\n\r\n    return { x, y };\r\n  },\r\n  /**\r\n   * Verifiy if a value is between two other values;\r\n   * @param {Number} value The value to evaluate\r\n   * @param {Number} limitA One of the limits.\r\n   * @param {Number} limitB The other limit.\r\n   * @returns {Boolean}\r\n   */\r\n  isInBetween(value, limitA, limitB) {\r\n    const min = Math.min(limitA, limitB);\r\n    const max = Math.max(limitA, limitB);\r\n\r\n    return value > min && value < max;\r\n  },\r\n  /**\r\n   * Returns and object specifying is the boundaries overlaps each other in any dimension\r\n   * @param {Object} boundsA Object with data representing a boundary\r\n   * @param {Object} boundsB Object with data representing a boundary\r\n   * @returns {Object} And object with 'x' and 'y' keys, and a Boolean as value.\r\n   * It indicates if the boundaries overlap each other in x and/or y.\r\n   */\r\n  getOverlappedDimensions(boundsA, boundsB) {\r\n    let x = false;\r\n    let y = false;\r\n\r\n    if (boundsA.left === boundsB.left || boundsA.right === boundsB.right\r\n      || this.isInBetween(boundsB.left, boundsA.left, boundsA.right)\r\n      || this.isInBetween(boundsA.left, boundsB.left, boundsB.right)) {\r\n      x = true;\r\n    }\r\n\r\n    if (boundsA.top === boundsB.top || boundsA.bottom === boundsB.bottom\r\n      || this.isInBetween(boundsB.top, boundsA.top, boundsA.bottom)\r\n      || this.isInBetween(boundsA.top, boundsB.top, boundsB.bottom)) {\r\n      y = true;\r\n    }\r\n\r\n    return { x, y };\r\n  },\r\n  /**\r\n   * Get the difference between two points.\r\n   * @param {Point} origPoint Orig point.\r\n   * @param {Point} destPoint Dest point.\r\n   * @return {Point}\r\n   */\r\n  getDiff(origPoint, destPoint) {\r\n    const x = destPoint.x - origPoint.x;\r\n    const y = destPoint.y - origPoint.y;\r\n\r\n    return { x, y };\r\n  },\r\n  /**\r\n   * Returns an object that specifies the normalized relative position between an origin Shape\r\n   * and a destination Shape.\r\n   * If destination Shape is on the origin Shape's right side the relative position on x is 1.\r\n   * If destination Shape is on the origin Shape's left side the relative position on x is -1.\r\n   * If destination Shape is on the same x position than origin Shape,\r\n   * then the relative postiion on x is 0.\r\n   * If destination Shape is down the origin Shape the relative position on y is 1.\r\n   * If destination Shape is up the origin Shape the relative position on y is -1.\r\n   * If destination Shape is on the same y position than destination Shape,\r\n   * then the relative position on y is 0.\r\n   * @param {Point} originPoint Origin point\r\n   * @param {Point} destinationPoint destination point\r\n   * @return {Object} An object with 'x' and 'y' keys, whose values are the normalized\r\n   * relative position for those axis.\r\n   */\r\n  getNormalizedPosition(origPoint, destPoint) {\r\n    const { x, y } = this.getDiff(origPoint, destPoint);\r\n\r\n    return {\r\n      x: x ? x / Math.abs(x) : 0,\r\n      y: y ? y / Math.abs(y) : 0,\r\n    };\r\n  },\r\n  /**\r\n   * Verifies if two planes (defined by a boundary object) are overlapped.\r\n   * @param {Object} boundsA A boundary object.\r\n   * @param {Object} boundsB A boundary object.\r\n   * @returns {Boolean}\r\n   */\r\n  areOverlapped(boundsA, boundsB) {\r\n    const { x, y } = this.getOverlappedDimensions(boundsA, boundsB);\r\n\r\n    return x && y;\r\n  },\r\n  /**\r\n   * Returns the position (x and y) and size (width and height) of a boundary object.\r\n   * @param {Object} bound A boundary object.\r\n   */\r\n  getBoundSizeAndPos(bound) {\r\n    const width = bound.right - bound.left;\r\n    const height = bound.bottom - bound.top;\r\n\r\n    return {\r\n      x: bound.left + (width / 2),\r\n      y: bound.top + (height / 2),\r\n      width,\r\n      height,\r\n    };\r\n  },\r\n  /**\r\n   * Returns value clamped to the inclusive range of min and max.\r\n   * @param {*} value The value to be clamped\r\n   * @param {*} limitA An inclusive border\r\n   * @param {*} limitB An inclusive border\r\n   */\r\n  clamp(value, limitA, limitB) {\r\n    const min = Math.min(limitA, limitB);\r\n    const max = Math.max(limitA, limitB);\r\n\r\n    if (value > max) {\r\n      return max;\r\n    }\r\n\r\n    if (value < min) {\r\n      return min;\r\n    }\r\n\r\n    return value;\r\n  },\r\n  /**\r\n   * Creates an object with point structure.\r\n   * @param {Number} x The x coordinate value.\r\n   * @param {Number} y The y coordinate value.\r\n   */\r\n  toPoint(x, y) {\r\n    return {\r\n      x,\r\n      y,\r\n    };\r\n  },\r\n  /**\r\n   * Compare if two points are the same.\r\n   * @param {Point} pointA\r\n   * @param {Point} pointB\r\n   */\r\n  areSamePoint(pointA, pointB) {\r\n    return pointA.x === pointB.x && pointA.y === pointB.y;\r\n  },\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvdXRpbHMvR2VvbWV0cnkuanM/MjcwMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBaUQ7QUFDQzs7QUFFbkM7QUFDZjtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsYUFBYSxNQUFNO0FBQ25CLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxlQUFlO0FBQzFCLFdBQVcsT0FBTzs7QUFFbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQixhQUFhLE9BQU87QUFDcEIsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBLFNBQVMsT0FBTzs7QUFFaEIsd0JBQXdCLDREQUFXO0FBQ25DO0FBQ0EsS0FBSywwQkFBMEIsNERBQVc7QUFDMUM7QUFDQTs7QUFFQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw4REFBVTtBQUNsQyxTQUFTLE9BQU87O0FBRWhCLHdCQUF3Qiw0REFBVztBQUNuQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsWUFBWTtBQUNaLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsYUFBYSxNQUFNO0FBQ25CLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsYUFBYSxNQUFNO0FBQ25CLGNBQWMsT0FBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87O0FBRWxCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWU7QUFDZjtBQUNBO0FBQ0EsV0FBVyxPQUFPOztBQUVsQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSxFQUFFO0FBQ2YsYUFBYSxFQUFFO0FBQ2YsYUFBYSxFQUFFO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQixhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUMsRUFBQyIsImZpbGUiOiIuL3NyYy9qcy91dGlscy9HZW9tZXRyeS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9SSUVOVEFUSU9OIH0gZnJvbSAnLi4vY29ubmVjdGlvbi9Qb3J0JztcclxuaW1wb3J0IENvbm5lY3Rpb24gZnJvbSAnLi4vY29ubmVjdGlvbi9Db25uZWN0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAvLyBUT0RPOiB0aGlzIHdpbGwgZmFpbCBmb3IgZGlhZ29uYWwgbGluZXMuXHJcbiAgLyoqXHJcbiAgICogVmVyaWZpZXMgaWYgYSBwb2ludCBiZWxvbmdzIHRvIGEgbGluZS5cclxuICAgKiBAcGFyYW0ge1BvaW50fSBwb2ludCBUaGUgcG9pbnQgc3ViamVjdCBvZiB0aGUgZXZhbHVhdGlvbi5cclxuICAgKiBAcGFyYW0ge1BvaW50fSBwb2ludEEgVGhlIHBvaW50IHRoYXQgZGVmaW5lcyBvbmUgb2YgdGhlIGxpbWl0cyBvZiB0aGUgbGluZS5cclxuICAgKiBAcGFyYW0geyp9IHBvaW50QiBUaGUgcG9pbnQgdGhhdCBkZWZpbmVzIHRoZSBvdGhlciBsaW1pdCBvZiB0aGUgbGluZS5cclxuICAgKi9cclxuICBpc0luTGluZShwb2ludCwgcG9pbnRBLCBwb2ludEIpIHtcclxuICAgIGNvbnN0IHsgeDogeEEsIHk6IHlBIH0gPSBwb2ludEE7XHJcbiAgICBjb25zdCB7IHg6IHhCLCB5OiB5QiB9ID0gcG9pbnRCO1xyXG4gICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcclxuXHJcbiAgICBpZiAoeEEgPT09IHhCICYmIHhBID09PSB4KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzSW5CZXR3ZWVuKHksIHlBLCB5Qik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICh5QSA9PT0geUIgJiYgeUEgPT09IHkpID8gdGhpcy5pc0luQmV0d2Vlbih4LCB4QSwgeEIpIDogZmFsc2U7XHJcbiAgfSxcclxuICAvLyBUT0RPOiBDaGFuZ2UgdGhpcyBtZXRob2QgdG8gc29tZXRoaW5nIG1vcmUgZ2VuZXJpYywgbGlrZSwgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzIGFuZCB1c2VcclxuICAvLyBhIGdlbmVyaWMgZm9ybXVsZSBpbiBvcmRlciB0byBtYWtlIGl0IHdvcmsgd2l0aCBkaWFnb25hbCBsaW5lcy5cclxuICAvLyBUT0RPOiBSZW5hbWUgdG8gc29tZXRoaW5nIGxpa2UgZ2V0UG9pbnREaXN0YW5jZVxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgc29ydGVzdCBwYXRoIGJldHdlZW4gdG8gcG9pbnRzLlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50QVxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50QlxyXG4gICAqL1xyXG4gIGdldFBhdGhMZW5ndGgocG9pbnRBLCBwb2ludEIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyhwb2ludEEueSAtIHBvaW50Qi55KSArIE1hdGguYWJzKHBvaW50QS54IC0gcG9pbnRCLngpO1xyXG4gIH0sXHJcbiAgLy8gVE9ETzogbWFrZSB0aGlzIG1ldGhvZCB0byBzdXBwb3J0IGRpZ2FvbmFsIGRpcmVjdGlvbnMuXHJcbiAgLy8gVE9ETzogbW92ZSBPUklFTlRBVElPTiwgRElSRUNUSU9OIGZyb20gUG9ydCB0byBoZXJlXHJcbiAgLyoqXHJcbiAgICogV2lsbCB0YWtlIHRoZSBwcm92aWRlZCBwb2ludCBhbmQgcmV0dXJuIGEgbmV3IHBvaW50IGFmdGVyIGFwcGx5aW5nIGEgcG9zaXRpb24gZGlzcGxhY2VtZW50LlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IFRoZSBwb2ludCB0byBtb3ZlLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB1bml0cyBUaGUgdW5pdHMgaW4gd2hpY2ggdGhlIHBvaW50IHdpbGwgYmUgbW92ZWQuXHJcbiAgICogQHBhcmFtIHtQb3J0Lk9SSUVOVEFUSU9OfSBvcmllbnRhdGlvbiBUaGUgb3JpZW50YXRpb24gaW4gd2hpY2ggdGhlIHBvaW50IHdpbGwgYmUgbW92ZWQuXHJcbiAgICovXHJcbiAgbW92ZVBvaW50KHBvaW50LCB1bml0cywgb3JpZW50YXRpb24pIHtcclxuICAgIGxldCB7IHgsIHkgfSA9IHBvaW50O1xyXG5cclxuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gT1JJRU5UQVRJT04uWCkge1xyXG4gICAgICB4ICs9IHVuaXRzO1xyXG4gICAgfSBlbHNlIGlmIChvcmllbnRhdGlvbiA9PT0gT1JJRU5UQVRJT04uWSkge1xyXG4gICAgICB5ICs9IHVuaXRzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IHgsIHkgfTtcclxuICB9LFxyXG4gIC8vIFRPRE86IHJlbmFtZSB0aGlzIG1ldGhvZCB0byBzb21ldGhpbmcgbW9yZSBtZWFuZ2Z1bFxyXG4gIC8vIFRPRE86IFRoZXJlIGFyZSBzb21lIHBsYWNlcyBpbiB3aGljaCB0aGlzIGlzIHJlcXVpcmVkIGFuZCBpdCBpcyBpbXBsZW1lbnRlZCBhZ2FpbixcclxuICAvLyBtb2RpZnkgdGhvc2UgcGxhY2VzIHRvIHVzZSB0aGlzIG1ldGhvZC5cclxuICBnZXRSZWxhdGl2ZUZhY3RvcihhLCBiKSB7XHJcbiAgICBpZiAoYSA8IGIpIHtcclxuICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGEgPiBiID8gLTEgOiAwO1xyXG4gIH0sXHJcbiAgLy8gVE9ETzogQWRkIHN1cHBvcnQgZm9yIGRpYWdvbmFsIGxpbmVzLlxyXG4gIGdldE1pZGRsZVBvaW50KHBvaW50QSwgcG9pbnRCKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLmdldFBhdGhMZW5ndGgocG9pbnRBLCBwb2ludEIpO1xyXG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBDb25uZWN0aW9uLl9nZXRTZWdtZW50T3JpZW50YXRpb24ocG9pbnRBLCBwb2ludEIpO1xyXG4gICAgbGV0IHsgeCwgeSB9ID0gcG9pbnRBO1xyXG5cclxuICAgIGlmIChvcmllbnRhdGlvbiA9PT0gT1JJRU5UQVRJT04uWCkge1xyXG4gICAgICB4ICs9IChsZW5ndGggLyAyKSAqIHRoaXMuZ2V0UmVsYXRpdmVGYWN0b3IocG9pbnRBLngsIHBvaW50Qi54KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFRPRE86IGhlcmUgd2UncmUgYXNzdW1pbmcgdGhhdCBpcyBZLCBidXQgdGhpcyB3aWxsIHN0b3Agd29ya2luZyB3aGVuIHRoZSBsaW5lIGlzIGRpYWdvbmFsLlxyXG4gICAgICB5ICs9IChsZW5ndGggLyAyKSAqIHRoaXMuZ2V0UmVsYXRpdmVGYWN0b3IocG9pbnRBLnksIHBvaW50Qi55KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBWZXJpZml5IGlmIGEgdmFsdWUgaXMgYmV0d2VlbiB0d28gb3RoZXIgdmFsdWVzO1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbGltaXRBIE9uZSBvZiB0aGUgbGltaXRzLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdEIgVGhlIG90aGVyIGxpbWl0LlxyXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGlzSW5CZXR3ZWVuKHZhbHVlLCBsaW1pdEEsIGxpbWl0Qikge1xyXG4gICAgY29uc3QgbWluID0gTWF0aC5taW4obGltaXRBLCBsaW1pdEIpO1xyXG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgobGltaXRBLCBsaW1pdEIpO1xyXG5cclxuICAgIHJldHVybiB2YWx1ZSA+IG1pbiAmJiB2YWx1ZSA8IG1heDtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgYW5kIG9iamVjdCBzcGVjaWZ5aW5nIGlzIHRoZSBib3VuZGFyaWVzIG92ZXJsYXBzIGVhY2ggb3RoZXIgaW4gYW55IGRpbWVuc2lvblxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZHNBIE9iamVjdCB3aXRoIGRhdGEgcmVwcmVzZW50aW5nIGEgYm91bmRhcnlcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYm91bmRzQiBPYmplY3Qgd2l0aCBkYXRhIHJlcHJlc2VudGluZyBhIGJvdW5kYXJ5XHJcbiAgICogQHJldHVybnMge09iamVjdH0gQW5kIG9iamVjdCB3aXRoICd4JyBhbmQgJ3knIGtleXMsIGFuZCBhIEJvb2xlYW4gYXMgdmFsdWUuXHJcbiAgICogSXQgaW5kaWNhdGVzIGlmIHRoZSBib3VuZGFyaWVzIG92ZXJsYXAgZWFjaCBvdGhlciBpbiB4IGFuZC9vciB5LlxyXG4gICAqL1xyXG4gIGdldE92ZXJsYXBwZWREaW1lbnNpb25zKGJvdW5kc0EsIGJvdW5kc0IpIHtcclxuICAgIGxldCB4ID0gZmFsc2U7XHJcbiAgICBsZXQgeSA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChib3VuZHNBLmxlZnQgPT09IGJvdW5kc0IubGVmdCB8fCBib3VuZHNBLnJpZ2h0ID09PSBib3VuZHNCLnJpZ2h0XHJcbiAgICAgIHx8IHRoaXMuaXNJbkJldHdlZW4oYm91bmRzQi5sZWZ0LCBib3VuZHNBLmxlZnQsIGJvdW5kc0EucmlnaHQpXHJcbiAgICAgIHx8IHRoaXMuaXNJbkJldHdlZW4oYm91bmRzQS5sZWZ0LCBib3VuZHNCLmxlZnQsIGJvdW5kc0IucmlnaHQpKSB7XHJcbiAgICAgIHggPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChib3VuZHNBLnRvcCA9PT0gYm91bmRzQi50b3AgfHwgYm91bmRzQS5ib3R0b20gPT09IGJvdW5kc0IuYm90dG9tXHJcbiAgICAgIHx8IHRoaXMuaXNJbkJldHdlZW4oYm91bmRzQi50b3AsIGJvdW5kc0EudG9wLCBib3VuZHNBLmJvdHRvbSlcclxuICAgICAgfHwgdGhpcy5pc0luQmV0d2Vlbihib3VuZHNBLnRvcCwgYm91bmRzQi50b3AsIGJvdW5kc0IuYm90dG9tKSkge1xyXG4gICAgICB5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBHZXQgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gcG9pbnRzLlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IG9yaWdQb2ludCBPcmlnIHBvaW50LlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IGRlc3RQb2ludCBEZXN0IHBvaW50LlxyXG4gICAqIEByZXR1cm4ge1BvaW50fVxyXG4gICAqL1xyXG4gIGdldERpZmYob3JpZ1BvaW50LCBkZXN0UG9pbnQpIHtcclxuICAgIGNvbnN0IHggPSBkZXN0UG9pbnQueCAtIG9yaWdQb2ludC54O1xyXG4gICAgY29uc3QgeSA9IGRlc3RQb2ludC55IC0gb3JpZ1BvaW50Lnk7XHJcblxyXG4gICAgcmV0dXJuIHsgeCwgeSB9O1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIG5vcm1hbGl6ZWQgcmVsYXRpdmUgcG9zaXRpb24gYmV0d2VlbiBhbiBvcmlnaW4gU2hhcGVcclxuICAgKiBhbmQgYSBkZXN0aW5hdGlvbiBTaGFwZS5cclxuICAgKiBJZiBkZXN0aW5hdGlvbiBTaGFwZSBpcyBvbiB0aGUgb3JpZ2luIFNoYXBlJ3MgcmlnaHQgc2lkZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb24geCBpcyAxLlxyXG4gICAqIElmIGRlc3RpbmF0aW9uIFNoYXBlIGlzIG9uIHRoZSBvcmlnaW4gU2hhcGUncyBsZWZ0IHNpZGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIG9uIHggaXMgLTEuXHJcbiAgICogSWYgZGVzdGluYXRpb24gU2hhcGUgaXMgb24gdGhlIHNhbWUgeCBwb3NpdGlvbiB0aGFuIG9yaWdpbiBTaGFwZSxcclxuICAgKiB0aGVuIHRoZSByZWxhdGl2ZSBwb3N0aWlvbiBvbiB4IGlzIDAuXHJcbiAgICogSWYgZGVzdGluYXRpb24gU2hhcGUgaXMgZG93biB0aGUgb3JpZ2luIFNoYXBlIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvbiB5IGlzIDEuXHJcbiAgICogSWYgZGVzdGluYXRpb24gU2hhcGUgaXMgdXAgdGhlIG9yaWdpbiBTaGFwZSB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb24geSBpcyAtMS5cclxuICAgKiBJZiBkZXN0aW5hdGlvbiBTaGFwZSBpcyBvbiB0aGUgc2FtZSB5IHBvc2l0aW9uIHRoYW4gZGVzdGluYXRpb24gU2hhcGUsXHJcbiAgICogdGhlbiB0aGUgcmVsYXRpdmUgcG9zaXRpb24gb24geSBpcyAwLlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IG9yaWdpblBvaW50IE9yaWdpbiBwb2ludFxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IGRlc3RpbmF0aW9uUG9pbnQgZGVzdGluYXRpb24gcG9pbnRcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoICd4JyBhbmQgJ3knIGtleXMsIHdob3NlIHZhbHVlcyBhcmUgdGhlIG5vcm1hbGl6ZWRcclxuICAgKiByZWxhdGl2ZSBwb3NpdGlvbiBmb3IgdGhvc2UgYXhpcy5cclxuICAgKi9cclxuICBnZXROb3JtYWxpemVkUG9zaXRpb24ob3JpZ1BvaW50LCBkZXN0UG9pbnQpIHtcclxuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5nZXREaWZmKG9yaWdQb2ludCwgZGVzdFBvaW50KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4OiB4ID8geCAvIE1hdGguYWJzKHgpIDogMCxcclxuICAgICAgeTogeSA/IHkgLyBNYXRoLmFicyh5KSA6IDAsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogVmVyaWZpZXMgaWYgdHdvIHBsYW5lcyAoZGVmaW5lZCBieSBhIGJvdW5kYXJ5IG9iamVjdCkgYXJlIG92ZXJsYXBwZWQuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvdW5kc0EgQSBib3VuZGFyeSBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvdW5kc0IgQSBib3VuZGFyeSBvYmplY3QuXHJcbiAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgYXJlT3ZlcmxhcHBlZChib3VuZHNBLCBib3VuZHNCKSB7XHJcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuZ2V0T3ZlcmxhcHBlZERpbWVuc2lvbnMoYm91bmRzQSwgYm91bmRzQik7XHJcblxyXG4gICAgcmV0dXJuIHggJiYgeTtcclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHBvc2l0aW9uICh4IGFuZCB5KSBhbmQgc2l6ZSAod2lkdGggYW5kIGhlaWdodCkgb2YgYSBib3VuZGFyeSBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGJvdW5kIEEgYm91bmRhcnkgb2JqZWN0LlxyXG4gICAqL1xyXG4gIGdldEJvdW5kU2l6ZUFuZFBvcyhib3VuZCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBib3VuZC5ib3R0b20gLSBib3VuZC50b3A7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeDogYm91bmQubGVmdCArICh3aWR0aCAvIDIpLFxyXG4gICAgICB5OiBib3VuZC50b3AgKyAoaGVpZ2h0IC8gMiksXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyB2YWx1ZSBjbGFtcGVkIHRvIHRoZSBpbmNsdXNpdmUgcmFuZ2Ugb2YgbWluIGFuZCBtYXguXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYmUgY2xhbXBlZFxyXG4gICAqIEBwYXJhbSB7Kn0gbGltaXRBIEFuIGluY2x1c2l2ZSBib3JkZXJcclxuICAgKiBAcGFyYW0geyp9IGxpbWl0QiBBbiBpbmNsdXNpdmUgYm9yZGVyXHJcbiAgICovXHJcbiAgY2xhbXAodmFsdWUsIGxpbWl0QSwgbGltaXRCKSB7XHJcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihsaW1pdEEsIGxpbWl0Qik7XHJcbiAgICBjb25zdCBtYXggPSBNYXRoLm1heChsaW1pdEEsIGxpbWl0Qik7XHJcblxyXG4gICAgaWYgKHZhbHVlID4gbWF4KSB7XHJcbiAgICAgIHJldHVybiBtYXg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgIHJldHVybiBtaW47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH0sXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBvYmplY3Qgd2l0aCBwb2ludCBzdHJ1Y3R1cmUuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHggY29vcmRpbmF0ZSB2YWx1ZS5cclxuICAgKiBAcGFyYW0ge051bWJlcn0geSBUaGUgeSBjb29yZGluYXRlIHZhbHVlLlxyXG4gICAqL1xyXG4gIHRvUG9pbnQoeCwgeSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgeCxcclxuICAgICAgeSxcclxuICAgIH07XHJcbiAgfSxcclxuICAvKipcclxuICAgKiBDb21wYXJlIGlmIHR3byBwb2ludHMgYXJlIHRoZSBzYW1lLlxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50QVxyXG4gICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50QlxyXG4gICAqL1xyXG4gIGFyZVNhbWVQb2ludChwb2ludEEsIHBvaW50Qikge1xyXG4gICAgcmV0dXJuIHBvaW50QS54ID09PSBwb2ludEIueCAmJiBwb2ludEEueSA9PT0gcG9pbnRCLnk7XHJcbiAgfSxcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/utils/Geometry.js\n");

/***/ }),

/***/ "./src/js/utils/Utils.js":
/*!*******************************!*\
  !*** ./src/js/utils/Utils.js ***!
  \*******************************/
/*! exports provided: noop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"noop\", function() { return noop; });\n// eslint-disable-next-line import/prefer-default-export\r\nfunction noop() {}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvanMvdXRpbHMvVXRpbHMuanM/YTkxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDTyIsImZpbGUiOiIuL3NyYy9qcy91dGlscy9VdGlscy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0XHJcbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/utils/Utils.js\n");

/***/ }),

/***/ "./src/sass/index.scss":
/*!*****************************!*\
  !*** ./src/sass/index.scss ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.p + \"./diagramax.dev.css\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9EaWFncmFtYXgvLi9zcmMvc2Fzcy9pbmRleC5zY3NzPzFjMjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZSxvRkFBdUIsd0JBQXdCIiwiZmlsZSI6Ii4vc3JjL3Nhc3MvaW5kZXguc2Nzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIuL2RpYWdyYW1heC5kZXYuY3NzXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/sass/index.scss\n");

/***/ }),

/***/ 0:
/*!*****************************************************!*\
  !*** multi ./src/sass/index.scss ./src/js/index.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./src/sass/index.scss */"./src/sass/index.scss");
module.exports = __webpack_require__(/*! ./src/js/index.js */"./src/js/index.js");


/***/ })

/******/ });
});