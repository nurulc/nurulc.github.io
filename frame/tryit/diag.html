<!DOCTYPE html>
<html><head>
<link rel="stylesheet" href="./stylesheets/tryit.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/styles/default.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/alertify.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/css/themes/semantic.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/theme/cobalt.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/foldgutter.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/lint/lint.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/dialog/dialog.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css" />
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.0/build/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/alertifyjs@1.13.1/build/alertify.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/edit/matchbrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/edit/closebrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/comment/continuecomment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/comment/comment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/keymap/sublime.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/selection/active-line.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/2/lib/util/formatting.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/foldcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/foldgutter.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/brace-fold.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/comment-fold.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/fold/indent-fold.min.js"></script>
<script src="https://unpkg.com/jshint@2.12.0/dist/jshint.js"></script>
<script src="https://unpkg.com/csslint@1.0.5/dist/csslint.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/lint/lint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/lint/javascript-lint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/search/search.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/search/searchcursor.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/dialog/dialog.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/hint/show-hint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/addon/hint/javascript-hint.min.js"></script>
<script src="https://unpkg.com/js-sha1/src/sha1.js"></script>
<script src="./javascript/prettyprint.js"></script>
<script src="./javascript/tryit.js"></script>
<link rel="stylesheet" href="./diagramax.dev.css"/>
<script src="./diagramax.dev.js"></script> 
<style>
  /* Custom styles */
  .diagramax.canvas tspan {
    fill: #7a7a7a;
  }

  .diagramax.shape .main-element {
    fill: #F5FDFF;
    stroke: #ABD0D8;
    stroke-width: 3;
  }

  .diagramax.connection .path {
    stroke: #888888;
  }

  .diagramax.connection .arrow {
    fill: #888888;
  }
</style>
</head>
<body>
<div class="ui sidebar inverted vertical menu">
<div class="item"> <a href="https://github.com/nurulc/tryitjs" target="_blank"><img src="https://unpkg.com/tryitjs/tryit-small.png"></a></div> 
<div class="item">
<div class="ui right dropdown item">
    Options
    <i class="dropdown icon"></i>
    <div class="menu tryit_main">
      <div class="item save_all">Save All Changes</div>
      <div class="item revert_changes">Revert changes</div>
      <div class="item clear_storage">Delete All Changes</div>
    </div> 
  </div>
</div>
<div class="item toc_title">Contents</div>
<div class="toc0"> &nbsp;&nbsp;<a onclick="jumpTag('diagramgenerator')">Diagram Generator</a></div>
<div class="toc1"> 1&nbsp;&nbsp;<a onclick="jumpTag('setupcanvas')">Setup Canvas</a></div>
      </div>
      <div class="pusher">
      <div class="ui grid">
    <div class="two wide column" onclick="toggle()" title="Click to show sidebar">
      <p class="click_me" onclick="toggle()">Click to show TOC</p>
    </div>
    <div class="thirteen wide column" id="tryit_body">

<div   id="page-1" class="try-page" data-pagevisible="true">
<h1 id="diagramgenerator">Diagram Generator</h1>
<p><i class="icon tiny sitemap grey icon-right" title="Include path: "></i></p>
<p>SVG Diagraming tool</p>

<a id="_tryit1">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit1">
          var circleA = new Diagramax.Circle({
              id: "circleA",
              text: "Circle A",
              x: 49,
              y: 180,
              width: 60,
              height: 60,
          });

			</textarea>
		</div>
		<a id="_end_tryit1">
&nbsp;</a>
		<div id="tryit1-error" class="tryit-error"></div>
		<div id="tryit1-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit1-run" data-tooltip="Execute script (Ctrl+Enter)" class="ui  green right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit2" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_1" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_1" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>
<h2 id="setupcanvas">Setup Canvas</h2>
<p><i class="icon tiny sitemap grey icon-right" title="Include path: "></i></p>
<ul>
<li>Creates SVG elememt </li>
<li>Add a circle</li>
<li>Add a rectangle</li>
<li>Connect circle to the rectngle</li>
</ul>

<a id="_tryit2">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit2">
var canvas = new Diagramax.Canvas({
  width: 1440,
  height: 900,
  // We can add shapes at Canvas' instantiating time in two manners: 
  // providing a Shape instance or by providing a Shape object descriptor.
  shapes: [
    circleA,
    {
      id: "rectB",
      type: "rectangle",
      text: "Rect B",
      data: {},
      x: 201.5,
      y: 180,
      width: 111,
      height: 80,
    }
  ],
  // We can create connection between Shapes by providing a Shape 
  // instance or a Shape id. Both of them should exist in Canvas.
  connections: [
    {
      orig: circleA,
      dest: 'rectB',
    }
  ],
  onChange: (...args) =&gt; {
    undoButton.disabled = false;
    redoButton.disabled = true;
  }
});

			</textarea>
		</div>
		<a id="_end_tryit2">
&nbsp;</a>
		<div id="tryit2-error" class="tryit-error"></div>
		<div id="tryit2-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit2-run" data-tooltip="Execute Script, (execute all previous first)" class="ui  yellow right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit3" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_2" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_2" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>

<a id="_tryit3">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit3">
var rectC = new Diagramax.Rectangle({
  id: "rectC",
  type: "rectangle",
  text: "Rect C",
  data: {},
  x: 386,
  y: 180,
  width: 114,
  height: 80
});

// Also we can Add shapes after instantiating the Canvas.
canvas.addShape(rectC);
canvas.addShape({
  id: "circleD",
  type: "circle",
  text: "Circle D",
  data: {},
  x: 545,
  y: 180,
  width: 60,
  height: 60
});

			</textarea>
		</div>
		<a id="_end_tryit3">
&nbsp;</a>
		<div id="tryit3-error" class="tryit-error"></div>
		<div id="tryit3-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit3-run" data-tooltip="Execute Script, (execute all previous first)" class="ui  yellow right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit4" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_3" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_3" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>

<a id="_tryit4">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit4">
// Connecting shapes is also possible after Canvas instantiation.
canvas.connect(rectC, 'circleD');
canvas.connect('rectB', rectC);

var undoButton;
var redoButton;
var undo = () =&gt; {
  undoButton.disabled = canvas.undo() === 0;
  redoButton.disabled = false;
};

var redo = () =&gt; {
  redoButton.disabled = canvas.redo() === 0;
  undoButton.disabled = false;
}

			</textarea>
		</div>
		<a id="_end_tryit4">
&nbsp;</a>
		<div id="tryit4-error" class="tryit-error"></div>
		<div id="tryit4-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit4-run" data-tooltip="Execute Script, (execute all previous first)" class="ui  yellow right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit5" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_4" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_4" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>
<script>
    function render() {
      undoButton = document.querySelector('#undo');
      redoButton = document.querySelector('#redo');
      var connection;
      var counter = 1;

      document.querySelector('#diagram').appendChild(canvas.getElement());
      undoButton.addEventListener('click', undo, false);
      redoButton.addEventListener('click', redo, false);

      document.querySelector('#add').addEventListener('click', () => {
        var selection = document.querySelector('#shape-selector').value;
        var position = { x: 50, y: 50 };
        var shape;

        switch (selection) {
          case 'Circle':
            shape = new Diagramax.Circle({
              text: `Circle #${counter}`,
              position,
            });
            break;
          case 'Rectangle':
            shape = new Diagramax.Rectangle({
              text: `Rectangle #${counter}`,
              position,
            });
            break;
          case 'Triangle':
            shape = new Diagramax.Triangle({
              text: `Triangle #${counter}`,
              position,
            });
            break;
          case 'Ellipse':
            shape = new Diagramax.Ellipse({
              text: `Ellipse #${counter}`,
              position,
            });
            break;
          default:
        }

        if (shape) {
          canvas.executeCommand(Diagramax.COMMANDS.SHAPE_ADD, canvas, shape);
          counter += 1;
        }
      }, false);

      document.querySelector('#data').addEventListener('click', () => {
        console.log(canvas.toJSON());
      }, false);

      // Here we add the undo/redo key binding.
      window.addEventListener('keydown', (event) => {
        switch (event.code) {
          case 'KeyZ':
            if (event.ctrlKey) {
              if (event.shiftKey) {
                redo();
              } else {
                undo();
              }
            }
            break;
        }
      }, false);
    }
</script>


<a id="_tryit5">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit5">
render();


			</textarea>
		</div>
		<a id="_end_tryit5">
&nbsp;</a>
		<div id="tryit5-error" class="tryit-error"></div>
		<div id="tryit5-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit5-run" data-tooltip="Execute Script, (execute all previous first)" class="ui  yellow right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit6" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_5" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_5" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>

<a id="_tryit6">&nbsp</a>
<div class="html ui top attached segment tryit-container " >
	<div class="ui sizer vertical segment" style="font-size: 1rem; padding-top: 2rem;">
		<div class="ui sizer vertical segment bottom">
			<textarea class="tryit ui " id="tryit6">
//
//
$$.HTML(`
&lt;div class="ui three doubling stackable cards"&gt;
  &lt;div class="ui card"&gt;
    &lt;div class="image"&gt;
      &lt;div class="ui placeholder"&gt;
        &lt;div class="square image"&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="content"&gt;
      &lt;div class="ui placeholder"&gt;
        &lt;div class="header"&gt;
          &lt;div class="very short line"&gt;&lt;/div&gt;
          &lt;div class="medium line"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="paragraph"&gt;
          &lt;div class="short line"&gt;&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="extra content"&gt;
      &lt;div class="ui disabled primary button"&gt;Add&lt;/div&gt;
      &lt;div class="ui disabled button"&gt;Delete&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

`)
//
            
//
			</textarea>
		</div>
		<a id="_end_tryit6">
&nbsp;</a>
		<div id="tryit6-error" class="tryit-error"></div>
		<div id="tryit6-display" class="tryit-display rendered_html"></div>
	</div>	<div class="ui top attached label">
		<button id="tryit6-run" data-tooltip="Execute Script, (execute all previous first)" class="ui  yellow right labeled icon button exec">     <i class="caret square right icon"></i>Run</button> &nbsp; <button id="jump_tryit7" class="circular ui icon yellow button jump_next"><i class="icon angle double down"></i></button>
 &nbsp; <button class="circular ui icon button green jump_back"><i class="icon angle double up"></i></button>
 &nbsp; <button id="ra_6" data-tooltip="Execute all scripts above" class="ui right floated button circular icon green run_all"> <i class="fast backward icon"></i> </button>
 &nbsp; <button id="save_6" data-tooltip="Save all user modifications" class="ui right floated button circular icon green save_data"> <i class="save icon"></i> </button>
	</div>
</div>
<div id="controls">
    <div class="ui form">
          <div class="five fields">
              <div class="field">
                <label> Select Shape:</label>
              <select id="shape-selector">
                  <option value="Circle">Circle</option>
                  <option value="Rectangle">Rectangle</option>
                  <option value="Triangle">Triangle</option>
                  <option value="Ellipse">Ellipse</option>
              </select>
              </div>

              <div class="field">
                  <label> Add Shape</label>
                  <button class="ui button" id="add">Add</button>
              </div>

              <div class="field">
                  <label> Undo last</label>
                  <button class="ui button" id="undo" disabled>Undo</button>
              </div>

              <div class="field"> 
                  <label> Redo Last</label>
                  <button class="ui button" id="redo" disabled>Redo</button>
              </div>

              <div class="field"> 
                  <label>Save JSON data</label>
                  <button class="ui button" id="data">Show JSON</button>
              </div>
          </div>
      <div>For start a connection start a drag from any shape while <div class="field">ALT key is pressed.</div>
</div>
<div id="diagram"></div>

<br/><br/></div> <!---  Diagram Generator  @@END_PAGE@@ -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
  <script>
    $('.activating.element').popup({inline: true, });
    $('.ui.accordion').accordion();
    $('.ui.dropdown.item').dropdown({on: 'hover'});
    function toggle() {
      $('.ui.sidebar').sidebar('toggle');
    }
  </script> 
       </div>
     </div>
  </div>

</body></html>